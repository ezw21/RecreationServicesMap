System.register(["jimu-core","jimu-ui","jimu-ui/advanced/setting-components","jimu-arcgis","jimu-for-builder","jimu-ui/advanced/map"],(function(t){var e,s,i,o,n,a;return{setters:[function(t){e=t},function(t){s=t},function(t){i=t},function(t){o=t},function(t){n=t},function(t){a=t}],execute:function(){t(function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=486)}({0:function(t,s){t.exports=e},1:function(t,e){t.exports=s},10:function(t,e){t.exports=n},103:function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var i=s(0),o=s(1),n=s(47);const a=s(81);class r extends i.React.PureComponent{constructor(t){super(t),this.onCoordinateChange=t=>{this.setState({addDefaultCoordinate:t.target.value},()=>{const t=this.props.supportedFormats.find(t=>t.name===this.state.addDefaultCoordinate);this.setState({coordinateLabel:t.label}),this.resetToDefaultPattern(this.state.addDefaultCoordinate)})},this.onFormatLabelChange=t=>{this.setState({coordinateLabel:t.trim()})},this.onFormatChange=t=>{this.setState({currentPattern:t.trim()})},this.onResetButtonClick=()=>{const t=this.state.addDefaultCoordinate;this.resetToDefaultPattern(t)},this.resetToDefaultPattern=t=>{const e=this.props.supportedFormats.find(e=>e.name===t);e&&this.setState({currentPattern:e.defaultPattern})},this.onOkButtonClicked=()=>{if("address"===this.state.addDefaultCoordinate){if(""===this.state.coordinateLabel)return}else if("address"!==this.state.addDefaultCoordinate&&(""===this.state.coordinateLabel||""===this.state.currentPattern))return;this.setState({isAddNewFormatPopperActive:!1}),this.props.onOkClick(this.state.addDefaultCoordinate,this.state.coordinateLabel,this.state.currentPattern,this.state.canAddAtTop),this.props.onClose()},this.onCancelButtonClicked=()=>{this.setState({isAddNewFormatPopperActive:!1}),this.props.onClose()},this.onCheckBoxChange=t=>{this.setState({canAddAtTop:t.target.checked})},this.nls=t=>this.props.intl&&this.props.intl.formatMessage?this.props.intl.formatMessage({id:t,defaultMessage:n.a[t]}):n.a[t],this.state={addDefaultCoordinate:this.props.supportedFormats[0].name,isAddNewFormatPopperActive:this.props.isOpen,coordinateLabel:this.props.supportedFormats[0].label,currentPattern:this.props.supportedFormats[0].currentPattern,canAddAtTop:!1}}render(){const t=i.css`
      .hidden{
        display: none;
      }

      .cursor-pointer {
        cursor: pointer;
      }

      .invalid-value {
        border: 1px solid red;
        box-shadow: 0 0 5px red;
      }
    `;return Object(i.jsx)("div",null,Object(i.jsx)(o.AlertPopup,{css:t,"aria-expanded":this.state.isAddNewFormatPopperActive,isOpen:this.state.isAddNewFormatPopperActive,onClickOk:this.onOkButtonClicked.bind(this),onClickClose:this.onCancelButtonClicked.bind(this),title:this.nls("addConversion")},Object(i.jsx)("table",{cellPadding:10},Object(i.jsx)("tbody",null,Object(i.jsx)("tr",null,Object(i.jsx)("td",null,Object(i.jsx)(o.Label,null,this.nls("defaultCoordinate"))),Object(i.jsx)("td",null,Object(i.jsx)(o.Select,{"aria-label":this.nls("defaultCoordinate"),name:"defaultCoords",value:this.state.addDefaultCoordinate,onChange:this.onCoordinateChange},this.props.supportedFormats&&this.props.supportedFormats.map((t,e)=>Object(i.jsx)(o.Option,{tabIndex:0,role:"option","aria-label":t.label,key:e,value:t.name},t.label))))),Object(i.jsx)("tr",null,Object(i.jsx)("td",null,Object(i.jsx)(o.Label,{className:"mt-2"},this.nls("coordinateLabel"))),Object(i.jsx)("td",null,Object(i.jsx)(o.TextInput,{role:"textbox","aria-label":this.nls("coordinateLabel"),className:""===this.state.coordinateLabel?"invalid-value":"",value:this.state.coordinateLabel,onAcceptValue:this.onFormatLabelChange}))),Object(i.jsx)("tr",{className:"address"===this.state.addDefaultCoordinate?"hidden":""},Object(i.jsx)("td",null,Object(i.jsx)(o.Label,null,this.nls("coordinateFormat"))),Object(i.jsx)("td",null,Object(i.jsx)(o.TextInput,{role:"textbox","aria-label":this.nls("coordinateFormat"),className:""===this.state.currentPattern?"invalid-value":"",value:this.state.currentPattern,onAcceptValue:this.onFormatChange})),Object(i.jsx)("td",null,Object(i.jsx)(o.Button,{role:"button","aria-label":this.nls("resetFormat"),title:this.nls("resetFormat"),size:"sm",icon:!0,type:"tertiary",className:"reset-button ml-2",onClick:this.onResetButtonClick.bind(this)},Object(i.jsx)(o.Icon,{icon:a,size:"16"})))),Object(i.jsx)("tr",null,Object(i.jsx)("td",{colSpan:3},Object(i.jsx)(o.Label,{className:"cursor-pointer"},Object(i.jsx)(o.Checkbox,{className:"mr-2 font-13",checked:this.state.canAddAtTop,onChange:this.onCheckBoxChange.bind(this),role:"checkbox","aria-label":this.nls("addConversionCheckboxLabel")}),this.nls("addConversionCheckboxLabel"))))))))}}},123:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M2 28h28a2 2 0 110 4H2a2 2 0 110-4zm8.025-3.239l-2.278.253a3.2 3.2 0 01-3.534-3.534l.253-2.278a6.403 6.403 0 011.835-3.819L17.913 3.771a5.332 5.332 0 117.542 7.542L13.843 22.925a6.395 6.395 0 01-3.819 1.835z"></path></svg>'},124:function(t,e){t.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 6.598L14.308.29a.991.991 0 011.402 1.402L9.402 8l6.308 6.308a.991.991 0 01-1.402 1.402L8 9.402 1.692 15.71A.991.991 0 01.29 14.308L6.598 8 .29 1.692A.991.991 0 011.692.29L8 6.598z" fill="#000" fill-rule="nonzero"></path></svg>'},2:function(t,e){t.exports=i},245:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgOCA4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0nIzI4MjgyOCc+DQogICAgPHBhdGggZD0iTTMuNSAzLjV2LTNhLjUuNSAwIDAxMSAwdjNoM2EuNS41IDAgMDEwIDFoLTN2M2EuNS41IDAgMDEtMSAwdi0zaC0zYS41LjUgMCAwMTAtMWgzeiIgZmlsbC1ydWxlPSJldmVub2RkIj48L3BhdGg+DQo8L3N2Zz4="},4:function(t,e){t.exports=o},45:function(t,e){t.exports=a},47:function(t,e,s){"use strict";e.a={selectMapWidgetLabel:"Select a map",inputSettingsLabel:"Input settings",outputSettingsLabel:"Output settings",addressSettingsLabel:"Address settings",generalSettingsLabel:"General settings",defaultCoordinate:"Default coordinate",format:"Format",resetFormat:"Reset format",coordinateLabel:"Label",coordinateFormat:"Format",address:"Address",basemap:"Basemap",dd:"DD",ddm:"DDM",dms:"DMS",mgrs:"MGRS",usng:"USNG",utm:"UTM",xy:"Long-Lat",addNewLabels:"Add new labels",addConversion:"Add Conversion",deleteLabel:"delete",addConversionCheckboxLabel:"Add new conversion at the top of the list",editOutputFormats:"Edit output formats",locatorServiceLabel:"Set locator",minCandidateScore:"Minimum candidate score",invalidLocatorServiceURL:"Please enter valid geocode service url",alertPopupTitle:"Select geocode service",locationSymbol:"Location symbol",symbolLocationHint:"Hint: Symbol for current coordinate location",zoomScale:"Zoom scale"}},486:function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return R}));var i=s(0),o=s(2),n=s(10),a=s(47);function r(t){return i.css`
    .layer-item-panel{
      .setting-header {
        padding: ${i.polished.rem(10)} ${i.polished.rem(16)} ${i.polished.rem(0)} ${i.polished.rem(16)}
      }
      .setting-title {
        font-size: ${i.polished.rem(16)};
        .layer-item-label{
          color: ${t.colors.palette.dark[600]};
        }
      }
      .setting-container {
        height: calc(100% - ${i.polished.rem(50)});
        overflow: auto;

        .title-desc{
          color: ${t.colors.palette.dark[200]};
        }
      }
    }

  `}function l(t){return i.css`
  .formatLabel {
    width: 194px;
  }

  .hidden {
    display: none;
  }
  `}function d(t){return i.css`
    .popupContents {
      width: 450px;
    }

    .invalidServiceURL {
      display: block;
    }

    .validServiceURL {
      display: none;
    }

    .locatorErrorMessage {
      padding-top: 5px;
      color: ${t.colors.danger};
      font-weight: bold;
    }

    .alertValidationContent{
      height: 42px;
    }
    `}var c=s(1);const p=s(81);class h extends i.React.PureComponent{constructor(t){super(t),this.nls=t=>this.props.intl.formatMessage({id:t,defaultMessage:a.a[t]}),this.componentDidMount=()=>{},this.onDefaultCoordsChange=t=>{this.setState({defaultCoords:t.target.value},()=>{this.resetToDefaultPattern(this.state.defaultCoords)})},this.onFormatChange=t=>{if(t&&t.target){const e=t.target.value;this.setState({defFormat:e},()=>{this.updateInputSettingsInConfig()})}},this.onResetButtonClick=()=>{const t=this.state.defaultCoords;this.resetToDefaultPattern(t)},this.resetToDefaultPattern=t=>{const e=this.props.allSupportedFormats.find(e=>e.name===t);e&&this.setState({defFormat:e.defaultPattern},()=>{this.updateInputSettingsInConfig()})},this.updateInputSettingsInConfig=()=>{this.props.onInputSettingsUpdated("inputSettings",{defaultCoordinate:this.state.defaultCoords,format:this.state.defFormat})},this.props.config&&(this.state={defaultCoords:this.props.config.defaultCoordinate,defFormat:this.props.config.format})}render(){return Object(i.jsx)("div",{style:{height:"100%",marginTop:"5px"}},Object(i.jsx)("div",{css:l(this.props.theme)},Object(i.jsx)(o.SettingRow,{label:this.nls("defaultCoordinate"),flow:"wrap"},Object(i.jsx)(c.Select,{"aria-label":this.nls("defaultCoordinate"),name:"defaultCoords",value:this.state.defaultCoords,onChange:this.onDefaultCoordsChange},this.props.allSupportedFormats.map((t,e)=>Object(i.jsx)(c.Option,{role:"option",tabIndex:0,"aria-label":t.label,key:e,value:t.name},t.label)))),Object(i.jsx)(o.SettingRow,{label:this.nls("format"),flow:"wrap",className:"address"===this.state.defaultCoords?"hidden":""},Object(i.jsx)("div",{className:"d-flex justify-content-between w-100 align-items-center"},Object(i.jsx)(c.TextInput,{role:"textbox","aria-label":this.nls("format"),className:"formatLabel",value:this.state.defFormat,onChange:this.onFormatChange}),Object(i.jsx)(c.Button,{title:this.nls("resetFormat"),className:"ml-2",icon:!0,type:"tertiary",size:"sm",onClick:this.onResetButtonClick.bind(this)},Object(i.jsx)(c.Icon,{icon:p,size:14}))))))}}const u=s(123);class g extends i.React.PureComponent{constructor(t){super(t),this.nls=t=>{const e=Object.assign({},a.a,c.defaultMessages);return this.props.intl&&this.props.intl.formatMessage?this.props.intl.formatMessage({id:t,defaultMessage:e[t]}):e[t]},this.componentDidMount=()=>{this.renderTable(!0)},this.componentDidUpdate=t=>{this.isChange(t)&&(this._outputSettings=this.props.config)},this.isChange=t=>{let e=!1;return t.config.length>0&&t.config.some(t=>{this.props.config.some(s=>{if(t.name===s.name&&(t.currentPattern!==s.currentPattern||t.enabled!==s.enabled))return e=!0,!0})}),e},this.renderTable=t=>{this._rows=[];const e=[];let s=!0;this.props.allSupportedFormats.map((t,o)=>{const n=t.currentPattern,a=Object(i.jsx)("tr",{key:o},Object(i.jsx)("td",{className:"checkboxStyle"},Object(i.jsx)(c.Checkbox,{className:"cursor-pointer mr-2 font-13",checked:t.enabled,onChange:t=>{this.onCheckBoxChange(t,o)}})," "),Object(i.jsx)("td",{className:"coordinatesNotation"},t.label),Object(i.jsx)("td",{colSpan:2,className:"coordinatesFormat"},n));this._rows.push(a);const r={name:t.name,label:t.label,defaultPattern:t.defaultPattern,currentPattern:n,enabled:t.enabled,isCustom:t.isCustom};t.enabled||(s=!1),e.push(r)}),e.length>0&&this._outputSettings.length!==e.length&&(this._outputSettings=e),t&&this.props.onSettingsUpdate(this._outputSettings),this._isAllChecked=s},this.updateHeaderCheckBoxState=t=>{let e=!0;t.some(t=>{if(!t.enabled)return e=!1,!0}),this._isAllChecked=e},this.onHeaderCheckBoxChange=t=>{const e=this._outputSettings.map(e=>{var s=Object.assign({},e);return s.enabled=t,s});this.props.onSettingsUpdate(e),this._outputSettings=e},this.onCheckBoxChange=(t,e)=>{let s;this._outputSettings.some((i,o)=>{if(e===o)return s={name:i.name,label:i.label,defaultPattern:i.defaultPattern,currentPattern:i.currentPattern,enabled:t.target.checked,isCustom:i.isCustom},!0}),this.updateItem(e,s)},this.onEditButtonClick=()=>{this.props.onEditClick()},this._rows=[],this._isAllChecked=!1,this._outputSettings=[]}updateItem(t,e){t>-1&&(this._outputSettings=[...this._outputSettings.slice(0,t),Object.assign({},this._outputSettings[t],e),...this._outputSettings.slice(t+1)],this.props.onSettingsUpdate(this._outputSettings),this.updateHeaderCheckBoxState(this._outputSettings))}render(){return this.renderTable(),Object(i.jsx)("div",{css:(t=this.props.theme,i.css`

    .tableHeading {
      background-color: ${t.colors.palette.light[400]};
    }

    .tableBody {
      background-color : ${t.colors.palette.light[200]};
      word-break: break-word;
    }

    .checkboxStyle {
      width: 1px;
      padding: 8px 5px;
    }

    .coordinateHeaderLabel {
      font-size: 14px;
      padding: 0px 0px 9px 0px;
      max-width: 4rem;
    }

    .coordinateHeaderFormat {
      font-size: 14px;
      padding: 0px 0px 9px 12px;
      max-width: 4rem;
    }

    .coordinateHeaderEdit {
      padding: 0px 0px 9px 0px;
    }

    .coordinatesNotation {
      padding: 8px 0px;
    }

    .coordinatesFormat {
      padding: 9px 7px 9px 14px;
    }

    .hidden {
      display: none;
    }

    `),style:{height:"100%",width:"100%"}},Object(i.jsx)("div",{className:this._rows&&0===this._rows.length?"hidden":""},Object(i.jsx)(c.Table,null,Object(i.jsx)("thead",{className:"tableHeading"},Object(i.jsx)("tr",null,Object(i.jsx)("th",{className:"checkboxStyle"},Object(i.jsx)(c.Checkbox,{className:"cursor-pointer mr-2 font-13",checked:Boolean(!!this._isAllChecked),onChange:t=>{this.onHeaderCheckBoxChange(t.target.checked)}})),Object(i.jsx)("th",{className:"coordinateHeaderLabel text-truncate",title:this.nls("coordinateLabel")},this.nls("coordinateLabel")),Object(i.jsx)("th",{className:"coordinateHeaderFormat text-truncate",title:this.nls("coordinateFormat")},this.nls("coordinateFormat")),Object(i.jsx)("th",{className:"coordinateHeaderEdit"},Object(i.jsx)(c.Button,{"aria-label":this.nls("edit"),className:"ml-2",title:this.nls("edit"),size:"sm",icon:!0,type:"tertiary",onClick:this.onEditButtonClick.bind(this)},Object(i.jsx)(c.Icon,{icon:u,size:14}))))),Object(i.jsx)("tbody",{className:"tableBody"},this._rows))));var t}}const m=s(81),b=s(51);class S extends i.React.PureComponent{constructor(t){super(t),this.items=[],this.nls=t=>this.props.intl.formatMessage({id:t,defaultMessage:a.a[t]}),this.onCurrentPatternChange=t=>{this.state.currentPattern!==t&&this.setState({currentPattern:t},()=>{this.props.onPatternUpdate(this.props.index,this.props.config.name,this.state.currentPattern)})},this.onResetButtonClick=t=>{this.setState({currentPattern:this.props.config.defaultPattern},()=>{this.props.onPatternUpdate(this.props.index,this.props.config.name,this.state.currentPattern)})},this.onDeleteButtonClick=t=>{this.props.onDelete(this.props.index)},this.state={currentPattern:this.props.config.currentPattern}}render(){var t,e,s;return"address"===(null===(e=null===(t=this.props)||void 0===t?void 0:t.config)||void 0===e?void 0:e.name)?null:Object(i.jsx)(o.SettingRow,{flow:"wrap",label:this.props.config.label},Object(i.jsx)("div",{className:"d-flex justify-content-between w-100 align-items-center"},Object(i.jsx)(c.TextInput,{role:"textbox","aria-label":this.props.config.label,value:this.state.currentPattern,onAcceptValue:this.onCurrentPatternChange}),!(null===(s=this.props.config)||void 0===s?void 0:s.isCustom)&&Object(i.jsx)(c.Button,{"aria-label":this.nls("resetFormat"),title:this.nls("resetFormat"),className:"ml-2",icon:!0,type:"tertiary",size:"sm",onClick:this.onResetButtonClick.bind(this)},Object(i.jsx)(c.Icon,{icon:m,size:14})),this.props.config.isCustom&&Object(i.jsx)(c.Button,{"aria-label":this.nls("deleteLabel"),title:this.nls("deleteLabel"),className:"ml-2",icon:!0,type:"tertiary",size:"sm",onClick:this.onDeleteButtonClick.bind(this)},Object(i.jsx)(c.Icon,{icon:b,size:14}))))}}class x extends i.React.PureComponent{constructor(t){super(t),this.items=[],this.componentDidUpdate=t=>{this.isChange(t)&&this.setState({outputSettings:this.props.config})},this.isChange=t=>{let e=!1;return this.props.config.length!==t.config.length||(t.config.length>0&&t.config.some(t=>{this.props.config.some(s=>{if(t.name===s.name&&(t.currentPattern!==s.currentPattern||t.enabled!==s.enabled))return e=!0,!0})}),e)},this.updateItem=(t,e)=>{const s=t;s>-1&&this.setState({outputSettings:[...this.state.outputSettings.slice(0,s),Object.assign({},this.state.outputSettings[s],e),...this.state.outputSettings.slice(s+1)]},()=>{this.props.onSettingsUpdate(this.state.outputSettings)})},this.updateCurrentPattern=(t,e,s)=>{let i;this.state.outputSettings.some((o,n)=>{if(o.name===e&&n===t)return i={name:o.name,label:o.label,defaultPattern:o.defaultPattern,currentPattern:s,enabled:o.enabled,isCustom:o.isCustom},!0}),this.updateItem(t,i)},this.onDeleteClick=t=>{this.state.outputSettings.splice(t,1),this.props.onSettingsUpdate(this.state.outputSettings)},this.renderFormatList=()=>{this.items=[],this.props.config&&this.props.config.length>0&&this.props.config.map((t,e)=>{"address"!==t.name&&this.items.push(Object(i.jsx)(S,{intl:this.props.intl,index:e,key:e+Date.now(),config:t,onDelete:this.onDeleteClick.bind(this),onPatternUpdate:this.updateCurrentPattern}))})},this.state={outputSettings:this.props.config||[]}}render(){return this.renderFormatList(),Object(i.jsx)("div",{css:l(this.props.theme),style:{height:"100%"}},Object(i.jsx)(o.SettingSection,{className:"cursor-pointer"},this.items))}}var f=s(103);const j=s(124),C=s(245);class O extends i.React.PureComponent{constructor(t){super(t),this.sidePopperTrigger=i.React.createRef(),this.nls=t=>{const e=Object.assign({},a.a,i.defaultMessages);return this.props.intl&&this.props.intl.formatMessage?this.props.intl.formatMessage({id:t,defaultMessage:e[t]}):e[t]},this.componentDidUpdate=t=>{},this.onEditButtonClicked=()=>{this.setState({showOutputSettingsPopper:!this.state.showOutputSettingsPopper})},this.closeOutputSettingPopper=()=>{this.setState({showOutputSettingsPopper:!1})},this.onSettingsUpdate=t=>{this.setState({outputSettingsTable:t,newAddedConversions:t}),this.props.onOutputSettingsUpdated("outputSettings",t)},this.onAddClick=()=>{this.setState({isAddConversionPopupOpen:!0})},this.addNewConversion=(t,e,s,i)=>{const o={name:t,label:e,defaultPattern:s,currentPattern:s,enabled:!0,isCustom:!0};i?this.setState({newAddedConversions:[o,...this.state.newAddedConversions]},()=>{this.setState({outputSettingsTable:this.state.newAddedConversions}),this.props.onOutputSettingsUpdated("outputSettings",this.state.newAddedConversions)}):this.setState({newAddedConversions:[...this.state.newAddedConversions,o]},()=>{this.setState({outputSettingsTable:this.state.newAddedConversions}),this.props.onOutputSettingsUpdated("outputSettings",this.state.newAddedConversions)})},this.onAddPopperClose=()=>{this.setState({isAddConversionPopupOpen:!1})},this.state={newAddedConversions:this.props.config.length>0?this.props.config:this.props.allSupportedFormats,isAddConversionPopupOpen:!1,showOutputSettingsPopper:!1,outputSettingsTable:null}}render(){var t,e;return Object(i.jsx)("div",{css:(e=this.props.theme,i.css`
  .add-conversion{
    height: ${i.polished.rem(40)};
    width: 100%;
    color: ${e.colors.palette.primary[700]};
    font-size: ${i.polished.rem(14)};
    cursor: pointer;
    &:hover{
      .add-conversion-icon-container{
        background-color: ${e.colors.palette.primary[800]};
      }
      color: ${e.colors.palette.primary[800]};
    }
    .add-conversion-icon-container{
      width: 20px;
      height: 20px;
      background-color: ${e.colors.palette.primary[700]};
      border-radius: 10px;
    }
    .add-conversion-icon{
      color: ${e.colors.palette.light[300]};
    }
  }
  `),style:{height:"100%",width:"100%",marginTop:"5px"}},Object(i.jsx)(o.SettingRow,null,Object(i.jsx)("div",{title:this.nls("addNewLabels"),className:" d-flex align-items-center add-conversion",onClick:this.onAddClick.bind(this)},Object(i.jsx)("div",{className:"add-conversion-icon-container d-flex align-items-center justify-content-center mr-2"},Object(i.jsx)(c.Icon,{icon:C,size:12})),Object(i.jsx)("div",{className:"text-truncate flex-grow-1"},this.nls("addNewLabels")))),this.state.newAddedConversions&&Object(i.jsx)("div",{ref:this.sidePopperTrigger},Object(i.jsx)(g,{allSupportedFormats:this.state.newAddedConversions,intl:this.props.intl,theme:this.props.theme,config:this.props.config,onEditClick:this.onEditButtonClicked.bind(this),onSettingsUpdate:this.onSettingsUpdate.bind(this)})),Object(i.jsx)(o.SidePopper,{isOpen:this.state.showOutputSettingsPopper,position:"right",toggle:this.closeOutputSettingPopper.bind(this),trigger:null===(t=this.sidePopperTrigger)||void 0===t?void 0:t.current},Object(i.jsx)("div",{className:"w-100 h-100",css:r(this.props.theme)},Object(i.jsx)("div",{className:"w-100 h-100 layer-item-panel"},Object(i.jsx)("div",{className:"w-100 d-flex align-items-center justify-content-between setting-header setting-title pb-2"},Object(i.jsx)("h5",{tabIndex:0,title:this.nls("editOutputFormats"),className:"text-truncate layer-item-label mt-2"},this.nls("editOutputFormats")),Object(i.jsx)(c.Button,{role:"button","aria-label":this.nls("close"),className:"ml-2",icon:!0,type:"tertiary",size:"sm",onClick:this.closeOutputSettingPopper.bind(this)},Object(i.jsx)(c.Icon,{icon:j,size:16}))),Object(i.jsx)("div",{className:"setting-container"},Object(i.jsx)(x,{intl:this.props.intl,theme:this.props.theme,config:this.state.outputSettingsTable,onSettingsUpdate:this.onSettingsUpdate.bind(this)}))))),this.state.isAddConversionPopupOpen&&this.props.allSupportedFormats&&this.props.allSupportedFormats.length>0&&Object(i.jsx)(f.a,{supportedFormats:this.props.allSupportedFormats.filter(t=>"address"!==t.name),theme:this.props.theme,intl:this.props.intl,isOpen:this.state.isAddConversionPopupOpen,onOkClick:this.addNewConversion.bind(this),onClose:this.onAddPopperClose.bind(this)}))}}var v=function(t,e,s,i){return new(s||(s=Promise))((function(o,n){function a(t){try{l(i.next(t))}catch(t){n(t)}}function r(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,r)}l((i=i.apply(t,e||[])).next())}))};const w=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/;class y extends i.React.PureComponent{constructor(t){super(t),this.geocodeTextBox=i.React.createRef(),this.nls=t=>this.props.intl.formatMessage({id:t,defaultMessage:a.a[t]}),this.componentDidMount=()=>{this.props.onAddressSettingsUpdated("geocodeServiceUrl",this.state.geocodeLocatorUrl)},this.onSetLocatorClicked=()=>{this.setState({isAlertPopupOpen:!0,isInvalidValue:!1},()=>{setTimeout(()=>{const t=window.jimuUA.browser?(window.jimuUA.browser.name+"").toLowerCase():"";"chrome"===t||"microsoft edge"===t?(this.geocodeTextBox.current.selectionStart=this.geocodeTextBox.current.selectionEnd=0,this.geocodeTextBox.current.focus()):(this.props.isRTL||(this.geocodeTextBox.current.selectionStart=this.geocodeTextBox.current.selectionEnd=0),this.geocodeTextBox.current.focus())},1e3)}),setTimeout(()=>{const t=this.state.geocodeLocatorUrl;this.geocodeTextBox.current.value=t},500)},this.onCandidateScoreChange=t=>{this.setState({candidateScoreInput:t}),this.props.onAddressSettingsUpdated("minCandidateScore",t)},this.onAlertOkButtonClicked=()=>{""!==this.geocodeTextBox.current.value&&(this.state.isInvalidValue||(this.setState({geocodeLocatorUrl:this.geocodeTextBox.current.value}),this.props.onAddressSettingsUpdated("geocodeServiceUrl",this.geocodeTextBox.current.value),this.onAlertCloseButtonClicked()))},this.onAlertCloseButtonClicked=()=>{this.setState({isAlertPopupOpen:!1})},this.onInputChange=()=>{let t=!1;this._validateGeocodeService().then(e=>{t=!!e,this.setState({isInvalidValue:!t})})},this._validateGeocodeService=()=>v(this,void 0,void 0,(function*(){if(!this.geocodeTextBox.current.value||!w.test(this.geocodeTextBox.current.value))return!1;try{return yield fetch(this.geocodeTextBox.current.value+"?f=json").then(t=>t.json()).then(t=>!t.error)}catch(t){return!1}})),this.geocodeTextBox=i.React.createRef();let e="https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer";this.props.config&&this.props.config.geocodeServiceUrl?e=this.props.config.geocodeServiceUrl:this.props.portalSelf&&this.props.portalSelf.helperServices&&this.props.portalSelf.helperServices.geocode&&this.props.portalSelf.helperServices.geocode.length>0&&this.props.portalSelf.helperServices.geocode[0].url&&(e=this.props.portalSelf.helperServices.geocode[0].url);let s=100;this.props.config&&this.props.config.minCandidateScore&&(s=this.props.config.minCandidateScore),this.state={geocodeLocatorUrl:e,candidateScoreInput:s,isAlertPopupOpen:!1,isInvalidValue:!1}}render(){var t,e,s;return Object(i.jsx)("div",{style:{height:"100%",marginTop:"5px"}},Object(i.jsx)("div",{css:(s=this.props.theme,i.css`

  .locator-url {
    background-color: ${s.colors.palette.dark[200]};
    padding: 2px;
  }
  
  .locator-url label {
    word-break: break-all;
  }
   
  .candidateScoreInput {
    width: 105px;
  }
  `)},Object(i.jsx)(o.SettingRow,null,Object(i.jsx)(c.Button,{role:"button","aria-haspopup":"dialog",className:"w-100 text-dark",type:"primary",onClick:this.onSetLocatorClicked.bind(this)},this.nls("locatorServiceLabel"))),Object(i.jsx)(o.SettingRow,{className:"locator-url"},Object(i.jsx)(c.Label,{tabIndex:0,"aria-label":this.state.geocodeLocatorUrl},this.state.geocodeLocatorUrl)),Object(i.jsx)(o.SettingRow,{label:this.nls("minCandidateScore")},Object(i.jsx)(c.NumericInput,{"aria-label":this.nls("minCandidateScore"),className:"candidateScoreInput",min:0,max:100,defaultValue:this.state.candidateScoreInput,onChange:this.onCandidateScoreChange})),Object(i.jsx)(c.AlertPopup,{isOpen:this.state.isAlertPopupOpen,css:d(this.props.theme),onClickOk:this.onAlertOkButtonClicked.bind(this),onClickClose:this.onAlertCloseButtonClicked,title:this.props.intl?this.nls("alertPopupTitle"):""},Object(i.jsx)("div",{className:"popupContents"},Object(i.jsx)("div",{className:"alertValidationContent"},Object(i.jsx)(c.TextInput,{role:"textbox","aria-label":this.state.geocodeLocatorUrl,required:!0,className:this.state.isInvalidValue?"locaterUrlTextInput w-100 is-invalid":"locaterUrlTextInput w-100 is-valid",type:"text",ref:this.geocodeTextBox,value:(null===(e=null===(t=this.geocodeTextBox)||void 0===t?void 0:t.current)||void 0===e?void 0:e.value)?this.geocodeTextBox.current.value:this.state.geocodeLocatorUrl,onChange:this.onInputChange.bind(this)}),Object(i.jsx)("div",{className:this.state.isInvalidValue?"invalidServiceURL locatorErrorMessage":"validServiceURL"},this.nls("invalidLocatorServiceURL")))))))}}var P=s(45),k=s(4);class A extends i.React.PureComponent{constructor(t){super(t),this.handlePointSymbolChanged=t=>{this.setState({currentSymbol:t}),this.props.onPointSymbolChanged(t)},this.handlePolylineSymbolChanged=t=>{},this.handlePolygonSymbolChanged=t=>{},this.state={currentSymbol:this.props.symbol}}render(){return i.React.createElement("div",{style:{width:"370px"}},i.React.createElement(P.SymbolSelector,{intl:this.props.intl,symbol:this.state.currentSymbol,onPointSymbolChanged:this.handlePointSymbolChanged,onPolylineSymbolChanged:this.handlePolylineSymbolChanged,onPolygonSymbolChanged:this.handlePolygonSymbolChanged}))}}const L={type:"esriPMS",angle:0,xoffset:2,yoffset:8,contentType:"image/png",imageData:"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\t\t\t v+Tf38HMj5k7OWK5X8AAAAASUVORK5CYII=",url:"https://static.arcgis.com/images/Symbols/Basic/BlueShinyPin.png",height:24,width:24};class I extends i.React.PureComponent{constructor(t){super(t),this.jsonUtils=null,this.nls=t=>this.props.intl.formatMessage({id:t,defaultMessage:a.a[t]}),this.componentDidMount=()=>{let t=null;this.state.apiLoaded||Object(k.loadArcGISJSAPIModules)(["esri/symbols/support/jsonUtils"]).then(e=>{[this.jsonUtils]=e,t=this.props.config&&this.props.config.defaultPointSymbol?this.jsonUtils.fromJSON(this.props.config.defaultPointSymbol):this.jsonUtils.fromJSON(L),this.setState({apiLoaded:!0,defaultSymbol:t})})},this.onZoomScaleInputChange=t=>{this.setState({zoomScaleInput:t}),this.props.onGeneralSettingsUpdated("zoomScale",t)},this.showSymbolChooser=()=>{this.setState({isPanelOpened:!0})},this.onSymbolChange=t=>{this.updatedSymbol=t},this.onAlertOKButtonClicked=()=>{this.setState({defaultSymbol:this.updatedSymbol},()=>{this.props.onGeneralSettingsUpdated("defaultPointSymbol",this.updatedSymbol.toJSON())}),this.closeSymbolChooser()},this.closeSymbolChooser=()=>{this.setState({isPanelOpened:!1})};let e=5e4;this.props.config&&this.props.config.zoomScale&&(e=this.props.config.zoomScale),this.state={apiLoaded:!1,zoomScaleInput:e,isPanelOpened:!1,defaultSymbol:null},this.updatedSymbol=null}render(){return Object(i.jsx)("div",{style:{height:"100%",marginTop:"5px"}},Object(i.jsx)("div",{css:(this.props.theme,i.css`
  
  .hint label{
    font-style: italic;
  }

  .zoomScaleInput {
    width: 105px;
  }
  
  .symbolItem {
    cursor: pointer;
  }
  `)},Object(i.jsx)(o.SettingRow,{label:this.nls("locationSymbol"),flow:"wrap"},Object(i.jsx)("div",{className:"symbolItem",onClick:this.showSymbolChooser.bind(this)},Object(i.jsx)(P.SymbolItem,{symbol:this.state.defaultSymbol,isUsedForPreview:!0}))),Object(i.jsx)(o.SettingRow,{className:"hint",label:this.nls("symbolLocationHint")}),Object(i.jsx)(o.SettingRow,{label:this.nls("zoomScale")},Object(i.jsx)(c.Label,null,"1 :"),Object(i.jsx)(c.NumericInput,{"aria-label":this.nls("zoomScale"),className:"zoomScaleInput",defaultValue:this.state.zoomScaleInput,showHandlers:!1,onChange:this.onZoomScaleInputChange})),Object(i.jsx)(c.AlertPopup,{isOpen:this.state.isPanelOpened,onClickOk:this.onAlertOKButtonClicked.bind(this),onClickClose:this.closeSymbolChooser,title:this.props.intl?this.nls("locationSymbol"):""},Object(i.jsx)(A,{intl:this.props.intl,symbol:this.state.defaultSymbol,onPointSymbolChanged:this.onSymbolChange.bind(this)}))))}}class R extends n.BaseWidgetSetting{constructor(t){var e;super(t),this.CoordinateConversionViewModel=null,this.Format=null,this.outputSettingsObj=i.React.createRef(),this.nls=t=>this.props.intl.formatMessage({id:t,defaultMessage:a.a[t]}),this.componentDidMount=()=>{this.state.apiLoaded||Object(k.loadArcGISJSAPIModules)(["esri/widgets/CoordinateConversion/CoordinateConversionViewModel","esri/widgets/CoordinateConversion/support/Format"]).then(t=>{[this.CoordinateConversionViewModel,this.Format]=t,this.setState({apiLoaded:!0}),this.createCoordinateConversionViewModel()})},this.onMapWidgetSelected=t=>{this.props.onSettingChange({id:this.props.id,useMapWidgetIds:t})},this.onToggleInputSettings=()=>{this.setState({isInputSettingsOpen:!this.state.isInputSettingsOpen})},this.onToggleOutputSettings=()=>{this.setState({isOutputSettingsOpen:!this.state.isOutputSettingsOpen},()=>{this.outputSettingsObj&&this.outputSettingsObj.current&&!this.state.isOutputSettingsOpen&&this.outputSettingsObj.current.closeOutputSettingPopper()})},this.onToggleAddressSettings=()=>{this.setState({isAddressSettingsOpen:!this.state.isAddressSettingsOpen})},this.onToggleGeneralSettings=()=>{this.setState({isGeneralSettingsOpen:!this.state.isGeneralSettingsOpen})},this.updateInputSettings=(t,e)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.setIn([t],e)})},this.updateOutputSettings=(t,e)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.setIn([t],e)})},this.updateAddressSettings=(t,e)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.setIn(["addressSettings",t],e)})},this.updateGeneralSettings=(t,e)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.setIn(["generalSettings",t],e)})},this.state={supportedFormats:[],apiLoaded:!1,isInputSettingsOpen:!1,isOutputSettingsOpen:!1,isAddressSettingsOpen:!1,isGeneralSettingsOpen:!1,coordinateVM:null},this.isRTL=!1;const s=Object(i.getAppStore)().getState();this.isRTL=null===(e=null==s?void 0:s.appContext)||void 0===e?void 0:e.isRTL}createCoordinateConversionViewModel(){if(!this.state.coordinateVM){const t=new this.CoordinateConversionViewModel;t.watch("messages",()=>{setTimeout(()=>{const e=[],s={name:"address",label:this.nls("address"),defaultPattern:"",currentPattern:"",enabled:!0,isCustom:!1};e.push(s),t.formats.forEach(t=>{if("basemap"!==t.name){const s={name:t.name,label:this.nls(t.name),defaultPattern:t.defaultPattern,currentPattern:t.defaultPattern,enabled:!0,isCustom:!1};e.push(s)}}),e.sort((t,e)=>t.label.localeCompare(e.label)),this.setState({supportedFormats:e})},100)})}}render(){return Object(i.jsx)("div",{css:(this.props.theme,i.css`

    .widget-setting-coordinate-conversion {

      .cursor-pointer {
        cursor: pointer;
      }

      .map-selector-section .component-map-selector .form-control{
        width: 100%;
      }

      .selectOption {
        width: 227px;
      }
    }
  `)},Object(i.jsx)("div",{className:"widget-setting-coordinate-conversion"},Object(i.jsx)(o.SettingSection,{className:"map-selector-section"},Object(i.jsx)(o.SettingRow,null,Object(i.jsx)("div",{className:"text-truncate setting-text-level-0",title:this.nls("selectMapWidgetLabel")},this.nls("selectMapWidgetLabel"))),Object(i.jsx)(o.SettingRow,null,Object(i.jsx)(o.JimuMapViewSelector,{onSelect:this.onMapWidgetSelected.bind(this),useMapWidgetIds:this.props.useMapWidgetIds}))),Object(i.jsx)(o.SettingSection,null,Object(i.jsx)(o.SettingCollapse,{label:this.nls("inputSettingsLabel"),isOpen:this.state.isInputSettingsOpen,onRequestOpen:()=>this.onToggleInputSettings(),onRequestClose:()=>this.onToggleInputSettings()},Object(i.jsx)(o.SettingRow,{flow:"wrap"},Object(i.jsx)(h,{allSupportedFormats:this.state.supportedFormats,intl:this.props.intl,theme:this.props.theme,config:this.props.config.inputSettings,onInputSettingsUpdated:this.updateInputSettings})))),Object(i.jsx)(o.SettingSection,null,Object(i.jsx)(o.SettingCollapse,{label:this.nls("outputSettingsLabel"),isOpen:this.state.isOutputSettingsOpen,onRequestOpen:()=>this.onToggleOutputSettings(),onRequestClose:()=>this.onToggleOutputSettings()},Object(i.jsx)(o.SettingRow,{flow:"wrap"},this.state.supportedFormats&&this.state.supportedFormats.length>0&&Object(i.jsx)(O,{allSupportedFormats:this.state.supportedFormats,intl:this.props.intl,theme:this.props.theme,config:this.props.config.outputSettings.asMutable(),onOutputSettingsUpdated:this.updateOutputSettings,ref:this.outputSettingsObj})))),Object(i.jsx)(o.SettingSection,null,Object(i.jsx)(o.SettingCollapse,{label:this.nls("addressSettingsLabel"),isOpen:this.state.isAddressSettingsOpen,onRequestOpen:()=>this.onToggleAddressSettings(),onRequestClose:()=>this.onToggleAddressSettings()},Object(i.jsx)(o.SettingRow,{flow:"wrap"},Object(i.jsx)(y,{intl:this.props.intl,theme:this.props.theme,portalSelf:this.props.portalSelf,config:this.props.config.addressSettings,isRTL:this.isRTL,onAddressSettingsUpdated:this.updateAddressSettings})))),this.props.useMapWidgetIds&&this.props.useMapWidgetIds.length>0&&Object(i.jsx)(o.SettingSection,null,Object(i.jsx)(o.SettingCollapse,{label:this.nls("generalSettingsLabel"),isOpen:this.state.isGeneralSettingsOpen,onRequestOpen:()=>this.onToggleGeneralSettings(),onRequestClose:()=>this.onToggleGeneralSettings()},Object(i.jsx)(o.SettingRow,{flow:"wrap"},Object(i.jsx)(I,{intl:this.props.intl,theme:this.props.theme,config:this.props.config.generalSettings,onGeneralSettingsUpdated:this.updateGeneralSettings}))))))}}},51:function(t,e){t.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M7.745 7l4.1 4.1a.527.527 0 01-.745.746L7 7.746l-4.1 4.1a.527.527 0 01-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 01.746-.746l4.1 4.1 4.1-4.1a.527.527 0 01.746.746L7.746 7z" fill="#000"></path><path d="M1 1h12v12H1z"></path></g></svg>'},81:function(t,e){t.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.938 8A7 7 0 011.01 9H0a8.001 8.001 0 0015.938-1A8 8 0 001.02 3.98L1 .702a.5.5 0 10-1 .006L.031 5.9l5.128-.826a.5.5 0 00-.16-.987L1.819 4.6A7 7 0 0114.938 8z" fill="#000"></path></svg>'}}))}}}));