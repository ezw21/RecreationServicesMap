System.register(["jimu-core","jimu-ui","jimu-ui/advanced/setting-components","jimu-arcgis","jimu-for-builder","jimu-ui/advanced/style-setting-components","jimu-core/react","jimu-ui/advanced/resource-selector","jimu-ui/advanced/map"],(function(e){var t,i,a,o,s,I,g,l,n;return{setters:[function(e){t=e},function(e){i=e},function(e){a=e},function(e){o=e},function(e){s=e},function(e){I=e},function(e){g=e},function(e){l=e},function(e){n=e}],execute:function(){e(function(e){var t={};function i(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=503)}({0:function(e,i){e.exports=t},1:function(e,t){e.exports=i},10:function(e,t){e.exports=s},121:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 2c.291 0 .527.231.527.516v9.508L12.1 8.527a.535.535 0 01.746 0 .508.508 0 010 .73L8 14 3.154 9.257a.508.508 0 010-.73.535.535 0 01.746 0l3.573 3.497V2.516C7.473 2.231 7.709 2 8 2z" fill="#000" fill-rule="nonzero"></path></svg>'},17:function(e,t){e.exports=I},2:function(e,t){e.exports=a},214:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M14.861 28.79a32.812 32.812 0 01-.059-1.66 13.95 13.95 0 01.066-1.487c.457-4.408 2.954-8.178 6.713-7.036 1.489.452 2.112 1.334 2.886 3.153.103.242.153.361.199.466.284.656.48.986.679 1.167.995.904 1.918.925 2.516.052C29.258 21.403 30 18.816 30 16c0-7.732-6.268-14-14-14S2 8.268 2 16c0 7.366 5.688 13.403 12.912 13.958a41.86 41.86 0 00-.051-1.169zM16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16c0 3.154-.83 6.15-2.489 8.574-1.511 2.208-3.942 1.724-5.511.299-1.415-1.286-1.415-3.871-3-4.353-2.312-.702-3.854 2.55-4.142 5.329S17.579 32 16 32zm-7-8a3 3 0 110-6 3 3 0 010 6zm0-10a3 3 0 110-6 3 3 0 010 6zm7-6a2 2 0 11-.001-3.999A2 2 0 0116 8zm8 4a2 2 0 11-.001-3.999A2 2 0 0124 12z"></path></svg>'},215:function(e){e.exports=JSON.parse('{"templateType":"CARD","isTemplateConfirm":false,"isInitialed":false,"bookmarks":[],"initBookmark":false,"runtimeAddAllow":false,"autoPlayAllow":false,"autoInterval":3,"autoLoopAllow":true,"style":{"id":"default"},"direction":"HORIZON","pageStyle":"PAGING","space":10,"scrollBarOpen":true,"navigatorOpen":false,"transition":"None","transitionDirection":"H","displayType":"SELECTED","itemHeight":240,"itemWidth":240,"transitionInfo":{"transition":{"type":"None","direction":"H"},"effect":{"type":"None","option":{"direction":"TOP","configType":"DEFAULT"}},"oneByOneEffect":null,"previewId":null}}')},216:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 8c0-.291.231-.527.516-.527h9.508L8.527 3.9a.535.535 0 010-.746.508.508 0 01.73 0L14 8l-4.743 4.846a.508.508 0 01-.73 0 .535.535 0 010-.746l3.497-3.573H2.516A.522.522 0 012 8z" fill="#000" fill-rule="nonzero"></path></svg>'},217:function(e){e.exports=JSON.parse('{"widgetId":"widget_x","config":{"layouts":{"layout_4":{"type":"FIXED","content":{"0":{"type":"WIDGET","bbox":{"left":"3.5000%","right":"3.5000%","top":"2.0000%","bottom":"86.6241%","width":"93.0000%","height":"9.3759%"},"widgetId":"widget_6","setting":{"vCenter":false,"hCenter":false},"isPending":false},"1":{"type":"WIDGET","bbox":{"left":0,"right":0,"top":"12.8709%","bottom":0,"width":"100.0000%","height":"87.1094%"},"widgetId":"widget_7","setting":{"vCenter":false,"hCenter":false},"isPending":false}},"order":["0","1"],"label":"Regular"}},"widgets":{"widget_x":{"config":{"templateType":"CUSTOM1","isTemplateConfirm":false,"isInitialed":false,"bookmarks":[],"runtimeAddAllow":false,"autoPlayAllow":false,"autoInterval":3,"direction":"HORIZON","pageStyle":"PAGING","space":10,"scrollBarOpen":true,"navigatorOpen":false,"transition":"None","displayType":"SELECTED","runtimeUuid":"","itemHeight":240,"itemWidth":240},"layouts":{"REGULAR":{"LARGE":"layout_4"}}},"widget_6":{"uri":"widgets/common/text/","config":{"text":"","placeholder":"<p><span style=\\"font-size: 16px;\\">${textPlaceholder}</span></p>","style":{"verticalAlign":"start","wrap":true}}},"widget_7":{"uri":"widgets/common/image/","config":{"functionConfig":{"altText":"","toolTip":"","linkParam":{},"scale":"Fit","imageParam":{}},"styleConfig":{}}}},"views":{},"sections":{}}}')},218:function(e){e.exports=JSON.parse('{"widgetId":"widget_x","config":{"layouts":{"layout_79":{"type":"FIXED","content":{"0":{"type":"WIDGET","bbox":{"left":0,"right":0,"top":0,"bottom":"19.9574%","width":"100.0000%","height":"80.0426%"},"widgetId":"widget_2","setting":{}},"1":{"type":"WIDGET","bbox":{"left":"3.5000%","right":"3.5000%","top":"85.3310%","bottom":0,"width":"93.0000%","height":"13.9141%"},"widgetId":"widget_3","setting":{"vCenter":false,"hCenter":false},"isPending":false},"2":{"type":"WIDGET","bbox":{"left":"66.3645%","right":"4.2824%","top":"76.2567%","bottom":"16.6765%","width":"29.3531%","height":"7.8668%"},"widgetId":"widget_4","setting":{"vCenter":false,"hCenter":false},"isPending":false}},"order":["0","1","2"],"label":"Regular"}},"widgets":{"widget_x":{"config":{"templateType":"CUSTOM2","isTemplateConfirm":false,"isInitialed":false,"bookmarks":[],"runtimeAddAllow":false,"autoPlayAllow":false,"autoInterval":3,"direction":"HORIZON","pageStyle":"PAGING","space":10,"scrollBarOpen":true,"navigatorOpen":false,"transition":"None","displayType":"SELECTED","runtimeUuid":"","itemHeight":240,"itemWidth":240},"layouts":{"REGULAR":{"LARGE":"layout_79"}}},"widget_2":{"uri":"widgets/common/image/","config":{"functionConfig":{"altText":"","toolTip":"","linkParam":{},"scale":"Fit","imageParam":{}},"styleConfig":{}}},"widget_3":{"uri":"widgets/common/text/","config":{"text":"","placeholder":"<p><span style=\\"font-size: 16px;\\">${textPlaceholder}</span></p>","style":{"verticalAlign":"start","wrap":true}}},"widget_4":{"uri":"widgets/common/button/","config":{"functionConfig":{},"styleConfig":{"themeStyle":{"quickStyleType":"primary"},"useCustom":false,"customStyle":{"regular":{"iconProps":{"color":"#fff","size":14}},"hover":{"iconProps":{"size":14}}}}}}},"views":{},"sections":{}}}')},219:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8dGl0bGU+dGh1bWJuYWlsX2Jvb2ttYXJrX3RyYWRpdGlvbl9jYXJkPC90aXRsZT4NCiAgICA8ZyBpZD0iQm9va21hcmsiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iQ2hvb3NlLVRlbXBsYXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE5Ni4wMDAwMDAsIC0xOTMuMDAwMDAwKSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSJUaHVtYm5haWwvQm9va21hcmsvVHJhZGl0aW9uL0NhcmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExOTYuMDAwMDAwLCAxOTMuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGc+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMyODI4MjgiIHg9IjgiIHk9IjgiIHdpZHRoPSIyOCIgaGVpZ2h0PSIyOCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgc3Ryb2tlPSIjMjgyODI4IiB4PSI4LjUiIHk9IjU5LjUiIHdpZHRoPSIyNyIgaGVpZ2h0PSIyNyI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwIiB4PSIxNiIgeT0iNjciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aCIgZmlsbD0iIzUyNTI1MiIgcG9pbnRzPSIyOCA3My43NSAyMi43NSA3My43NSAyMi43NSA3OSAyMS4yNSA3OSAyMS4yNSA3My43NSAxNiA3My43NSAxNiA3Mi4yNSAyMS4yNSA3Mi4yNSAyMS4yNSA2NyAyMi43NSA2NyAyMi43NSA3Mi4yNSAyOCA3Mi4yNSI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiMyODI4MjgiIHg9IjQwIiB5PSI4IiB3aWR0aD0iMjgiIGhlaWdodD0iMjgiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIGZpbGw9IiMyODI4MjgiIHg9IjcyIiB5PSI4IiB3aWR0aD0iMjgiIGhlaWdodD0iMjgiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlRpdGxlLUNvcHktOSIgZmlsbD0iIzUyNTI1MiIgeD0iOCIgeT0iNDAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIzIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTE0IiBmaWxsPSIjMjgyODI4IiB4PSI4IiB5PSI1MCIgd2lkdGg9IjkyIiBoZWlnaHQ9IjEiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlRpdGxlLUNvcHktMTIiIGZpbGw9IiM1MjUyNTIiIHg9IjQwIiB5PSI0MCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjMiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlRpdGxlLUNvcHktMTMiIGZpbGw9IiM1MjUyNTIiIHg9IjcyIiB5PSI0MCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjMiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9ImltYWdlLTE0IiBmaWxsPSIjNTI1MjUyIiBwb2ludHM9IjIwLjcyNzc2MjggMjIuOTgxMTMyMSAyNC4yODU3MTQzIDE4IDMwIDI2IDE0IDI2IDE4LjU3MTQyODYgMjAuMjg1NzE0MyI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iaW1hZ2UtMTQtY29weSIgZmlsbD0iIzUyNTI1MiIgcG9pbnRzPSI1Mi43Mjc3NjI4IDIyLjk4MTEzMjEgNTYuMjg1NzE0MyAxOCA2MiAyNiA0NiAyNiA1MC41NzE0Mjg2IDIwLjI4NTcxNDMiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9ImltYWdlLTE0LWNvcHktMiIgZmlsbD0iIzUyNTI1MiIgcG9pbnRzPSI4NC43Mjc3NjI4IDIyLjk4MTEzMjEgODguMjg1NzE0MyAxOCA5NCAyNiA3OCAyNiA4Mi41NzE0Mjg2IDIwLjI4NTcxNDMiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},22:function(e,t){e.exports=g},220:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8dGl0bGU+dGh1bWJuYWlsX2Jvb2ttYXJrX3RyYWRpdGlvbl9saXN0PC90aXRsZT4NCiAgICA8ZyBpZD0iQm9va21hcmsiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iQ2hvb3NlLVRlbXBsYXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTMxNS4wMDAwMDAsIC0xOTMuMDAwMDAwKSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSJUaHVtYm5haWwvQm9va21hcmsvVHJhZGl0aW9uL0xpc3QiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMTUuMDAwMDAwLCAxOTMuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGc+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTkiIGZpbGw9IiM1MjUyNTIiIHg9IjI0IiB5PSIxMCIgd2lkdGg9IjUxIiBoZWlnaHQ9IjQiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlRpdGxlLUNvcHktMTgiIGZpbGw9IiM1MjUyNTIiIHg9IjI0IiB5PSI0MSIgd2lkdGg9IjY1IiBoZWlnaHQ9IjQiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlRpdGxlLUNvcHktMTYiIGZpbGw9IiM1MjUyNTIiIHg9IjI0IiB5PSIyNSIgd2lkdGg9Ijc2IiBoZWlnaHQ9IjQiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlRpdGxlLUNvcHktMTQiIGZpbGw9IiMyODI4MjgiIHg9IjgiIHk9IjU1IiB3aWR0aD0iOTMiIGhlaWdodD0iMSI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDY0LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTUiIHN0cm9rZT0iIzM2MzYzNiIgeD0iMC41IiB5PSIwLjUiIHdpZHRoPSI5MSIgaGVpZ2h0PSIxOSI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImFkZC1jb3B5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MS4wMDAwMDAsIDUuMDAwMDAwKSIgZmlsbD0iIzUyNTI1MiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlBhdGgiIHBvaW50cz0iMTAgNS42MjUgNS42MjUgNS42MjUgNS42MjUgMTAgNC4zNzUgMTAgNC4zNzUgNS42MjUgMCA1LjYyNSAwIDQuMzc1IDQuMzc1IDQuMzc1IDQuMzc1IDAgNS42MjUgMCA1LjYyNSA0LjM3NSAxMCA0LjM3NSI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTE1IiBmaWxsPSIjNTI1MjUyIiB4PSI4IiB5PSI4IiB3aWR0aD0iOCIgaGVpZ2h0PSI4Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTIwIiBmaWxsPSIjNTI1MjUyIiB4PSI4IiB5PSIzOSIgd2lkdGg9IjgiIGhlaWdodD0iOCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iVGl0bGUtQ29weS0xNyIgZmlsbD0iIzUyNTI1MiIgeD0iOCIgeT0iMjMiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},221:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIyN3B4IiBoZWlnaHQ9IjY5cHgiIHZpZXdCb3g9IjAgMCAyMjcgNjkiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogICAgPHRpdGxlPnRodW1ibmFpbF9ib29rbWFya19wcmVzZW50YXRpb25fZ2FsbGVyeV9oPC90aXRsZT4NCiAgICA8ZyBpZD0iQm9va21hcmsiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iQ2hvb3NlLVRlbXBsYXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE5Ni4wMDAwMDAsIC01NjYuMDAwMDAwKSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSJUaHVtYm5haWwvQm9va21hcmsvUHJlc2VudGF0aW9uL0dhbGxlcnlfSCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTE5Ni4wMDAwMDAsIDU2Ni4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8Zz4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzI4MjgyOCIgeD0iOCIgeT0iOCIgd2lkdGg9IjQ2IiBoZWlnaHQ9IjQ2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS03IiBmaWxsPSIjMjgyODI4IiB4PSI2MiIgeT0iOCIgd2lkdGg9IjQ2IiBoZWlnaHQ9IjQ2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS04IiBmaWxsPSIjMjgyODI4IiB4PSIxMTYiIHk9IjgiIHdpZHRoPSI0NiIgaGVpZ2h0PSI0NiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgc3Ryb2tlPSIjMjgyODI4IiB4PSIxNzIuNSIgeT0iOC41IiB3aWR0aD0iNDUiIGhlaWdodD0iNDUiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzAwMDAwMCIgb3BhY2l0eT0iMCIgeD0iMTg5IiB5PSIyNSIgd2lkdGg9IjEzIiBoZWlnaHQ9IjEzIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJQYXRoIiBmaWxsPSIjNTI1MjUyIiBwb2ludHM9IjIwMiAzMi4zMTI1IDE5Ni4zMTI1IDMyLjMxMjUgMTk2LjMxMjUgMzggMTk0LjY4NzUgMzggMTk0LjY4NzUgMzIuMzEyNSAxODkgMzIuMzEyNSAxODkgMzAuNjg3NSAxOTQuNjg3NSAzMC42ODc1IDE5NC42ODc1IDI1IDE5Ni4zMTI1IDI1IDE5Ni4zMTI1IDMwLjY4NzUgMjAyIDMwLjY4NzUiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlRpdGxlLUNvcHktOSIgZmlsbD0iIzUyNTI1MiIgeD0iOCIgeT0iNTgiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTQxIiBmaWxsPSIjNTI1MjUyIiB4PSI2MiIgeT0iNTgiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTQyIiBmaWxsPSIjNTI1MjUyIiB4PSIxMTYiIHk9IjU4IiB3aWR0aD0iMzIiIGhlaWdodD0iMyI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iaW1hZ2UtMTQiIGZpbGw9IiM1MjUyNTIiIHBvaW50cz0iMzAuNDA5NzAzNSAzMy4yMjY0MTUxIDM0Ljg1NzE0MjkgMjcgNDIgMzcgMjIgMzcgMjcuNzE0Mjg1NyAyOS44NTcxNDI5Ij48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJpbWFnZS0xNC1jb3B5LTQiIGZpbGw9IiM1MjUyNTIiIHBvaW50cz0iODQuNDA5NzAzNSAzMy4yMjY0MTUxIDg4Ljg1NzE0MjkgMjcgOTYgMzcgNzYgMzcgODEuNzE0Mjg1NyAyOS44NTcxNDI5Ij48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJpbWFnZS0xNC1jb3B5LTUiIGZpbGw9IiM1MjUyNTIiIHBvaW50cz0iMTM4LjQwOTcwNCAzMy4yMjY0MTUxIDE0Mi44NTcxNDMgMjcgMTUwIDM3IDEzMCAzNyAxMzUuNzE0Mjg2IDI5Ljg1NzE0MjkiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},222:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8dGl0bGU+dGh1bWJuYWlsX2Jvb2ttYXJrX3ByZXNlbnRhdGlvbl9zbGlkZV8wMTwvdGl0bGU+DQogICAgPGcgaWQ9IkJvb2ttYXJrIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IkNob29zZS1UZW1wbGF0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExOTYuMDAwMDAwLCAtMzI2LjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyBpZD0iVGh1bWJuYWlsL0Jvb2ttYXJrL1ByZXNlbnRhdGlvbi9TbGlkZV8wMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTE5Ni4wMDAwMDAsIDMyNi4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8Zz4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzI4MjgyOCIgeD0iOCIgeT0iOCIgd2lkdGg9IjkyIiBoZWlnaHQ9IjkyIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMzNjM2MzYiIHg9IjgiIHk9IjgiIHdpZHRoPSI5MiIgaGVpZ2h0PSIxOCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iVGl0bGUtQ29weS05IiBmaWxsPSIjNkE2QTZBIiB4PSIxMiIgeT0iMTIiIHdpZHRoPSI1MSIgaGVpZ2h0PSI0Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTI0IiBmaWxsPSIjNkE2QTZBIiB4PSIxMiIgeT0iMjAiIHdpZHRoPSI4NCIgaGVpZ2h0PSIyIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJpbWFnZS0xNCIgZmlsbD0iIzUyNTI1MiIgcG9pbnRzPSI1MS42MTQ1NTUzIDU1LjMzOTYyMjYgNTguMjg1NzE0MyA0NiA2OSA2MSAzOSA2MSA0Ny41NzE0Mjg2IDUwLjI4NTcxNDMiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlRpdGxlLUNvcHktMzMiIGZpbGw9IiM2QTZBNkEiIHg9IjEyIiB5PSI4OCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgcng9IjQiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzAwMDAwMCIgb3BhY2l0eT0iMCIgeD0iNDIiIHk9Ijg5IiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJQYXRoIiBmaWxsPSIjNkE2QTZBIiBwb2ludHM9IjQ3LjI1IDg5IDQ0Ljk5MjA4OTEgOTIgNDcuMjUgOTUgNDUuNzU3OTEwOSA5NSA0My41IDkyIDQ1Ljc1NzkxMDkgODkiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzAwMDAwMCIgb3BhY2l0eT0iMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjMuMDAwMDAwLCA5Mi4wMDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTYzLjAwMDAwMCwgLTkyLjAwMDAwMCkgIiB4PSI2MCIgeT0iODkiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlBhdGgiIGZpbGw9IiM2QTZBNkEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjYyNTAwMCwgOTIuMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC02Mi42MjUwMDAsIC05Mi4wMDAwMDApICIgcG9pbnRzPSI2NC41IDg5IDYyLjI0MjA4OTEgOTIgNjQuNSA5NSA2My4wMDc5MTA5IDk1IDYwLjc1IDkyIDYzLjAwNzkxMDkgODkiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlRpdGxlLUNvcHktMzYiIGZpbGw9IiM2QTZBNkEiIHg9Ijg4IiB5PSI4OCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgcng9IjQiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},223:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8dGl0bGU+dGh1bWJuYWlsX2Jvb2ttYXJrX3ByZXNlbnRhdGlvbl9zbGlkZV8wMjwvdGl0bGU+DQogICAgPGcgaWQ9IkJvb2ttYXJrIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IkNob29zZS1UZW1wbGF0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzMTYuMDAwMDAwLCAtMzI2LjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyBpZD0iVGh1bWJuYWlsL0Jvb2ttYXJrL1ByZXNlbnRhdGlvbi9TbGlkZV8wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMxNi4wMDAwMDAsIDMyNi4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8Zz4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzI4MjgyOCIgeD0iOCIgeT0iOCIgd2lkdGg9IjkyIiBoZWlnaHQ9IjM4Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTkiIGZpbGw9IiM1MjUyNTIiIHg9IjgiIHk9IjUyIiB3aWR0aD0iNTYiIGhlaWdodD0iNCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iVGl0bGUtQ29weS0zMyIgZmlsbD0iIzZBNkE2QSIgeD0iOCIgeT0iOTIiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIHJ4PSI0Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHg9IjQyIiB5PSI5MyIgd2lkdGg9IjYiIGhlaWdodD0iNiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aCIgZmlsbD0iIzZBNkE2QSIgcG9pbnRzPSI0Ny4yNSA5MyA0NC45OTIwODkxIDk2IDQ3LjI1IDk5IDQ1Ljc1NzkxMDkgOTkgNDMuNSA5NiA0NS43NTc5MTA5IDkzIj48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYzLjAwMDAwMCwgOTYuMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC02My4wMDAwMDAsIC05Ni4wMDAwMDApICIgeD0iNjAiIHk9IjkzIiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJQYXRoIiBmaWxsPSIjNkE2QTZBIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2Mi42MjUwMDAsIDk2LjAwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtNjIuNjI1MDAwLCAtOTYuMDAwMDAwKSAiIHBvaW50cz0iNjQuNSA5MyA2Mi4yNDIwODkxIDk2IDY0LjUgOTkgNjMuMDA3OTEwOSA5OSA2MC43NSA5NiA2My4wMDc5MTA5IDkzIj48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTM2IiBmaWxsPSIjNkE2QTZBIiB4PSI5MiIgeT0iOTIiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIHJ4PSI0Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTI0IiBmaWxsPSIjNTI1MjUyIiB4PSI4IiB5PSI2MiIgd2lkdGg9IjkyIiBoZWlnaHQ9IjIiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlRpdGxlLUNvcHktMjUiIGZpbGw9IiM1MjUyNTIiIHg9IjgiIHk9IjY4IiB3aWR0aD0iOTIiIGhlaWdodD0iMiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iVGl0bGUtQ29weS0yNiIgZmlsbD0iIzUyNTI1MiIgeD0iOCIgeT0iNzQiIHdpZHRoPSI5MiIgaGVpZ2h0PSIyIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTI5IiBmaWxsPSIjNTI1MjUyIiB4PSI4IiB5PSI4MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjIiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9ImltYWdlLTE0IiBmaWxsPSIjNTI1MjUyIiBwb2ludHM9IjUyLjcyNzc2MjggMjcuOTgxMTMyMSA1Ni4yODU3MTQzIDIzIDYyIDMxIDQ2IDMxIDUwLjU3MTQyODYgMjUuMjg1NzE0MyI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},224:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8dGl0bGU+dGh1bWJuYWlsX2Jvb2ttYXJrX3ByZXNlbnRhdGlvbl9zbGlkZV8wMzwvdGl0bGU+DQogICAgPGcgaWQ9IkJvb2ttYXJrIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IkNob29zZS1UZW1wbGF0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExOTYuMDAwMDAwLCAtNDQ2LjAwMDAwMCkiPg0KICAgICAgICAgICAgPGcgaWQ9IlRodW1ibmFpbC9Cb29rbWFyay9QcmVzZW50YXRpb24vU2xpZGVfMDMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExOTYuMDAwMDAwLCA0NDYuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGc+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMyODI4MjgiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iOCIgeT0iOCIgd2lkdGg9IjkyIiBoZWlnaHQ9IjkyIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiM0NDQ0NDQiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iOCIgeT0iODIiIHdpZHRoPSI5MiIgaGVpZ2h0PSIxOCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iVGl0bGUtQ29weS05IiBmaWxsPSIjNkE2QTZBIiB4PSIxMiIgeT0iODYiIHdpZHRoPSI1MSIgaGVpZ2h0PSI0Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTI0IiBmaWxsPSIjNkE2QTZBIiB4PSIxMiIgeT0iOTQiIHdpZHRoPSI4NCIgaGVpZ2h0PSIyIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJpbWFnZS0xNCIgZmlsbD0iIzUyNTI1MiIgZmlsbC1ydWxlPSJub256ZXJvIiBwb2ludHM9IjUxLjYxNDU1NTMgNDcuMzM5NjIyNiA1OC4yODU3MTQzIDM4IDY5IDUzIDM5IDUzIDQ3LjU3MTQyODYgNDIuMjg1NzE0MyI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjMDAwMDAwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIG9wYWNpdHk9IjAiIHg9IjEyIiB5PSI0NiIgd2lkdGg9IjgiIGhlaWdodD0iOCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aCIgZmlsbD0iIzZBNkE2QSIgZmlsbC1ydWxlPSJub256ZXJvIiBwb2ludHM9IjE5IDQ2IDE1Ljk4OTQ1MjEgNTAgMTkgNTQgMTcuMDEwNTQ3OSA1NCAxNCA1MCAxNy4wMTA1NDc5IDQ2Ij48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0ibm9uemVybyIgb3BhY2l0eT0iMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTIuMDAwMDAwLCA1MC4wMDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTkyLjAwMDAwMCwgLTUwLjAwMDAwMCkgIiB4PSI4OCIgeT0iNDYiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlBhdGgiIGZpbGw9IiM2QTZBNkEiIGZpbGwtcnVsZT0ibm9uemVybyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTEuNTAwMDAwLCA1MC4wMDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTkxLjUwMDAwMCwgLTUwLjAwMDAwMCkgIiBwb2ludHM9Ijk0IDQ2IDkwLjk4OTQ1MjEgNTAgOTQgNTQgOTIuMDEwNTQ3OSA1NCA4OSA1MCA5Mi4wMTA1NDc5IDQ2Ij48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTMzIiBmaWxsPSIjNkE2QTZBIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9IjEyIiB5PSIxMiIgd2lkdGg9IjgiIGhlaWdodD0iOCIgcng9IjQiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlRpdGxlLUNvcHktNDQiIGZpbGw9IiM2QTZBNkEiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iODQiIHk9Ijc2IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTQwIiBmaWxsPSIjNkE2QTZBIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9IjgxIiB5PSIxMiIgd2lkdGg9IjE1IiBoZWlnaHQ9IjgiIHJ4PSI0Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},225:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8dGl0bGU+dGh1bWJuYWlsX2Jvb2ttYXJrX2FkdmFuY2VkX3RlbXBsYXRlXzAxPC90aXRsZT4NCiAgICA8ZyBpZD0iQm9va21hcmsiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iQ2hvb3NlLVRlbXBsYXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE5Ni4wMDAwMDAsIC03MDIuMDAwMDAwKSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSJUaHVtYm5haWwvQm9va21hcmsvQWR2YW5jZWQvVGVtcGxhdGVfMDEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExOTYuMDAwMDAwLCA3MDIuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGc+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMyODI4MjgiIHg9IjgiIHk9IjgiIHdpZHRoPSI5MiIgaGVpZ2h0PSI5MiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjMzYzNjM2IiB4PSI4IiB5PSI4IiB3aWR0aD0iOTIiIGhlaWdodD0iMTgiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTExIiBmaWxsPSIjMzYzNjM2IiB4PSI4IiB5PSI4MyIgd2lkdGg9IjkyIiBoZWlnaHQ9IjE4Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTkiIGZpbGw9IiM2QTZBNkEiIHg9IjEyIiB5PSIxMiIgd2lkdGg9IjUxIiBoZWlnaHQ9IjQiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlRpdGxlLUNvcHktMjQiIGZpbGw9IiM2QTZBNkEiIHg9IjEyIiB5PSIyMCIgd2lkdGg9Ijg0IiBoZWlnaHQ9IjIiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9ImltYWdlLTE0IiBmaWxsPSIjNTI1MjUyIiBwb2ludHM9IjUxLjYxNDU1NTMgNTUuMzM5NjIyNiA1OC4yODU3MTQzIDQ2IDY5IDYxIDM5IDYxIDQ3LjU3MTQyODYgNTAuMjg1NzE0MyI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iVGl0bGUtQ29weS0zMyIgZmlsbD0iIzZBNkE2QSIgeD0iMTIiIHk9Ijg4IiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiByeD0iNCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iYXJyb3ctY3J1ZGUtbGVmdC1jb3B5LTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQyLjAwMDAwMCwgODkuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aCIgZmlsbD0iIzZBNkE2QSIgcG9pbnRzPSI1LjI1IDAgMi45OTIwODkwNyAzIDUuMjUgNiAzLjc1NzkxMDkzIDYgMS41IDMgMy43NTc5MTA5MyAwIj48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImFycm93LWNydWRlLWxlZnQtY29weS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2My4wMDAwMDAsIDkyLjAwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtNjMuMDAwMDAwLCAtOTIuMDAwMDAwKSB0cmFuc2xhdGUoNjAuMDAwMDAwLCA4OS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJQYXRoIiBmaWxsPSIjNkE2QTZBIiBwb2ludHM9IjUuMjUgMCAyLjk5MjA4OTA3IDMgNS4yNSA2IDMuNzU3OTEwOTMgNiAxLjUgMyAzLjc1NzkxMDkzIDAiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iVGl0bGUtQ29weS0zNiIgZmlsbD0iIzZBNkE2QSIgeD0iODgiIHk9Ijg4IiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiByeD0iNCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},226:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8dGl0bGU+dGh1bWJuYWlsX2Jvb2ttYXJrX2FkdmFuY2VkX3RlbXBsYXRlXzAyPC90aXRsZT4NCiAgICA8ZyBpZD0iQm9va21hcmsiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iQ2hvb3NlLVRlbXBsYXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTMxNi4wMDAwMDAsIC03MDIuMDAwMDAwKSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSJUaHVtYm5haWwvQm9va21hcmsvQWR2YW5jZWQvVGVtcGxhdGVfMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMTYuMDAwMDAwLCA3MDIuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGc+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMyODI4MjgiIHg9IjgiIHk9IjgiIHdpZHRoPSI5MiIgaGVpZ2h0PSI1NCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMTEiIGZpbGw9IiMzNjM2MzYiIHg9IjgiIHk9IjYyIiB3aWR0aD0iOTIiIGhlaWdodD0iMzkiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlRpdGxlLUNvcHktOSIgZmlsbD0iIzZBNkE2QSIgeD0iMTIiIHk9IjcyIiB3aWR0aD0iODQiIGhlaWdodD0iMyI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iVGl0bGUtQ29weS0xMSIgZmlsbD0iIzZBNkE2QSIgeD0iNzAiIHk9IjU3IiB3aWR0aD0iMjQiIGhlaWdodD0iMTAiIHJ4PSIxIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJUaXRsZS1Db3B5LTEwIiBmaWxsPSIjMjgyODI4IiB4PSI4IiB5PSI4MiIgd2lkdGg9IjkyIiBoZWlnaHQ9IjEiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9ImltYWdlLTE0IiBmaWxsPSIjNTI1MjUyIiBwb2ludHM9IjUxLjYxNDU1NTMgMzUuMzM5NjIyNiA1OC4yODU3MTQzIDI2IDY5IDQxIDM5IDQxIDQ3LjU3MTQyODYgMzAuMjg1NzE0MyI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iVGl0bGUtQ29weS0zMyIgZmlsbD0iIzZBNkE2QSIgeD0iMTIiIHk9Ijg4IiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiByeD0iNCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iYXJyb3ctY3J1ZGUtbGVmdC1jb3B5LTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQyLjAwMDAwMCwgODkuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aCIgZmlsbD0iIzZBNkE2QSIgcG9pbnRzPSI1LjI1IDAgMi45OTIwODkwNyAzIDUuMjUgNiAzLjc1NzkxMDkzIDYgMS41IDMgMy43NTc5MTA5MyAwIj48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImFycm93LWNydWRlLWxlZnQtY29weS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2My4wMDAwMDAsIDkyLjAwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtNjMuMDAwMDAwLCAtOTIuMDAwMDAwKSB0cmFuc2xhdGUoNjAuMDAwMDAwLCA4OS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJQYXRoIiBmaWxsPSIjNkE2QTZBIiBwb2ludHM9IjUuMjUgMCAyLjk5MjA4OTA3IDMgNS4yNSA2IDMuNzU3OTEwOTMgNiAxLjUgMyAzLjc1NzkxMDkzIDAiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iVGl0bGUtQ29weS0zNiIgZmlsbD0iIzZBNkE2QSIgeD0iODgiIHk9Ijg4IiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiByeD0iNCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},227:function(e,t){e.exports='<svg viewBox="0 0 16 14" xmlns="http://www.w3.org/2000/svg"><path d="M6 10.943l4 1.711V3.057L6 1.346v9.597zm-1 .17V1.494l-4 1.48v9.619l4-1.48zm6 1.393l4-1.48V1.407l-4 1.48v9.619zM0 14V2.307L5.75.18l4.528 1.937L16 0v11.693l-5.75 2.127-4.528-1.937L0 14z" fill="#000" fill-rule="nonzero"></path></svg>'},4:function(e,t){e.exports=o},44:function(e,t){e.exports=l},45:function(e,t){e.exports=n},503:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return S}));var a=i(0),o=i(10),s=i(2),I=i(1),g=i(4),l=i(45),n=i(6);const d=i(96);class r extends a.React.PureComponent{constructor(e){super(e),this.Graphic=null,this.GraphicsLayer=null,this.LayerList=null,this.Extent=null,this.Viewpoint=null,this.editLayer=null,this.formatMessage=(e,t)=>this.props.formatMessage(e,t),this.dataURLtoFile=(e,t)=>{for(var i=e.split(","),a=i[0].match(/:(.*?);/)[1],o=atob(i[1]),s=o.length,I=new Uint8Array(s);s--;)I[s]=o.charCodeAt(s);return new File([I],t,{type:a})},this.uploadSnapFile=(e,t,i)=>{const{id:s}=this.props,I=(new Date).getTime(),g=this.dataURLtoFile(e,`${s}-snap${t}-${I}`),l=(new Date).getTime().toString(),n=g.name,d=n+".jpg",r=g.size,c=g.type,C={file:g,fileName:d,originalName:n,type:a.ResourceType.Image,widgetId:s?s.replace(/\./g,"_").replace(/\-/g,"_"):null};let p;o.AppResourceManager.getInstance().getLocalCacheResourceUrl(C).then(e=>{p={fileName:d,originalName:n,url:e.blobUrl,type:a.ResourceType.Image,size:r,created:Number(l),resourcesPrefix:e.resourcesPrefix,fileFormat:c},i(p)},e=>{console.error(e)})},this.getLayersConfig=e=>{const t=(e,i)=>(e.map(e=>{var a;i[e.id]={layers:{}};const o=void 0===(null==e?void 0:e.visibility)&&!!(null==e?void 0:e.visible);i[e.id].visibility=o;const s=e.layers||e.sublayers||e.allSublayers;s&&s.length>0&&t(s,null===(a=i[e.id])||void 0===a?void 0:a.layers)}),i);return t(e,{})},this.showLayersConfig=(e,t,i=[],a=!1)=>{if(a)return;const o=(e,t)=>{e.map(e=>{var a,s,I;const g=!(i.findIndex(t=>t.id===e.id)>-1);e.visible=void 0===(null===(a=t[e.id])||void 0===a?void 0:a.visibility)?g:null===(s=t[e.id])||void 0===s?void 0:s.visibility;const l=e.layers||e.sublayers||e.allSublayers,n=null===(I=null==t?void 0:t[e.id])||void 0===I?void 0:I.layers;l&&l.length>0&&n&&Object.keys(n).length>0&&o(l.toArray(),n)})};o(e,t)},this.handleClickUpdate=()=>{this.isSaving=!0,this.state.currentDrawTool&&this.state.currentDrawTool.complete().then(()=>{this.isSaving=!1;const{currentJimuMapView:e,graphics:t}=this.state,{activeBookmarkId:i,jimuMapConfig:a}=this.props,o=a.bookmarks.find(e=>e.id===i),s=[n.f.Custom1,n.f.Custom2];this.setState({isShowDialog:!0,bookmarkActiveId:i,configUpdate:!1});const I=e.view,g=I.map.layers.toArray(),l=JSON.parse(JSON.stringify(I.map)).operationalLayers,d=[];g.map(e=>{for(const t in l){const i=l[t];if(e.id===i.id){d.push(e);break}}});const r=this.getLayersConfig(d),c=o.snapParam,C=g=>{const l={id:i,name:o.name,title:o.title,description:o.description,type:I.type,imgParam:o.imgParam,snapParam:g||c,imagePosition:o.imagePosition,imgSourceType:o.imgSourceType,extent:I.extent.toJSON(),viewpoint:I.viewpoint.toJSON(),graphics:t,showFlag:!0,mapViewId:e.id,mapDataSourceId:e.dataSourceId,layersConfig:r};s.includes(a.templateType)&&(l.layoutId=o.layoutId,l.layoutName=o.layoutName),this.props.onBookmarkUpdated(l)};o.imgSourceType===n.c.Snapshot?I.takeScreenshot().then(e=>{e.dataUrl&&this.uploadSnapFile(e.dataUrl,i,C)}):C()})},this.handleClickClose=e=>{var t,i;this.editLayer&&(null===(i=null===(t=this.state.currentDrawTool)||void 0===t?void 0:t.sketch)||void 0===i||i.cancel(),this.editLayer.destroy()),this.editLayer=new this.GraphicsLayer({id:"bmLayer",listMode:"hide",title:this.formatMessage("graphicLayer",{viewId:"view"}),elevationInfo:{mode:"relative-to-scene"}});const{configUpdate:a}=this.state;a&&!e?this.setState({closeConfirmOpen:!0}):(this.graphicsEditLayerCreated={},this.graphicsEditLayerId={},this.setState({isShowDialog:!1,viewEditable:!0}))},this.handleClickReset=()=>{this.showDialogAndEdit()},this.layerWatcher=(e,t)=>{const i=e=>{e.map(e=>{e.watch("visible",(function(e,i){e!==i&&t.setState({configUpdate:!0})}));const a=e.layers||e.sublayers||e.allSublayers;a&&a.length>0&&i(a.toArray())})};i(e)},this.addNewShowConfiger=e=>{const{currentJimuMapView:t}=this.state,i=[n.f.Custom1,n.f.Custom2];let o=void 0;if(e){if(!e.view)return;o=e.view}else{if(!t||!t.view)return;o=t.view}const s=this,{jimuMapConfig:g,id:l,tempLayoutType:d}=this.props,r=o.map.layers.toArray(),c=JSON.parse(JSON.stringify(o.map)).operationalLayers,C=[];r.map(e=>{for(const t in c){const i=c[t];if(e.id===i.id){C.push(e);break}}});const p=this.getLayersConfig(C),A=r=>{this.bookmarkId++;const c={id:this.bookmarkId,name:`${this.formatMessage("bookmarkName")}-${this.bookmarkId}`,title:`${this.formatMessage("bookmarkName")}-${this.bookmarkId}`,type:o.type,imgParam:{},snapParam:r||{},imagePosition:I.ImageFillMode.Fill,imgSourceType:n.c.Snapshot,extent:o.extent.toJSON(),viewpoint:o.viewpoint.toJSON(),graphics:[],showFlag:!0,mapViewId:(null==e?void 0:e.id)?null==e?void 0:e.id:null==t?void 0:t.id,mapDataSourceId:(null==e?void 0:e.dataSourceId)?null==e?void 0:e.dataSourceId:null==t?void 0:t.dataSourceId,layersConfig:p};if(i.includes(g.templateType)){let e;if(g.bookmarks&&g.bookmarks.length>0){const t=g.bookmarks.asMutable();e=t[t.length-1].layoutId}else{const t=Object(a.getAppStore)().getState().appStateInBuilder.appConfig;e=t.widgets[l].layouts[n.e.Regular][t.mainSizeMode]}const t=this.props.duplicateNewLayouts(e,l,"Bookmark-"+this.bookmarkId,`Bookmark-${this.bookmarkId}-label`,d);c.layoutName="Bookmark-"+this.bookmarkId,c.layoutId=t}const C=o.map.layers;(()=>{"2d"===o.type?o.watch("extent",(function(e){if(c&&"2d"!==c.type)return;const t=c&&c.extent&&JSON.parse(JSON.stringify(c.extent)),i=JSON.parse(JSON.stringify(e.toJSON()));a.lodash.isDeepEqual(t,i)?s.setState({configUpdate:!1}):s.setState({configUpdate:!0})})):o.watch("viewpoint",(function(e){if(c&&"3d"!==c.type)return;const t=c&&c.viewpoint&&JSON.parse(JSON.stringify(c.viewpoint)),i=JSON.parse(JSON.stringify(e.toJSON()));a.lodash.isDeepEqual(t,i)?s.setState({configUpdate:!1}):s.setState({configUpdate:!0})})),this.layerWatcher(C,s)})(),this.props.onAddNewBookmark(c)};setTimeout(()=>{o.takeScreenshot().then(e=>{e.dataUrl&&this.uploadSnapFile(e.dataUrl,this.bookmarkId+1,A)})},1e3);const h=(null==e?void 0:e.id)?null==e?void 0:e.id:null==t?void 0:t.id,m={id:this.bookmarkId,name:`${this.formatMessage("bookmarkName")}-${this.bookmarkId}`,title:`${this.formatMessage("bookmarkName")}-${this.bookmarkId}`,type:o.type,imgParam:{},imagePosition:I.ImageFillMode.Fill,imgSourceType:n.c.Snapshot,extent:o.extent.toJSON(),viewpoint:o.viewpoint.toJSON(),graphics:[],showFlag:!0,mapViewId:h,mapDataSourceId:(null==e?void 0:e.dataSourceId)?null==e?void 0:e.dataSourceId:null==t?void 0:t.dataSourceId,layersConfig:p};this.setState({graphics:[],bookmarkActiveId:this.bookmarkId,currentLayerViewId:h,configUpdate:!1,updateConfig:Object(a.Immutable)(m)})},this.showDialogAndEdit=e=>{const{activeBookmarkId:t,jimuMapConfig:i}=this.props,{updateConfig:o,viewGroup:s,editChangeView:I}=this.state;let{currentJimuMapView:g}=this.state;e&&(g=e);const l=o.asMutable({deep:!0});if(!g||!g.view)return;const{viewpoint:n,extent:d}=l,r=g.view,c=r.map.layers,C=this,p=i&&i.asMutable().bookmarks.find(e=>e.id===t),A=()=>{"2d"===r.type?r.watch("extent",(function(e){if(p&&"2d"!==p.type)return;const t=(null==p?void 0:p.extent)&&JSON.parse(JSON.stringify(p.extent)),i=JSON.parse(JSON.stringify(e.toJSON()));a.lodash.isDeepEqual(t,i)?C.setState({configUpdate:!1}):C.setState({configUpdate:!0})})):r.watch("viewpoint",(function(e){if(p&&"3d"!==p.type)return;const t=(null==p?void 0:p.viewpoint)&&JSON.parse(JSON.stringify(p.viewpoint)),i=JSON.parse(JSON.stringify(e.toJSON()));a.lodash.isDeepEqual(t,i)?C.setState({configUpdate:!1}):C.setState({configUpdate:!0})})),this.layerWatcher(c,C)},h=()=>{var e;if(g&&g.view){setTimeout(()=>{g&&g.view&&("3d"===g.view.type?g.view.goTo(this.Viewpoint.fromJSON(n)):g.view.goTo({extent:this.Extent.fromJSON(d)}))},1e3);const t=g.view.map.layers.toArray(),i=null===(e=JSON.parse(JSON.stringify(g.view.map)))||void 0===e?void 0:e.operationalLayers,a=g.dataSourceId!==l.mapDataSourceId;this.showLayersConfig(t,l.layersConfig,i,a);const o=l.graphics&&l.graphics.length>0;this.setState({graphics:o?l.graphics:[],currentLayerViewId:g.id,configUpdate:!1})}},m=i.bookmarks.find(e=>e.id===t),u=((null==s?void 0:s.jimuMapViews)?Object.keys(s.jimuMapViews):[]).findIndex(e=>e===(null==m?void 0:m.mapViewId))>-1;I&&u&&l&&g.dataSourceId!==l.mapDataSourceId?(s&&s.switchMap().then(()=>{h(),A()}),this.setState({editChangeView:!1})):(h(),A(),this.setState({editChangeView:!1}))},this.changeLayerWithGraphics=(e,t)=>{const i=t&&t.length>0;return this.editLayer&&this.editLayer.removeAll(),i&&t&&t.map(e=>{const t=this.Graphic.fromJSON(e);t.layer=this.editLayer,this.editLayer.add(t)}),this.editLayer},this.handleActiveViewChange=e=>{const{currentJimuMapView:t}=this.state;t&&t.id!==e.id&&this.setState({isSwitching:!0},()=>{this.setState({isSwitching:!1})}),this.setState({currentLayerViewId:e.id,currentJimuMapView:e,configUpdate:!0,viewEditable:!0})},this.handleExtentChanged=e=>{const{activeBookmarkId:t,jimuMapConfig:i}=this.props,o=i.bookmarks.find(e=>e.id===t);if(o&&"2d"!==o.type)return;const s=(null==o?void 0:o.extent)&&JSON.parse(JSON.stringify(o.extent)),I=JSON.parse(JSON.stringify(e.toJSON()));s&&!a.lodash.isDeepEqual(s,I)&&this.setState({configUpdate:!0})},this.handleViewPointChanged=e=>{const{activeBookmarkId:t,jimuMapConfig:i}=this.props,o=i.bookmarks.find(e=>e.id===t);if(o&&"3d"!==o.type)return;const s=(null==o?void 0:o.viewpoint)&&JSON.parse(JSON.stringify(o.viewpoint)),I=JSON.parse(JSON.stringify(e.toJSON()));s&&!a.lodash.isDeepEqual(s,I)&&this.setState({configUpdate:!0})},this.handleEditWhenOpen=e=>{const{isShowDialog:t}=this.state;t&&this.handleNewOrEdit(e)},this.getDialogStatus=()=>{const{isShowDialog:e}=this.state;return e},this.handleNewOrEdit=(e,t)=>{const{isShowDialog:i,viewEditable:a}=this.state;if(!a)return;const o=e?"edit":"new";e||this.setState({newFlag:!0}),i?this.setState({updateFlag:o,updateConfig:e,editChangeView:!!t},()=>{"new"===o?this.addNewShowConfiger():this.showDialogAndEdit()}):this.setState({isShowDialog:!0,updateFlag:o,updateConfig:e,viewEditable:!1,addWhenViewLoad:!t,editChangeView:!!t})},this.handleViewGroupCreate=e=>{this.setState({viewGroup:e})},this.handleJimuMapViewCreated=e=>{const{updateFlag:t,addWhenViewLoad:i,currentJimuMapView:a}=this.state,{activeBookmarkId:o,jimuMapConfig:s}=this.props,I=s&&s.bookmarks.find(e=>e.id===o);if("new"===t){if(a&&a.id!==e.id)return}else if(I&&I.mapViewId!==e.id)return;i&&(this.addNewShowConfiger(e),this.setState({addWhenViewLoad:!1})),"edit"===t&&this.showDialogAndEdit(e)},this.getDefalutSize=()=>{const e=this.querySelector(`div.widget-renderer[data-widgetid="${this.props.useMapWidgetIds[0]}"]`),t=document.querySelector("#default")?document.querySelector("#default").clientHeight-20:1080;let i={width:770,height:850},a={width:770,height:770};if(e){const o=e.getBoundingClientRect(),s=o.width/o.height||1;let I=1.1*o.width,g=1.1*o.height+111,l=1.1*o.width,n=1.1*o.height;I<770?(I=770,g=770/s+111,l=770,n=770/s):I>1080&&(I=1080,g=1080/s+111,l=1080,n=1080/s),g>t&&(g=t,I=(t-111)*s>770?(t-111)*s:770),n>t-111&&(n=t-111,l=(t-111)*s),i={width:I,height:g},a={width:l-2,height:n}}return{innerSize:i,innerMapSize:a}},this.getMapRatio=()=>{const e=this.querySelector(`div.widget-renderer[data-widgetid="${this.props.useMapWidgetIds[0]}"]`);let t=1;if(e){const i=e.getBoundingClientRect();t=i.width/i.height||1}return t},this.getWidgetPosition=()=>{const e=Object(a.getAppStore)().getState().appStateInBuilder.appContext.isRTL;let t={x:500,y:50};const{innerSize:i}=this.getDefalutSize();return t={x:e?260:document.body.clientWidth-i.width-260,y:50},t},this.onDrawToolCreatedCallback=e=>{this.setState({currentDrawTool:e})},this.toggleDrawTools=()=>{const{isDrawToolsOpen:e}=this.state;this.setState({isDrawToolsOpen:!e})},this.onDrawEndCallback=e=>{const{graphics:t}=this.state,i=e.toJSON();this.setState({configUpdate:!0,graphics:t.concat(i)})},this.onGraphicEditedCallback=e=>{const{graphics:t}=this.state,i=e.graphic.toJSON(),o=t.findIndex(e=>e.attributes.id===i.attributes.id),s=o>-1?t[o].geometry:{},I=i.geometry,g=o>-1?t[o].symbol:{},l=i.symbol;if(this.isSaving){if(a.lodash.isDeepEqual(s,I)&&a.lodash.isDeepEqual(g,l))return}else if(a.lodash.isDeepEqual(s,I)&&"modified"===e.type)return;if("deleted"===e.type)o>-1&&t.splice(o,1);else if("modified"===e.type&&o>-1){const e=t[o];t[o]=i,t[o].symbol=e.symbol}this.setState({configUpdate:!0,graphics:t})},this.onDrawToolClearedCallback=()=>{this.setState({configUpdate:!0,graphics:[]})},this.handleCloseOk=()=>{this.setState({isShowDialog:!1,closeConfirmOpen:!1,viewEditable:!0}),this.graphicsEditLayerCreated={},this.graphicsEditLayerId={}},this.handleCloseBtn=()=>{this.setState({closeConfirmOpen:!1})},this.getPoperStyle=e=>a.css`
      .popper-content {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        .popper-header {
          width: 100%;
          flex-shrink: 0;
          flex-grow: 0;
          cursor: move;
        }
        .map-container {
          width: 100%;
          height: 100%;
          background-color: gray;
          display: contents;
        }
        .popper-footer {
          background: ${e.colors.palette.light[300]};
          color: ${e.colors.palette.dark[600]};
          padding: ${a.polished.rem(8)} ${a.polished.rem(12)};
          .left-btn {
            position: absolute;
            margin: 6px;
          }
          .left-tool {
            position: absolute;
            left: 55px;
            z-index: 10;
          }
          .right-btn {
            height: 45px;
            padding: 6px 2px;
            .btn {
              min-width: 80px;
            }
          }
        }
      }
    `,this.resizeRatio=e=>{const t=this.querySelector("body").getBoundingClientRect(),{mapRatio:i}=this.state;let{width:a}=e;a>1080&&(a=1080);let o=a/i+111;o>t.height&&(o=t.height,a=(t.height-111)*i),this.setState({mapSize:{width:a,height:o}})},this.state={isShowDialog:!1,currentDrawTool:null,currentJimuMapView:null,graphics:[],apiLoaded:!1,isSwitching:!1,expand:!1,bookmarkActiveId:0,configUpdate:!1,updateFlag:"new",viewGroup:void 0,closeConfirmOpen:!1,mapSize:this.getDefalutSize().innerSize,mapRatio:this.getMapRatio(),isDrawToolsOpen:!0,viewEditable:!0,newFlag:!1,addWhenViewLoad:!1,editChangeView:!1},e.onShowBookmarkConfiger&&e.onShowBookmarkConfiger(this),this.bookmarkId=e.maxBookmarkId,this.layerList=null,this.graphicsEditLayerCreated={},this.graphicsEditLayerId={},this.isSaving=!1}componentDidMount(){this.state.apiLoaded||Object(g.loadArcGISJSAPIModules)(["esri/Graphic","esri/layers/GraphicsLayer","esri/widgets/LayerList","esri/geometry/Extent","esri/Viewpoint"]).then(e=>{[this.Graphic,this.GraphicsLayer,this.LayerList,this.Extent,this.Viewpoint]=e,this.editLayer=new this.GraphicsLayer({id:"bmLayer",listMode:"hide",title:this.formatMessage("graphicLayer",{viewId:"view"}),elevationInfo:{mode:"relative-to-scene"}}),this.setState({apiLoaded:!0})})}componentWillUnmount(){var e,t;this.editLayer&&(null===(t=null===(e=this.state.currentDrawTool)||void 0===e?void 0:e.sketch)||void 0===t||t.cancel(),this.editLayer.destroy())}querySelector(e){const t=document.querySelector(`iframe[name="${a.APP_FRAME_NAME_IN_BUILDER}"]`);if(t){return(t.contentDocument||t.contentWindow.document).querySelector(e)}return null}render(){var e;const{currentJimuMapView:t,isShowDialog:o,currentLayerViewId:s,isSwitching:g,configUpdate:n,closeConfirmOpen:r,isDrawToolsOpen:c,viewEditable:C,graphics:p,newFlag:A}=this.state,{title:h,theme:m}=this.props,u=this.props.useMapWidgetIds&&this.props.useMapWidgetIds[0],b=Object(a.getAppStore)().getState().appStateInBuilder.appConfig,j=Object(a.getAppStore)().getState().appStateInBuilder.appContext.isRTL;if(!b.widgets[u])return null;let w=b.widgets[u].useDataSources;if(A){const t=null===(e=b.widgets[u].config)||void 0===e?void 0:e.initialMapDataSourceID;(()=>w&&w.length>1&&t&&w[0].dataSourceId!==t)()&&(w=Object(a.Immutable)(w.asMutable({deep:!0}).reverse()))}const M=this.props.jimuMapConfig?this.props.jimuMapConfig.set("toolConifg",{canZoom:!0,canHome:!0,canSearch:!0,canCompass:!0,canLayers:!0}):Object(a.Immutable)({}),y=a.css`
      .header {
        background: ${m.colors.palette.light[300]};
        color: ${m.colors.palette.dark[600]};
        height: 50px;
        flex-shrink: 0;
        font-size: 1rem;
        font-weight: 500;
        .jimu-btn {
          color: ${m.colors.palette.dark[600]} !important;
        }
        & >.actions >.jimu-btn.action-close :hover {
          color: ${m.colors.black};
        }
      }
    `,{innerMapSize:S,innerSize:D}=this.getDefalutSize(),N=Object(a.jsx)(I.FloatingPanel,{onHeaderClose:()=>this.handleClickClose(),defaultPosition:this.getWidgetPosition(),headerTitle:h,size:D,minSize:{width:770,height:850},disableResize:!0,css:y,className:"surface-3",disableActivateOverlay:!0,dragBounds:"body"},Object(a.jsx)("div",{className:"rounded w-100 h-100",css:this.getPoperStyle(m),ref:e=>this.reference=e},Object(a.jsx)("div",{className:"popper-content"},Object(a.jsx)("div",{style:{width:S.width+"px",height:S.height+"px",margin:"0 auto"}},Object(a.jsx)("div",{className:"map-container"},Object(a.jsx)(l.JimuMap,{id:this.props.id+"editor",useDataSources:w,jimuMapConfig:M,onActiveViewChange:this.handleActiveViewChange,onExtentChanged:this.handleExtentChanged,onViewPointChanged:this.handleViewPointChanged,onViewGroupCreate:this.handleViewGroupCreate,onJimuMapViewCreated:this.handleJimuMapViewCreated}),r&&Object(a.jsx)("div",{css:a.css`
                      position: absolute;
                      z-index: 11;
                      top: 0;
                      left: 0;
                      background-color: ${a.polished.rgba(m.colors.palette.secondary[400],.65)};
                      width: ${D.width}px;
                      height: ${D.height}px;
                      .real-container {
                        background-color: ${m.colors.palette.light[300]};
                        border: 1px solid ${m.colors.palette.light[800]};
                        background-clip: padding-box;
                        width: 400px;
                        position: relative;
                        top: 50%;
                        margin: -60px auto 0;
                        padding: 30px;
                      }
                      .confirm-context {
                        .title-icon{
                          padding: 0 6px;
                        }
                        .title-label{
                          font-size: 1rem;
                        }
                      }
                      .confirm-footer {
                        display: flex;
                        justify-content: flex-end;
                        margin-top: 30px;
                        button {
                          cursor: pointer;
                          margin-left: ${a.polished.rem(10)};
                          min-width: ${a.polished.rem(80)};
                        }
                      }
                    `},Object(a.jsx)("div",{className:"real-container"},Object(a.jsx)("div",{className:"confirm-context d-flex align-items-start"},Object(a.jsx)("div",{className:"title-icon"},Object(a.jsx)(I.Icon,{icon:d,size:24,color:"var(--warning-600)"})),Object(a.jsx)("div",{className:"title-label"},this.formatMessage("confirmUnsave"))),Object(a.jsx)("div",{className:"confirm-footer"},Object(a.jsx)(I.Button,{type:"primary",onClick:this.handleCloseOk},this.formatMessage("yes")),Object(a.jsx)(I.Button,{onClick:this.handleCloseBtn},this.formatMessage("cancel"))))))),Object(a.jsx)("div",{className:"popper-footer"},Object(a.jsx)("div",{className:"left-btn"},Object(a.jsx)(I.Button,{icon:!0,type:"tertiary",onClick:this.toggleDrawTools},Object(a.jsx)(I.Icon,{css:a.css`
                      ${j&&"transform: scaleX(-1);"}
                    `,icon:i(c?65:214),className:"mr-1",size:16}))),Object(a.jsx)("div",{className:"left-tool"},t&&t.view&&!g&&c&&this.editLayer&&Object(a.jsx)(l.Draw,{jimuMapView:t,onDrawToolCreated:this.onDrawToolCreatedCallback,onDrawEnd:this.onDrawEndCallback,onGraphicEdited:this.onGraphicEditedCallback,onDrawToolCleared:this.onDrawToolClearedCallback,layer:this.changeLayerWithGraphics(s,p),creationMode:"continuous"})),Object(a.jsx)("div",{className:"float-right right-btn"},Object(a.jsx)(I.Button,{className:"mr-2",type:"primary",onClick:this.handleClickUpdate,disabled:!n,"data-testid":"popperSaveBtn"},n?this.formatMessage("save"):this.formatMessage("saved")),Object(a.jsx)(I.Button,{className:"mr-1",onClick:this.handleClickReset,disabled:!n},this.formatMessage("reset")))))));return Object(a.jsx)("div",{className:"w-100"},Object(a.jsx)(I.Button,{className:"w-100 text-dark map-popper-btn",type:"primary",disabled:!C,onClick:()=>this.handleNewOrEdit()},this.props.buttonLabel),o&&N)}}var c={chooseTemplateTip:"Select a template",simpleTemplateTip:"Allows you to easily configure bookmarks based on a unique template",advancedTemplateTip:"Provides you the flexibility to create your own bookmark design",resettingTheTemplate:"Select another template ",customBookmarkDesign:"or customize your bookmark design",selectMapWidget:"Select a Map widget",addBookmark:"Add bookmark",setBookmarkView:"Set bookmark view",autoPlayAllow:"Auto play",runtimeAddAllow:"Allow to add bookmarks in widget",autoLoopAllow:"Loop",displayFromWeb:"Display bookmarks from web map",autoInterval:"Interval",hideFromWidget:"Hide",showFromWidget:"Show",confirmHeaderText:"Delete bookmark",deleteRemind:"Are you sure you want to delete this bookmark?",changeRemind:"Switching from the custom template to other template will lose the custom style you configured.",simple:"Simple",arrangement:"Arrangement",pagingStyle:"Paging style",scroll:"Scroll",paging:"Paging",scrollBar:"Scroll bar",navigator:"Navigator",horizontalSpacing:"Horizontal spacing",verticalSpacing:"Vertical spacing",galleryDirection:"Direction",drawingDisplay:"Bookmark drawing display",displayAll:"Display all bookmark drawings",displaySelected:"Only display the current bookmark drawings",confirmUnsave:"You have unsaved changes, do you want to close?",imagePosition:"Image Position",itemHeight:"Item height",itemWidth:"Item width",customTips:"To config the bookmark content using advanced template, please select each component on canvas. For example click on image to access image settings.",buttonText:"Button",textPlaceholder:"Double click to edit text",typeCard:"Card",typeList:"List",typeGallery:"Gallery",slideOne:"Slide1",slideTwo:"Slide2",slideThree:"Slide3",customOne:"Custom1",customTwo:"Custom2",bookmarkName:"Bookmark",save:"Save",saved:"Saved",imageSnapshot:"Snapshot",changeBookmarkView:"Change the bookmark view",imageSource:"Image source",graphicLayer:"Bookmark graphics layer-{viewId}",initBookmark:"Active on loading",initBookmarkTips:"Initialize the first bookmark on the map automatically when the bookmark widget is loaded. If not checkedbookmark will not be activated until manually clicked or navigated to.",switchRemind:"Switching the connected Map widget will clear all saved bookmarks with the current map.",bookmarkConfirmTitle:"Do you want to continue?",changeConfirmTitle:"Are you sure you want to change the template?"},C=i(44),p=i(22),A=i(17);function h(e){return a.css`
    &.jimu-widget-bookmark-setting{
      .collapse-btn {
        margin-left: auto;
      }
      .resetting-template {
        cursor: pointer;
        color: ${e.colors.palette.primary[700]};
      }
      .resetting-template:hover {
        cursor: pointer;
        color: ${e.colors.palette.primary[800]};
      }
      .bookmark-setting {
        display: flex;
        flex-direction: column;
        height: 100%;
        .bookmark-setting-flex {
          flex: 1;
        }
      }
      .setting-bookmark-list {
        width: 100%;
        display: flex;
        margin-bottom: ${a.polished.rem(4)};
        justify-content: space-between;
        .bookmark-edit-input {
          padding: 3px 0;
        }
        .input-wrapper {
          input {
            font-size: 16px;
          }
        }
        .has-focus {
          .input-wrapper {
            background-color: ${e.colors.white};
          }
        }
      }
      .setting-bookmark-list:hover {
        cursor: pointer;
        background: ${e.colors.secondary};
        border-left: 2px solid ${e.colors.primary};
      }
      .active-mark {
        background: ${e.colors.secondary};
        margin-bottom: 0 !important;
        border: 1px solid ${e.colors.palette.light[600]};
        border-width: 1px 1px 0;
      }
      .active-mark-content {
        border: 1px solid ${e.colors.palette.light[600]};
        border-width: 0 1px 1px;
        padding: ${a.polished.rem(8)};
        margin-bottom: ${a.polished.rem(4)};
      }
      .header-title-input {
        width: 110px;
        .input-wrapper {
          background-color: transparent;
          border: 1px solid transparent;
        }
        .has-focus {
          .input-wrapper {
            border: 1px solid transparent;
          }
        }
      }
      .tips-pos {
        margin-top: -2px;
      }
      .template-group {
        .template-img {
          cursor: pointer;
          width: 100%;
          height: 70px;
          border: 1px solid ${e.colors.palette.light[500]};
          background-color: ${e.colors.white};
          &.active {
            border: 2px solid ${e.colors.primary};
          }
          &.template-img-h {
            width: 109px;
            height: 109px;
          }
          &.template-img-gallery {
            width: 227px;
            height: 69px;
          }
        }
        .vertical-space {
          height: 10px;
        }
      }
      .drop-height {
        .dropdown-button {
          height: ${a.polished.rem(26)};
        }
      }
    }
  `}function m(e,t){return a.css`
    &.next-con {
      & {
        height: ${a.polished.rem(64)};
        margin-top: ${a.polished.rem(-16)};
      }
      .position-absolute-con, .position-relative-con {
        margin-left: ${a.polished.rem(-16)};
      }
      div{
        padding: ${a.polished.rem(16)};
        background: ${e.colors.palette.light[300]};
        left: 1rem;
        bottom: 0;
        width: ${t}px
      }
    }
  `}const u=i(215),b=i(63),j=i(64),w=[{icon:i(216),value:n.a.Horizon},{icon:i(121),value:n.a.Vertical}],M={CUSTOM1:i(217),CUSTOM2:i(218)};let y;class S extends a.React.PureComponent{constructor(e){super(e),this.markPopper=null,this.getIsScrollAndWidthOfTemplateCon=()=>{var e,t,i,a,o,s,I,g;const l=(null===(t=null===(e=this.templatesContainer)||void 0===e?void 0:e.current)||void 0===t?void 0:t.clientHeight)||0,n=(null===(a=null===(i=this.templatesContainer)||void 0===i?void 0:i.current)||void 0===a?void 0:a.clientWidth)||260,d=((null===(g=null===(I=null===(s=null===(o=this.templatesContainer)||void 0===o?void 0:o.current)||void 0===s?void 0:s.parentElement)||void 0===I?void 0:I.parentElement)||void 0===g?void 0:g.clientHeight)||0)<l;this.setState({isTemplateContainScroll:d,templateConWidth:n})},this.onPropertyChange=(e,t)=>{const{config:i}=this.props;if(t===i[e])return;const a=i.set(e,t),o={id:this.props.id,config:a};this.props.onSettingChange(o)},this.onMultiplePropertyChange=e=>{const{config:t}=this.props;let i=t;e.map(e=>{e.value!==t[e.name]&&(i=i.set(e.name,e.value))});const a={id:this.props.id,config:i};this.props.onSettingChange(a)},this.onConfigChange=(e,t)=>{const{config:i}=this.props,a=i.setIn(e,t),o={id:this.props.id,config:a};this.props.onSettingChange(o)},this.onTemplateTypeChanged=(e,t)=>{const{id:i}=this.props;let{appConfig:a}=this.props;if(t&&(a=t),e===n.f.Custom1||e===n.f.Custom2){const t=y[e];o.templateUtils.updateWidgetByTemplate(a,t,i,t.widgetId,{},c).then(t=>{this._onItemStyleChange(t,e)})}else this._onItemStyleChange(a,e)},this.handleFormChange=e=>{const t=e.currentTarget;if(!t)return;const i=t.dataset.field;let a;switch(t.type){case"checkbox":a=t.checked;break;case"select":a=t.value;break;case"range":a=parseFloat(t.value);break;case"number":const i="float"===t.dataset.numbertype?parseFloat:parseInt,o=!!t.min&&i(t.min),s=!!t.max&&i(t.max);if(a=e.target.value,!a||""===a)return;a=i(e.target.value),o&&a<o&&(a=o),s&&a>s&&(a=s);break;default:a=t.value}this.onPropertyChange(i,a)},this.handleCheckboxChange=e=>{const t=e.currentTarget;t&&this.onPropertyChange(t.dataset.field,t.checked)},this.handleAutoInterval=e=>{this.onPropertyChange("autoInterval",e)},this.onSwitchChanged=(e,t)=>{this.onPropertyChange(t,e)},this._onItemStyleChange=(e,t)=>{const{id:i,config:s,layoutInfo:I}=this.props,{tempLayoutType:g}=this.state,l=[n.f.Custom1,n.f.Custom2],d={CARD:{width:516,height:210},LIST:{width:300,height:360},SLIDE1:{width:320,height:380},SLIDE2:{width:320,height:380},SLIDE3:{width:320,height:380},GALLERY:{width:680,height:230},CUSTOM1:{width:320,height:380},CUSTOM2:{width:320,height:380}};let r=Object(a.Immutable)(u);const c=e.widgets[i];let C,p=e;if(l.includes(t)){let t=e.widgets[i].layouts[n.e.Regular][e.mainSizeMode];C=s.bookmarks.map(e=>{const{newLayoutId:a,eachAppConfig:o}=this.duplicateLayoutsEach(t,i,"Bookmark-"+e.id,`Bookmark-${e.id}-label`,g,p);return p=o,t=a,e.set("layoutName","Bookmark-"+e.id).set("layoutId",a)})}l.includes(s.templateType)&&!l.includes(t)&&(C=e.widgets[i].config.bookmarks),r=r.set("templateType",t).set("bookmarks",C||s.bookmarks).set("isTemplateConfirm",!1),r=r.set("isInitialed",!0);const A=Object(o.getAppConfigAction)(p);this.getLayoutType()===a.LayoutType.FixedLayout&&A.editLayoutItemSize(I,d[t].width,d[t].height),A.editWidgetProperty(c.id,"config",r).exec()},this.getLayoutType=()=>{var e,t;const{layoutInfo:i,appConfig:a}=this.props,o=i.layoutId;return null===(t=null===(e=null==a?void 0:a.layouts)||void 0===e?void 0:e[o])||void 0===t?void 0:t.type},this.duplicateLayoutsEach=(e,t,i,a,s,I)=>{let{appConfig:g}=this.props;I&&(g=I);const l=Object(o.getAppConfigAction)(g),n=l.createEmptyLayoutForWidgetOnCurrentSizeMode(t,i,a,s);return l.duplicateLayoutItems(e,n,!0),{newLayoutId:n,eachAppConfig:l.appConfig}},this.formatMessage=(e,t)=>{const i=Object.assign({},c,I.defaultMessages,a.defaultMessages);return this.props.intl.formatMessage({id:e,defaultMessage:i[e]},t)},this.handleTemplateTypeImageClick=e=>{const t=e.currentTarget.dataset.value,{id:i,config:a,appConfig:s}=this.props,I=[n.f.Custom1,n.f.Custom2];if(a.templateType!==t)if(I.includes(a.templateType)){let e=s;const I=a.bookmarks.map(t=>{const{layoutName:a}=t,s=Object(o.getAppConfigAction)(e).removeLayoutFromWidget(i,a);return e=s.appConfig,t.set("layoutId","").set("layoutName","")}),g=a.set("bookmarks",I).set("templateType",t),l=Object(o.getAppConfigAction)(e);l.removeLayoutFromWidget(i,"REGULAR"),l.editWidgetProperty(i,"config",g).exec(),this.onTemplateTypeChanged(t,l.appConfig)}else this.onTemplateTypeChanged(t)},this.handleTemplateConfirmClick=e=>{this.onPropertyChange("isTemplateConfirm",!0)},this.handleResetTemplateClick=()=>{const{config:e}=this.props;e.templateType===n.f.Custom1||e.templateType===n.f.Custom2?this.setState({changeCustomConfirmOpen:!0}):this.onPropertyChange("isTemplateConfirm",!1),this.updateNextButtonPosition()},this.handleChangeOk=()=>{this.onPropertyChange("isTemplateConfirm",!1),this.updateNextButtonPosition(),this.setState({changeCustomConfirmOpen:!1})},this.handleChangeClose=()=>{this.setState({changeCustomConfirmOpen:!1})},this.handleMapChangeOk=()=>{var e;this.onPropertyChange("bookmarks",[]),this.props.onSettingChange({id:this.props.id,useMapWidgetIds:this.toBeChnagedMapWidgetIds}),this.setState({confirmMapChangeOpen:!1}),null===(e=this.markPopper)||void 0===e||e.handleCloseOk()},this.handleMapChangeClose=()=>{const{useMapWidgetIds:e}=this.props;this.props.onSettingChange({id:this.props.id,useMapWidgetIds:[]}),this.setState({confirmMapChangeOpen:!1},()=>{this.props.onSettingChange({id:this.props.id,useMapWidgetIds:e.asMutable()})})},this.onMapWidgetSelected=e=>{this.toBeChnagedMapWidgetIds=e;const{useMapWidgetIds:t}=this.props;!t||t&&0===t.length?this.handleMapChangeOk():t&&t[0]===e[0]||this.setState({confirmMapChangeOpen:!0})},this.showBookmarkConfiger=e=>{this.markPopper=e},this.onBookmarkUpdated=e=>{const{config:t}=this.props,i=t.bookmarks,a=i.findIndex(t=>t.id===e.id),o=i.map((t,i)=>a===i?e:t);this.onPropertyChange("bookmarks",o)},this.addNewBookmark=e=>{const{config:t}=this.props;this.setState({activeId:e.id}),this.onPropertyChange("bookmarks",t.bookmarks.concat(e))},this.onBookmarkTextChange=(e,t,i)=>{const{config:a}=this.props,o=a.bookmarks,s=o.findIndex(t=>t.id===e),I=o.map((e,a)=>s===a?e.set(i,t):e);this.onPropertyChange("bookmarks",I)},this.handleKeydown=(e,t)=>{13===e.keyCode&&t.current.blur()},this.handleSelect=(e,t)=>{const{activeId:i}=this.state;this.markPopper.getDialogStatus()||i!==e?(this.setState({activeId:e}),this.markPopper.handleEditWhenOpen(t),o.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:this.props.id,propKey:"activeBookmarkId",value:e}),o.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:this.props.id,propKey:"settingChangeBookmark",value:!0})):this.setState({activeId:0})},this.handleEditBookmark=(e,t)=>{t&&t.stopPropagation(),this.setState({activeId:e.id}),this.markPopper.handleNewOrEdit(e,!0)},this.handleDelete=(e,t)=>{t&&t.stopPropagation();const{id:i}=e,s=[n.f.Custom1,n.f.Custom2],{activeId:I}=this.state,{id:g,appConfig:l}=this.props;let{config:d}=this.props;const r=d.bookmarks,c=r.findIndex(e=>e.id===i);if(-1===c)return;const C=r.asMutable({deep:!0}),p=this.markPopper.getDialogStatus();let A;if(I===C[c].id&&(0!==c?A=C[c-1]:C.length>1?A=C[c+1]:(this.markPopper.handleClickClose(!0),A=void 0,o.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:this.props.id,propKey:"lastFlag",value:!0})),A&&p&&this.handleEditBookmark(Object(a.Immutable)(A))),s.includes(d.templateType)){const{layoutName:e}=C[c],t=Object(o.getAppConfigAction)(l);t.removeLayoutFromWidget(g,e),C.splice(c,1),0===I&&C.length>=1&&(A=C[0]);const i=Object(a.Immutable)(C);d=d.set("bookmarks",i),t.editWidgetProperty(g,"config",d).exec()}else{C.splice(c,1),0===I&&C.length>=1&&(A=C[0]);const e=Object(a.Immutable)(C);this.onPropertyChange("bookmarks",e)}const h=A&&A.id||I;this.setState({activeId:h}),o.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:this.props.id,propKey:"activeBookmarkId",value:h}),o.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:this.props.id,propKey:"settingChangeBookmark",value:!0})},this.onTabSelect=e=>{const{activeId:t}=this.state,{config:i}=this.props,a=i.bookmarks,o=a.findIndex(e=>e.id===t),s=a.map((t,i)=>o===i?t.set("imgSourceType",n.c[e]):t);this.onPropertyChange("bookmarks",s)},this.onResourceChange=e=>{const{activeId:t}=this.state,{config:i}=this.props,a=i.bookmarks,o=a.findIndex(e=>e.id===t),s=a.map((t,i)=>o===i?t.set("imgParam",e):t);this.onPropertyChange("bookmarks",s)},this.handleImageFillModeChange=e=>{var t;const{activeId:i}=this.state,{config:a}=this.props,o=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value,s=a.bookmarks,I=s.findIndex(e=>e.id===i),g=s.map((e,t)=>I===t?e.set("imagePosition",o):e);this.onPropertyChange("bookmarks",g)},this.handleShowSimpleClick=e=>{const{showSimple:t}=this.state;this.setState({showSimple:!t})},this.handleShowAdvanceClick=e=>{const{showAdvance:t}=this.state;this.setState({showAdvance:!t})},this.handleShowArrangementClick=()=>{const{showArrangement:e}=this.state;this.setState({showArrangement:!e})},this.handlePageStyleChange=e=>{var t;const i=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value;this.onPropertyChange("pageStyle",i)},this.handleDisplayTypeChange=e=>{var t;const i=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value;this.onPropertyChange("displayType",i)},this.onTransitionTypeChange=e=>{this.onPropertyChange("transition",e)},this.onTransitionDirectionChange=e=>{this.onPropertyChange("transitionDirection",e)},this.getPageStyleOptions=()=>[Object(a.jsx)("option",{key:n.d.Scroll,value:n.d.Scroll},this.formatMessage("scroll")),Object(a.jsx)("option",{key:n.d.Paging,value:n.d.Paging},this.formatMessage("paging"))],this.handleDirectionClick=e=>{const t=e.currentTarget.dataset.value;this.onPropertyChange("direction",t)},this.handleSpaceChange=e=>{this.onPropertyChange("space",e)},this.handleItemSizeChange=(e,t)=>{t?this.onPropertyChange("itemHeight",e):this.onPropertyChange("itemWidth",e)},this.duplicateNewLayouts=(e,t,i,a,s,I)=>{let{appConfig:g}=this.props;I&&(g=I);const l=Object(o.getAppConfigAction)(g),n=l.createEmptyLayoutForWidgetOnCurrentSizeMode(t,i,a,s);return l.duplicateLayoutItems(e,n,!0),l.exec(),n},this.updateNextButtonPosition=()=>{clearTimeout(this.updatePositionTimeout),this.updatePositionTimeout=setTimeout(()=>{this.getIsScrollAndWidthOfTemplateCon()},500)},this.renderTemplate=()=>{const{config:e,theme:t}=this.props,{showSimple:o,showAdvance:g,isTemplateContainScroll:l,templateConWidth:d}=this.state,r=l?"position-absolute position-absolute-con":"position-relative-con";return Object(a.jsx)("div",{ref:this.templatesContainer},Object(a.jsx)(s.SettingSection,{title:this.formatMessage("chooseTemplateTip")},Object(a.jsx)(s.SettingRow,{flow:"wrap",label:Object(a.jsx)("div",{className:"w-100 d-flex"},Object(a.jsx)("div",{className:"text-truncate p-1"},this.formatMessage("simple")),Object(a.jsx)(I.Tooltip,{title:this.formatMessage("simpleTemplateTip"),showArrow:!0,placement:"left"},Object(a.jsx)("span",{className:"mt-1 ml-2"},Object(a.jsx)(I.Icon,{icon:i(68),size:12}))),Object(a.jsx)(I.Button,{size:"sm",type:"tertiary",icon:!0,onClick:this.handleShowSimpleClick,className:"collapse-btn"},Object(a.jsx)(I.Icon,{size:12,color:t.colors.black,icon:o?j:b})))},Object(a.jsx)(I.Collapse,{isOpen:o,className:"w-100"},Object(a.jsx)("div",{className:"template-group w-100"},Object(a.jsx)("div",{className:"d-flex justify-content-between w-100"},Object(a.jsx)("div",{"data-value":n.f.Card,onClick:this.handleTemplateTypeImageClick,title:this.formatMessage("typeCard")},Object(a.jsx)(I.Icon,{autoFlip:!0,className:"template-img template-img-h "+(e.templateType===n.f.Card&&"active"),icon:i(219)})),Object(a.jsx)("div",{"data-value":n.f.List,onClick:this.handleTemplateTypeImageClick,title:this.formatMessage("typeList")},Object(a.jsx)(I.Icon,{autoFlip:!0,className:"template-img template-img-h "+(e.templateType===n.f.List&&"active"),icon:i(220)}))),Object(a.jsx)("div",{className:"d-flex justify-content-between w-100"},Object(a.jsx)("div",{"data-value":n.f.Gallery,onClick:this.handleTemplateTypeImageClick,style:{marginTop:10},title:this.formatMessage("typeGallery")},Object(a.jsx)(I.Icon,{autoFlip:!0,className:"template-img template-img-gallery "+(e.templateType===n.f.Gallery&&"active"),icon:i(221)}))),Object(a.jsx)("div",{className:"d-flex justify-content-between w-100"},Object(a.jsx)("div",{"data-value":n.f.Slide1,onClick:this.handleTemplateTypeImageClick,style:{marginTop:10},title:this.formatMessage("slideOne")},Object(a.jsx)(I.Icon,{autoFlip:!0,className:"template-img template-img-h "+(e.templateType===n.f.Slide1&&"active"),icon:i(222)})),Object(a.jsx)("div",{"data-value":n.f.Slide2,onClick:this.handleTemplateTypeImageClick,style:{marginTop:10},title:this.formatMessage("slideTwo")},Object(a.jsx)(I.Icon,{autoFlip:!0,className:"template-img template-img-h "+(e.templateType===n.f.Slide2&&"active"),icon:i(223)}))),Object(a.jsx)("div",{className:"d-flex justify-content-between w-100"},Object(a.jsx)("div",{"data-value":n.f.Slide3,onClick:this.handleTemplateTypeImageClick,style:{marginTop:10},title:this.formatMessage("slideThree")},Object(a.jsx)(I.Icon,{autoFlip:!0,className:"template-img template-img-h "+(e.templateType===n.f.Slide3&&"active"),icon:i(224)})))))),Object(a.jsx)(s.SettingRow,{flow:"wrap",label:Object(a.jsx)("div",{className:"w-100 d-flex"},Object(a.jsx)("div",{className:"text-truncate p-1"},this.formatMessage("advance")),Object(a.jsx)(I.Tooltip,{title:this.formatMessage("advancedTemplateTip"),showArrow:!0,placement:"left"},Object(a.jsx)("span",{className:"mt-1 ml-2"},Object(a.jsx)(I.Icon,{icon:i(68),size:12}))),Object(a.jsx)(I.Button,{size:"sm",type:"tertiary",icon:!0,onClick:this.handleShowAdvanceClick,className:"collapse-btn"},Object(a.jsx)(I.Icon,{size:12,color:t.colors.black,icon:g?j:b})))},Object(a.jsx)(I.Collapse,{isOpen:g,className:"w-100"},Object(a.jsx)("div",{className:"template-group w-100"},Object(a.jsx)("div",{className:"d-flex justify-content-between w-100"},Object(a.jsx)("div",{"data-value":n.f.Custom1,onClick:this.handleTemplateTypeImageClick,title:this.formatMessage("customOne")},Object(a.jsx)(I.Icon,{autoFlip:!0,className:"template-img template-img-h "+(e.templateType===n.f.Custom1&&"active"),icon:i(225)})),Object(a.jsx)("div",{"data-value":n.f.Custom2,onClick:this.handleTemplateTypeImageClick,title:this.formatMessage("customTwo")},Object(a.jsx)(I.Icon,{autoFlip:!0,className:"template-img template-img-h "+(e.templateType===n.f.Custom2&&"active"),icon:i(226)})))))),Object(a.jsx)(s.SettingRow,null,Object(a.jsx)("div",{className:"next-con w-100",css:m(t,d)},Object(a.jsx)("div",{className:r},Object(a.jsx)(I.Button,{type:"primary",className:"w-100",onClick:this.handleTemplateConfirmClick},this.formatMessage("next")))))))},this.onTransitionSettingChange=e=>{const t=this.props.config.transitionInfo.asMutable({deep:!0});t.transition=e,this.onConfigChange(["transitionInfo"],Object(a.Immutable)(t))},this.previewTransitionAndOnebyOne=()=>{this.onConfigChange(["transitionInfo","previewId"],Symbol())},this.renderArrangementSetting=()=>{const{config:e,theme:t}=this.props,{transitionInfo:o}=e,{showArrangement:g}=this.state,l=e.direction===n.a.Vertical;return Object(a.jsx)(s.SettingRow,{flow:"wrap",label:Object(a.jsx)("div",{className:"w-100 d-flex justify-content-between"},Object(a.jsx)("div",{className:"text-truncate"},this.formatMessage("arrangement")),Object(a.jsx)(I.Button,{size:"sm",type:"tertiary",icon:!0,onClick:this.handleShowArrangementClick},Object(a.jsx)(I.Icon,{size:12,color:t.colors.black,icon:g?j:b})))},Object(a.jsx)(I.Collapse,{isOpen:g,className:"w-100"},Object(a.jsx)(s.SettingRow,{label:this.formatMessage("pagingStyle"),flow:"wrap"},Object(a.jsx)(I.Select,{value:e.pageStyle,onChange:this.handlePageStyleChange,className:"drop-height"},this.getPageStyleOptions())),e.pageStyle!==n.d.Scroll&&Object(a.jsx)(p.Fragment,null,Object(a.jsx)(s.SettingRow,null,Object(a.jsx)("div",{className:"d-flex w-100"},Object(a.jsx)(I.Checkbox,{"data-field":"initBookmark",onClick:this.handleCheckboxChange,checked:e.initBookmark}),Object(a.jsx)("div",{className:"text-truncate ml-2",title:this.formatMessage("initBookmark")},this.formatMessage("initBookmark")),Object(a.jsx)(I.Tooltip,{title:this.formatMessage("initBookmarkTips"),showArrow:!0,placement:"left"},Object(a.jsx)("span",{className:"inline-block ml-2 tips-pos"},Object(a.jsx)(I.Icon,{icon:i(68),size:12}))))),Object(a.jsx)(s.SettingRow,null,Object(a.jsx)("div",{className:"d-flex justify-content-between w-100"},Object(a.jsx)("label",{className:"w-75 text-truncate d-inline-block font-dark-600"},this.formatMessage("autoPlayAllow")),Object(a.jsx)(I.Switch,{className:"can-x-switch",checked:e&&e.autoPlayAllow||!1,"data-key":"autoRefresh",onChange:e=>{this.onSwitchChanged(e.target.checked,"autoPlayAllow")}}))),e.autoPlayAllow&&Object(a.jsx)(p.Fragment,null,Object(a.jsx)(s.SettingRow,{flow:"wrap",label:`${this.formatMessage("autoInterval")} (${this.formatMessage("second")})`},Object(a.jsx)(I.NumericInput,{style:{width:"100%"},value:e.autoInterval||3,min:2,max:60,onChange:this.handleAutoInterval})),Object(a.jsx)(s.SettingRow,null,Object(a.jsx)("div",{className:"d-flex w-100"},Object(a.jsx)(I.Checkbox,{"data-field":"autoLoopAllow",onClick:this.handleCheckboxChange,checked:e.autoLoopAllow}),Object(a.jsx)("div",{style:{marginLeft:a.polished.rem(8)},className:"text-truncate"},this.formatMessage("autoLoopAllow")))))),e.pageStyle!==n.d.Paging&&Object(a.jsx)(s.SettingRow,{label:this.formatMessage("direction")},Object(a.jsx)(I.ButtonGroup,{size:"sm"},w.map((t,i)=>Object(a.jsx)(I.Button,{key:i,icon:!0,active:e.direction===t.value,"data-value":t.value,onClick:this.handleDirectionClick},Object(a.jsx)(I.Icon,{size:12,icon:t.icon}))))),e.pageStyle===n.d.Paging&&Object(a.jsx)(s.SettingRow,{label:this.formatMessage("transition"),flow:"wrap"},Object(a.jsx)(A.TransitionSetting,{transition:null==o?void 0:o.transition,onTransitionChange:this.onTransitionSettingChange,onPreviewAsAWhoneClicked:this.previewTransitionAndOnebyOne,formatMessage:this.formatMessage,showOneByOne:!1})),e.pageStyle===n.d.Scroll&&Object(a.jsx)(p.Fragment,null,Object(a.jsx)(s.SettingRow,{flow:"wrap",label:(l?this.formatMessage("itemHeight"):this.formatMessage("itemWidth"))+"(px)"},Object(a.jsx)(I.NumericInput,{style:{width:"100%"},value:(l?e.itemHeight:e.itemWidth)||240,onChange:e=>this.handleItemSizeChange(e,l)})),Object(a.jsx)(s.SettingRow,{flow:"wrap",label:(l?this.formatMessage("verticalSpacing"):this.formatMessage("horizontalSpacing"))+" (px)"},Object(a.jsx)("div",{className:"d-flex justify-content-between w-100 align-items-center"},Object(a.jsx)(I.Slider,{style:{width:"60%"},"data-field":"space",onChange:this.handleFormChange,value:e.space,title:"0-50",size:"sm",min:0,max:50}),Object(a.jsx)(I.NumericInput,{style:{width:"25%"},value:e.space,min:0,max:50,title:"0-50",onChange:this.handleSpaceChange}))))))},this.renderDataSetting=()=>{var e;const{id:t,theme:o,useDataSources:g,useMapWidgetIds:l,config:d}=this.props,{activeId:c,tempLayoutType:A}=this.state,h=d.bookmarks.find(e=>e.id===c),m=null===(e=null==h?void 0:h.imgParam)||void 0===e?void 0:e.originalName,u=h&&h.name?h.name:"---",b=[n.f.Slide1,n.f.Slide2,n.f.Slide3],j=[n.f.Slide1,n.f.Slide2,n.f.Slide3,n.f.Custom1,n.f.Custom2],M=[n.f.List,n.f.Custom1,n.f.Custom2],y=[n.f.Custom1,n.f.Custom2];return Object(a.jsx)("div",{className:"bookmark-setting"},Object(a.jsx)(s.SettingSection,null,Object(a.jsx)(s.SettingRow,{flow:"wrap"},Object(a.jsx)("span",{className:"w-100 overflow-hidden"},Object(a.jsx)("a",{className:"resetting-template w-100 text-break",onClick:this.handleResetTemplateClick},this.formatMessage("resettingTheTemplate")),y.includes(d.templateType)&&Object(a.jsx)(p.Fragment,null,this.formatMessage("customBookmarkDesign"),Object(a.jsx)(I.Tooltip,{title:this.formatMessage("customTips"),showArrow:!0,placement:"left"},Object(a.jsx)("span",{className:"inline-block ml-2"},Object(a.jsx)(I.Icon,{icon:i(68),size:12})))))),Object(a.jsx)(s.SettingRow,{label:this.formatMessage("selectMapWidget")}),Object(a.jsx)(s.SettingRow,null,Object(a.jsx)(s.JimuMapViewSelector,{onSelect:this.onMapWidgetSelected,useMapWidgetIds:l})),this.props.useMapWidgetIds&&1===this.props.useMapWidgetIds.length&&Object(a.jsx)(s.SettingRow,null,Object(a.jsx)(r,{id:t,theme:o,title:`${this.formatMessage("setBookmarkView")}: ${u}`,buttonLabel:this.formatMessage("addBookmark"),useDataSources:g,useMapWidgetIds:l,jimuMapConfig:d,onBookmarkUpdated:this.onBookmarkUpdated,onShowBookmarkConfiger:e=>this.showBookmarkConfiger(e),maxBookmarkId:this.getArrayMaxId(d.bookmarks),activeBookmarkId:c,onAddNewBookmark:this.addNewBookmark,formatMessage:this.formatMessage,duplicateNewLayouts:this.duplicateNewLayouts,tempLayoutType:A,isUseWidgetSize:!0})),d.bookmarks&&0!==d.bookmarks.length&&Object(a.jsx)(s.SettingRow,null,Object(a.jsx)("div",{className:"w-100"},d.bookmarks.map((e,t)=>{const o=a.React.createRef();return Object(a.jsx)(p.Fragment,{key:t},Object(a.jsx)("div",{className:(c===e.id?"active-mark":"")+" setting-bookmark-list",onClick:()=>this.handleSelect(e.id,e)},Object(a.jsx)(I.TextInput,{className:"header-title-input h5 bookmark-edit-input",ref:o,size:"sm",title:e.name,value:e.name||"",onChange:t=>this.onBookmarkTextChange(e.id,t.target.value,"name"),onClick:e=>e.stopPropagation(),onKeyDown:e=>this.handleKeydown(e,o)}),Object(a.jsx)("span",{className:"float-right"},Object(a.jsx)(I.Button,{title:this.formatMessage("changeBookmarkView"),onClick:t=>this.handleEditBookmark(e,t),type:"tertiary",icon:!0},Object(a.jsx)(I.Icon,{icon:i(227),size:12})),Object(a.jsx)(I.Button,{title:this.formatMessage("deleteOption"),onClick:t=>this.handleDelete(e,t),type:"tertiary",icon:!0},Object(a.jsx)(I.Icon,{icon:i(80),size:12})))),!M.includes(d.templateType)&&c===e.id&&Object(a.jsx)("div",{className:"active-mark-content"},Object(a.jsx)(s.SettingRow,{label:this.formatMessage("imageSource"),className:"mb-2"}),Object(a.jsx)(I.Tabs,{fill:!0,type:"pills",onChange:this.onTabSelect,value:e.imgSourceType===n.c.Custom?"Custom":"Snapshot"},Object(a.jsx)(I.Tab,{id:"Snapshot",title:this.formatMessage("imageSnapshot")},Object(a.jsx)("div",{className:"mt-2"})),Object(a.jsx)(I.Tab,{id:"Custom",title:this.formatMessage("custom")},Object(a.jsx)("div",{className:"mt-2"},Object(a.jsx)(s.SettingRow,null,Object(a.jsx)("div",{className:"w-100 d-flex align-items-center mb-1 mt-1"},Object(a.jsx)("div",{style:{minWidth:"60px"}},Object(a.jsx)(C.ImageSelector,{buttonClassName:"text-dark d-flex justify-content-center btn-browse",widgetId:this.props.id,buttonLabel:this.formatMessage("setAnImage"),buttonSize:"sm",onChange:this.onResourceChange,imageParam:e.imgParam})),Object(a.jsx)("div",{style:{width:"70px"},className:"uploadFileName ml-2 text-truncate",title:m||this.formatMessage("none")},m||this.formatMessage("none"))))))),Object(a.jsx)(s.SettingRow,{label:this.formatMessage("imagePosition"),className:"mt-2",truncateLabel:!0},Object(a.jsx)("div",{style:{width:"40%"}},Object(a.jsx)(I.Select,{size:"sm",value:e.imagePosition,onChange:this.handleImageFillModeChange},Object(a.jsx)("option",{key:0,value:I.ImageFillMode.Fill},this.formatMessage("fill")),Object(a.jsx)("option",{key:1,value:I.ImageFillMode.Fit},this.formatMessage("fit"))))),b.includes(d.templateType)&&Object(a.jsx)(s.SettingRow,{flow:"wrap",label:this.formatMessage("description"),className:"mb-2"},Object(a.jsx)(I.TextArea,{className:"w-100",title:e.description,value:e.description||"",onChange:t=>this.onBookmarkTextChange(e.id,t.target.value,"description"),spellCheck:!1}))))})))),Object(a.jsx)(s.SettingSection,null,Object(a.jsx)(s.SettingRow,{label:this.formatMessage("drawingDisplay"),flow:"wrap"},Object(a.jsx)(I.Select,{value:d.displayType,onChange:this.handleDisplayTypeChange,className:"drop-height"},Object(a.jsx)("option",{value:n.b.All},this.formatMessage("displayAll")),Object(a.jsx)("option",{value:n.b.Selected},this.formatMessage("displaySelected")))),d.templateType===n.f.Gallery&&Object(a.jsx)(p.Fragment,null,Object(a.jsx)(s.SettingRow,{label:this.formatMessage("galleryDirection")},Object(a.jsx)(I.ButtonGroup,{size:"sm"},w.map((e,t)=>Object(a.jsx)(I.Button,{key:t,icon:!0,active:d.direction===e.value,"data-value":e.value,onClick:this.handleDirectionClick},Object(a.jsx)(I.Icon,{size:12,icon:e.icon,autoFlip:!0})))))),!j.includes(d.templateType)&&Object(a.jsx)(s.SettingRow,null,Object(a.jsx)("div",{className:"d-flex w-100"},Object(a.jsx)(I.Checkbox,{"data-field":"runtimeAddAllow",onClick:this.handleCheckboxChange,checked:d.runtimeAddAllow}),Object(a.jsx)("div",{className:"text-truncate ml-2",title:this.formatMessage("runtimeAddAllow")},this.formatMessage("runtimeAddAllow")))),!y.includes(d.templateType)&&Object(a.jsx)(s.SettingRow,null,Object(a.jsx)("div",{className:"d-flex w-100"},Object(a.jsx)(I.Checkbox,{"data-field":"displayFromWeb",onClick:this.handleCheckboxChange,checked:d.displayFromWeb}),Object(a.jsx)("div",{className:"text-truncate ml-2",title:this.formatMessage("displayFromWeb")},this.formatMessage("displayFromWeb")))),j.includes(d.templateType)&&this.renderArrangementSetting()))},function(e){if(y)return y;const t=Object.assign({},c,I.defaultMessages);y={},Object.keys(M).forEach(i=>{y[i]=o.templateUtils.processForTemplate(M[i],e,t)})}(e.id),this.state={activeId:0,showSimple:!0,showAdvance:!0,showArrangement:!1,tempLayoutType:a.LayoutType.FixedLayout,changeCustomConfirmOpen:!1,confirmMapChangeOpen:!1,isTemplateContainScroll:!1,templateConWidth:260},this.simpleTipRef=a.React.createRef(),this.customTipRef=a.React.createRef(),this.templatesContainer=a.React.createRef(),this.toBeChnagedMapWidgetIds=[]}componentDidMount(){this.getIsScrollAndWidthOfTemplateCon(),window.addEventListener("resize",this.updateNextButtonPosition)}componentDidUpdate(e){var t;const{activeId:i}=this.state,{settingPanelChange:a,activeBookmarkId:o=0}=this.props;this.props.activeBookmarkId!==e.activeBookmarkId&&o!==i&&this.setState({activeId:o}),a!==e.settingPanelChange&&(null===(t=this.markPopper)||void 0===t||t.handleCloseOk()),"content"==a&&"content"!=e.settingPanelChange&&this.updateNextButtonPosition()}componentWillUnmount(){clearTimeout(this.updatePositionTimeout)}getArrayMaxId(e){const t=e.map(e=>e.id);return t.length>0?Math.max.apply(null,t):0}render(){const{config:e,theme:t}=this.props,{changeCustomConfirmOpen:i,confirmMapChangeOpen:o}=this.state;return Object(a.jsx)(p.Fragment,null,Object(a.jsx)("div",{className:Object(a.classNames)("jimu-widget-bookmark-setting","jimu-widget-setting"),css:h(t)},e.isTemplateConfirm?this.renderDataSetting():this.renderTemplate()),i&&Object(a.jsx)(I.ConfirmDialog,{level:"warning",title:this.formatMessage("changeConfirmTitle"),hasNotShowAgainOption:!1,content:this.formatMessage("changeRemind"),onConfirm:this.handleChangeOk,onClose:this.handleChangeClose}),o&&Object(a.jsx)(I.ConfirmDialog,{level:"info",title:this.formatMessage("bookmarkConfirmTitle"),hasNotShowAgainOption:!1,content:this.formatMessage("switchRemind"),onConfirm:this.handleMapChangeOk,onClose:this.handleMapChangeClose}))}}S.mapExtraStateProps=(e,t)=>{var i,a,o,s,I,g;return{appConfig:e&&e.appStateInBuilder&&e.appStateInBuilder.appConfig,browserSizeMode:e&&e.appStateInBuilder&&e.appStateInBuilder.browserSizeMode,activeBookmarkId:e&&(null===(a=null===(i=e.appStateInBuilder)||void 0===i?void 0:i.widgetsState[t.id])||void 0===a?void 0:a.activeBookmarkId),layoutInfo:e&&(null===(s=null===(o=e.appStateInBuilder)||void 0===o?void 0:o.widgetsState[t.id])||void 0===s?void 0:s.layoutInfo),settingPanelChange:null===(g=null===(I=null==e?void 0:e.widgetsState)||void 0===I?void 0:I[t.id])||void 0===g?void 0:g.settingPanelChange}}},6:function(e,t,i){"use strict";var a,o,s,I,g,l;i.d(t,"a",(function(){return a})),i.d(t,"d",(function(){return o})),i.d(t,"b",(function(){return s})),i.d(t,"f",(function(){return I})),i.d(t,"e",(function(){return g})),i.d(t,"c",(function(){return l})),function(e){e.Horizon="HORIZON",e.Vertical="VERTICAL"}(a||(a={})),function(e){e.Scroll="SCROLL",e.Paging="PAGING"}(o||(o={})),function(e){e.All="ALL",e.Selected="SELECTED"}(s||(s={})),function(e){e.Card="CARD",e.List="LIST",e.Slide1="SLIDE1",e.Slide2="SLIDE2",e.Slide3="SLIDE3",e.Gallery="GALLERY",e.Navigator="NAVIGATOR",e.Custom1="CUSTOM1",e.Custom2="CUSTOM2"}(I||(I={})),function(e){e.Default="DEFAULT",e.Regular="REGULAR",e.Hover="HOVER"}(g||(g={})),function(e){e.Snapshot="SNAPSHOT",e.Custom="CUSTOM"}(l||(l={}))},63:function(e,t){e.exports='<svg viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path fill-rule="evenodd" clip-rule="evenodd" d="M.146 3.146a.5.5 0 01.708 0L6 8.5l5.146-5.354a.5.5 0 01.708.708l-5.5 5.707a.5.5 0 01-.708 0l-5.5-5.707a.5.5 0 010-.708z" fill="#000"></path></g><defs><clipPath id="clip0"><path fill="#fff" d="M0 0h12v12H0z"></path></clipPath></defs></svg>'},64:function(e,t){e.exports='<svg viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path fill-rule="evenodd" clip-rule="evenodd" d="M.146 9.56a.5.5 0 00.708 0L6 4.208l5.146 5.354a.5.5 0 00.708-.708l-5.5-5.707a.5.5 0 00-.708 0l-5.5 5.707a.5.5 0 000 .708z" fill="#000"></path></g><defs><clipPath id="clip0"><path fill="#fff" d="M0 0h12v12H0z"></path></clipPath></defs></svg>'},65:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M2.479 5.47L8.019.162a.592.592 0 01.813 0 .534.534 0 010 .779L3.552 6l5.28 5.06a.534.534 0 010 .779.592.592 0 01-.813 0l-5.54-5.31a.726.726 0 010-1.058z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},68:function(e,t){e.exports='<svg viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 3.5a1 1 0 11-2 0 1 1 0 012 0zM5 5.5a.5.5 0 000 1h.5v2H5a.5.5 0 000 1h2a.5.5 0 000-1h-.5v-3H5z" fill="#000"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6A6 6 0 110 6a6 6 0 0112 0zm-1 0A5 5 0 111 6a5 5 0 0110 0z" fill="#000"></path></svg>'},80:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M2.561 7.876l1.138 20.023C3.699 30.164 5.83 32 8.459 32h15.724c2.629 0 4.76-1.836 4.76-4.101l1.095-20.023H2.562zm28.806-1.42c.005-.844.008-.901.008-.957 0-2.202-1.483-3.411-3.472-3.411l-5.537.005C22.366.937 21.082 0 19.768 0h-6.893c-1.314 0-2.64.937-2.64 2.093l-5.543-.005c-2.197 0-3.472 1.473-3.472 3.411 0 .057.003.113.008.957h30.139zm-10.306 6.682c0-.638.588-1.156 1.314-1.156s1.314.517 1.314 1.156v13.24c0 .638-.588 1.156-1.314 1.156s-1.314-.517-1.314-1.156v-13.24zm-6.077 0c0-.638.589-1.156 1.315-1.156s1.314.517 1.314 1.156v13.24c0 .638-.588 1.156-1.314 1.156s-1.315-.517-1.315-1.156v-13.24zm-6.074 0c0-.638.588-1.156 1.315-1.156s1.314.517 1.314 1.156v13.24c0 .638-.589 1.156-1.314 1.156s-1.315-.517-1.315-1.156v-13.24z"></path></svg>'},96:function(e,t){e.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.65 9.793c-.08-.782.547-1.46 1.35-1.46s1.43.678 1.35 1.46l-.525 5.144a.822.822 0 01-.825.73.822.822 0 01-.825-.73l-.526-5.144zM12 20.067c.828 0 1.5-.657 1.5-1.467s-.672-1.467-1.5-1.467-1.5.657-1.5 1.467.672 1.467 1.5 1.467z" fill="#FFC300"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M0 23L12 1l12 22H0zm2.5-1.467L12 4.117l9.5 17.416h-19z" fill="#FFC300"></path></svg>'}}))}}}));