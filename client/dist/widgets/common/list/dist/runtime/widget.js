System.register(["jimu-core","jimu-ui","jimu-layouts/layout-runtime","jimu-core/react","jimu-ui/basic/sql-expression-runtime"],(function(e){var t,i,s,o,n;return{setters:[function(e){t=e},function(e){i=e},function(e){s=e},function(e){o=e},function(e){n=e}],execute:function(){e(function(e){var t={};function i(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(s,o,function(t){return e[t]}.bind(null,o));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=482)}({0:function(e,i){e.exports=t},1:function(e,t){e.exports=i},106:function(e,t,i){"use strict";t.a={_widgetLabel:"List",_widgetDescription:"A widget to display data in a list view.",_action_filter_label:"Filter",_layout_REGULAR_label:"Regular",_layout_HOVER_label:"Hover",_layout_SELECTED_label:"Selected",applyTo:"Apply to {status}",listLoading:"Loading",pleaseSelect:"Please select",listNoData:"No data",selectSortFields:"Select sorting fields",clearFilter:"Clear filter",isolate:"Isolate",linkedToAnd:"Linked to {where1} and {where2}",linkedTo:"Linked to {where}",placeHolderTip:"Please select a list template.",showSelected:"Show selected",clearSelected:"Clear selected",listSorting:"Sorting",listSort:"Sort",guideStep2Title:"Template",guideStep2Content:"Click on a template and click start.",guideStep3Title:"Data",guideStep3Content:"Click on select data to add a data source.",guideStep4Title:"Add new data",guideStep4Content:"Click add new data to select a web map.",guideStep5Title:"Select data",guideStep5Content:"Click the feature layer in the select data panel and close the panel.",guideStep6Title:"Data",guideStep6Content:"Specifies the data source, allows you to filter the data and limit the number of features that appear in the list.",guideStep7Title:"Arrangement",guideStep7Content:"Click the expand icon to explore the Arrangement section. In here, it allows you to define the direction, height, spacing, and paging style for your list.",guideStep8Title:"States",guideStep8Content:"Click the expand icon to explore the available States. In this section, it provides a visual representation to communicate the state of the list items. There are three states: regular, selected, and hover. By default, the selected state is always on.",guideStep9Title:"Tools",guideStep9Content:"Click the expand icon to explore the available Tools. In here, you can include search, sort, filter, and show selected tools in your list.",guideStep10Title:"Select image",guideStep10Content:"Click the image widget to configure it in the content panel.",guideStep10Title2:"Image settings",guideStep10Content2:"Allows you to select the image source and other settings for your widget.",guideStep11Title:"Select text",guideStep11Content:"Click the text widget to add attributes in the widget toolbar.",guideStep11Title2:"Text settings",guideStep11Content2:"Provides the configurations and style, including adding dynamic content from the widget toolbar. ",guideStep12Title:"End of tour",guideStep12Content:"Add other widgets to enhance your experience.",clearSearch:"Clear search",minimize:"Minimize",topToolBack:"Back",showAllListRecords:"Show all records",listDataActionLable:"{layer} list selection"}},107:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i(0),o=i(1);class n extends s.React.PureComponent{constructor(e){super(e),this.onDropDownToggle=e=>{e.stopPropagation();const{isDropDownOpen:t,onDropDownOpenChange:i}=this.props;if(void 0!==t)i&&i(!t);else{const{isOpen:e}=this.state;this.setState({isOpen:!e})}},this.onItemClick=(e,t)=>{const{isDropDownOpen:i,onDropDownOpenChange:s}=this.props;void 0!==i?s&&s(!1):this.setState({isOpen:!1}),t.event(e,t),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.onDropDownMouseClick=e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.getStyle=()=>s.css`
      & button {
        padding: 0;
      }
    `,this.state={isOpen:!1};const{withBuilderStyle:t}=e;this.MyDropdown=t?t(o.Dropdown):o.Dropdown,this.MyDropdownToggle=t?t(o.DropdownToggle):o.DropdownToggle,this.MyDropdownMenu=t?t(o.DropdownMenu):o.DropdownMenu,this.MyDropdownItem=t?t(o.DropdownItem):o.DropdownItem}render(){const{items:e,toggleContent:t,caret:i,toggleType:o,menuContent:n,appMode:r,modifiers:a,toggleIsIcon:l,theme:d,isDropDownOpen:c,size:h,appendToBody:u,toggleTitle:p,direction:g,menuCss:f,className:m,showActive:v,activeLabel:S,fluid:b}=this.props;let{isOpen:w}=this.state;w=void 0===c?w:c;const{MyDropdown:y,MyDropdownToggle:x,MyDropdownMenu:C,MyDropdownItem:I}=this;return Object(s.jsx)(y,{size:h,toggle:this.onDropDownToggle,direction:g,fluid:b,isOpen:w&&r!==s.AppMode.Design,className:"my-dropdown "+m,css:this.getStyle()},t&&Object(s.jsx)(x,{icon:l,title:p,size:h,type:o,caret:i},t&&t(d)),Object(s.jsx)(C,{appendToBody:u,modifiers:a,css:f&&f(d)},n?n(d):e&&e.asMutable().map((e,t)=>!e.hide&&Object(s.jsx)(I,{key:t,className:"no-user-select",title:e.label,active:v&&e.label===S,onClick:t=>this.onItemClick(t,e)},e.label))))}}},135:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M3.433.822l8 13.856-.866.5L9.31 13H1.5v-3h1v2h6.232L4.114 4H2.5v2h.95l-1.5 2-1.5-2H1.5V3h2.036l-.97-1.678.867-.5zM14.049 8l1.5 2H14.5v3h-3.035l-.576-1H13.5v-2h-.951l1.5-2zm.451-5v3h-1V4H6.268L5.69 3h8.81z" fill="#FFF" fill-rule="evenodd"></path></svg>'},136:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.049 8l1.5 2h-1.05v3H1.502v-3H2.5v2h11v-2h-.951l1.5-2zm.451-5v3h-1V4h-11v2h.951l-1.5 2-1.5-2h1.05V3h13z" fill="#FFF" fill-rule="evenodd"></path></svg>'},146:function(e,t){e.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 4.12a.5.5 0 01-.5.5h-8a.5.5 0 010-1h8a.5.5 0 01.5.5zM16 12.12a.5.5 0 01-.5.5h-8a.5.5 0 010-1h8a.5.5 0 01.5.5zM5.146 2.12a.5.5 0 01.055.705l-2.324 2.71a1 1 0 01-1.466.057L.146 4.327a.5.5 0 01.708-.707l1.264 1.265 2.323-2.71a.5.5 0 01.705-.055zM5.146 10.12a.5.5 0 01.055.705l-2.324 2.71a1 1 0 01-1.466.057L.146 12.328a.5.5 0 11.708-.708l1.264 1.265 2.323-2.71a.5.5 0 01.705-.055z" fill="#000"></path></svg>'},147:function(e,t){e.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.88 2.825a.5.5 0 00-.759-.65l-2.323 2.71-1.264-1.265a.5.5 0 10-.708.707l1.265 1.265a1 1 0 001.466-.056l2.324-2.71zm0 8a.5.5 0 00-.759-.65l-2.323 2.71-1.264-1.265a.5.5 0 00-.708.708l1.265 1.264a1 1 0 001.466-.056l2.324-2.71zM9 4.12a.5.5 0 01-.5.5h-8a.5.5 0 010-1h8a.5.5 0 01.5.5zm-.5 8.5a.5.5 0 000-1h-8a.5.5 0 000 1h8z" fill="#000"></path></svg>'},148:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M10 0c.796 0 1.5.47 1.5 1.167V3h4a.5.5 0 010 1H14l-.929 11.077a1 1 0 01-.878.916l-.119.007H3.926a1 1 0 01-.997-.923L2 4H.5a.5.5 0 010-1h4V1.167C4.5.469 5.204 0 6 0h4zm2.997 4H3.003l.923 11h8.148l.923-11zm-2.889 3l.892.87-3.325 3.73L5 8.991l.831-.933 1.783 1.74L10.108 7zM5.5 1v2h5V1c0-.04-5-.04-5 0z" fill="#000" fill-rule="nonzero"></path></svg>'},149:function(e,t){e.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity=".01" fill="#E3E3E3" d="M0 0h16v16H0z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M.5 1a.5.5 0 000 1h15a.5.5 0 000-1H.5zM0 7.5A.5.5 0 01.5 7h15a.5.5 0 010 1H.5a.5.5 0 01-.5-.5zm0 6a.5.5 0 01.5-.5h15a.5.5 0 010 1H.5a.5.5 0 01-.5-.5z" fill="#000"></path></svg>'},22:function(e,t){e.exports=o},348:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M15.5 12a.5.5 0 110 1H.5a.5.5 0 110-1h15zm0-5a.5.5 0 110 1H.5a.5.5 0 010-1h15zm0-5a.5.5 0 110 1H.5a.5.5 0 010-1h15z" fill="#076FE5" fill-rule="nonzero"></path></svg>'},349:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 3a1 1 0 100-2 1 1 0 000 2zm0 1a2 2 0 110-4 2 2 0 010 4zm5-3a1 1 0 000 2h7a1 1 0 000-2H7zm0-1h7a2 2 0 110 4H7a2 2 0 110-4zm0 7a1 1 0 000 2h7a1 1 0 000-2H7zm0-1h7a2 2 0 110 4H7a2 2 0 110-4zm0 7a1 1 0 000 2h7a1 1 0 000-2H7zm0-1h7a2 2 0 110 4H7a2 2 0 110-4zM2 9a1 1 0 100-2 1 1 0 000 2zm0 1a2 2 0 110-4 2 2 0 010 4zm0 5a1 1 0 100-2 1 1 0 000 2zm0 1a2 2 0 110-4 2 2 0 010 4z" fill="#FFF" fill-rule="nonzero"></path></svg>'},40:function(e,t){e.exports=n},482:function(e,t,i){"use strict";i.r(t),i.d(t,"Widget",(function(){return ze}));var s=i(0),o=i(1),n=i(5),r=i(7),a=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};function l(e,t,i){var o;return a(this,void 0,void 0,(function*(){const n={page:1,pageSize:10},r=t.searchFields.split(",");if(t.searchOpen&&t.searchFields){const r=null===(o=function(e,t,i){const o=s.dataSourceUtils.isHostedService(i.url),n=t.searchFields.split(",");if(t.searchOpen&&t.searchFields){const t={sql:"1=1",displaySQL:"",logicalOperator:"OR",parts:n.map(t=>({type:"SINGLE",jimuFieldName:t,operator:"STRING_OPERATOR_CONTAINS",valueOptions:{isValid:!0,sourceType:"USER_INPUT",inputEditor:"TEXT_BOX",value:Object(s.Immutable)([{value:e,label:t}])},displayType:"NONE",caseSensitive:o}))};return s.dataSourceUtils.getArcGISSQL(t,i)}}(e,t,i))||void 0===o?void 0:o.sql;n.where=r}const l=new RegExp(`(${e})`,"gi");return function(e,t){return a(this,void 0,void 0,(function*(){return t&&t.type===s.DataSourceTypes.FeatureLayer?yield t.query(e).then(t=>a(this,void 0,void 0,(function*(){return yield function(e,t){var i;return a(this,void 0,void 0,(function*(){return(null==e?void 0:e.where)===(null===(i=null==t?void 0:t.queryParams)||void 0===i?void 0:i.where)?yield Promise.resolve(null==t?void 0:t.records):yield Promise.reject(!1)}))}(e,t)}))):yield Promise.resolve([])}))}(n,i).then(t=>a(this,void 0,void 0,(function*(){let i=[];return r.forEach(s=>{t.forEach(t=>{var o;const n=null===(o=null==t?void 0:t.feature)||void 0===o?void 0:o.attributes[s];if(n&&!i.includes(n)&&n.match(l)){const t={suggestionHtml:d(n,e),suggestion:n};i.push(t)}})}),i=function(e,t){for(var i=e[0]?[e[0]]:[],s=1;s<e.length;s++){for(var o=e[s],n=!1,r=0;r<i.length;r++)if(o[t]==i[r][t]){n=!0;break}n||i.push(o)}return i}(i,"suggestion"),Promise.resolve(i)})))}))}function d(e,t){if(!t)return e;const i=new RegExp(`(${t})`,"gi");return e.replace(i,"<strong >$1</strong>")}const c=s.utils.memoize((function(e){const{showTopTools:t,bottomToolH:i,topRightToolW:o,hasRecords:r,currentCardSize:a,direction:l,pageStyle:d,scrollBarOpen:c,appMode:h,theme:u,isHeightAuto:p,isWidthAuto:g,listTemplateDefaultCardSize:f}=e,m=t?n.e:0,v=l===n.f.Horizon,S=l===n.f.Horizon?"column":"row";return s.css`
    &.list-container {
      /* position: ${p?"absolute":"relative"}; */
      position: relative;
      z-index: 0;
      overflow: hidden;
      .bottom-boundary {
        height: 2px;
        width: 2px;
        position: absolute;
        bottom: 0;
        right: 0;
        opacity: 0;
      }
      ${l===n.f.Horizon?`\n          margin-left: ${n.i+"px"};\n          height: ${p?"auto":"100%"};\n          width: ${g?"auto":`calc(100% - ${n.i+"px"})`};\n        `:`\n          margin-top: ${n.i+"px"};\n          width: ${g?"auto":"100%"};\n          height: ${p?"auto":`calc(100% - ${n.i+"px"})`};\n        `}


      .editing-mask-list {
        position: absolute;
        top: ${l===n.f.Vertical&&r?a.height+m:m}px;
        left: ${l===n.f.Horizon&&r?a.width:0}px;
        bottom: ${s.polished.rem(i)};
        right: 0;
        z-index: 10;
        background-color: ${s.polished.rgba(u.colors.black,.2)};
      }

      .editing-mask-ds-tool {
        position: absolute;
        z-index: 10;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        background-color: ${s.polished.rgba(u.colors.black,.2)};
      }

      .editing-mask-bottom-tool {
        position: absolute;
        z-index: 10;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        background-color: ${s.polished.rgba(u.colors.black,.2)};
      }

      .empty-con {
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        z-index: 10;
        transform: translateY(-50%);
        padding-top: ${m}px;
        .jimu-icon {
          color: ${u.colors.palette.warning[900]};
        }
        .discribtion {
          margin: ${s.polished.rem(9)} 0 ${s.polished.rem(8)} 0;
          font-size: ${s.polished.rem(14)};
          color: ${u.colors.black}
        }
        .clear-message-action-button {
          width: ${s.polished.rem(65)};
        }
      }

      .datasource-tools {
        position: relative;
        height: ${s.polished.rem(m)};
        padding-bottom: ${s.polished.rem(n.d)};
        .sort-fields-input {
          width: 200px;
          margin-left: 8px;
          margin-right: 16px;
        }

        .tool-row {
          height: ${n.e-n.d}px;
        }
        .ds-tools-line {
          width: 100%;
          height: 1px;
          margin-top: ${s.polished.rem(6)};
          background-color: ${u.colors.palette.light[500]};
        }
        .ds-tools-line-blue {
          background-color: ${u.colors.palette.info[500]};
        }
        .list-search-div {
          width: calc(100% - ${o}px);
          .list-search {
            margin-bottom: ${s.polished.rem(-4)};
            width: 100%;
          }
        }

      }
      .tools-menu {
        color: ${u.colors.palette.light[800]};
      }
      .tools-menu:hover {
        color: ${u.colors.palette.info[500]};
      }
      .bottom-tools {
        position: relative;
        padding-top: ${s.polished.rem(n.b)};
        min-height: ${s.polished.rem(n.a)};
        .scroll-navigator {
          .btn {
            border-radius: ${u.borderRadiuses.circle};
          }
        }
      }

      .widget-list-list:focus {
        outline: none;
      }
      .widget-list-list {
        &>div {
          position: relative;
          flex: 1;
          box-sizing: content-box;
          ${v&&"padding-right: "+s.polished.rem(15)};
          ${!v&&"padding-bottom: "+s.polished.rem(15)};
        }
        padding: 0;
        position: relative;
        /* box-sizing: border-box; */
        ${window.jimuConfig.isInBuilder&&h!==s.AppMode.Run?"overflow: hidden !important;":`overflow-${v?"y":"x"}: hidden !important;`}
        height: ${p?"auto":`calc(100% - ${m}px - ${i}px)`} !important;
        width: ${g?"auto":"100%"} !important;
        display: flex;
        ${"flex-direction: "+S};
        ${p&&`min-height: ${f.height}px;`};
        ${g&&`min-width: ${f.width}px;`};
        ${v?`\n              max-width: ${e.mexSize.maxWidth}px;\n            `:`\n              max-height: ${e.mexSize.maxHeight-m-i}px;\n            `}
      }
      ${d!==n.l.Scroll||c?"":"\n          .widget-list-list::-webkit-scrollbar {\n            display: none; //Safari and Chrome\n          }\n          .widget-list-list {\n              -ms-overflow-style: none; //IE 10+\n              overflow: -moz-scrollbars-none; //Firefox\n          }\n        "}
      .placeholder-alert-con {
        position: absolute;
        bottom: ${s.polished.rem(8)};
        right: ${s.polished.rem(8)};
        z-index: 11;
      }
    }
  `}));function h(e,t,i){var o,r,a,l,d,c,h,u,p,g;const{config:f,id:m,appMode:v,isHeightAuto:S,isWidthAuto:b,theme:w}=e;return s.css`
    ${"&.list-widget-"+m} {
      overflow: visible;
      background-color: transparent;
      border: ${s.polished.rem(n.c)} solid ${s.polished.rgba(w.colors.black,window.jimuConfig.isInBuilder&&t?.2:0)};
      height: ${S?"auto":"100%"};
      width: ${b?"auto":"100%"};
      .list-with-mask {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        top: 0;
        background-color: ${s.polished.rgba(w.colors.black,0)};
        z-index: 1;
      }
      .list-loading-con {
        min-height: ${s.polished.rem(120)};
        min-width: ${s.polished.rem(160)};
      }
      .refresh-loading-con {
        right: 0;
        bottom:${i?s.polished.rem(n.a):0};
        align-items: center;
        height: ${s.polished.rem(24)};
        .auto-refresh-loading {
          background: ${s.polished.rgba(null===(a=null===(r=null===(o=w.colors)||void 0===o?void 0:o.palette)||void 0===r?void 0:r.dark)||void 0===a?void 0:a[100],.2)};
          color: ${null===(l=w.colors)||void 0===l?void 0:l.black};
          font-size: ${s.polished.rem(12)};
          line-height: ${s.polished.rem(24)};
          padding: 0 ${s.polished.rem(7)};
        }
        &.horizon-loading {
          bottom:${i?s.polished.rem(n.a+6):s.polished.rem(6)};
        }
        &.vertical-loading {
          right: ${s.polished.rem(6)};
        }
      }
      .loading-con {
        @keyframes loading {
          0% {transform: rotate(0deg); };
          100% {transform: rotate(360deg)};
        }
        width: ${s.polished.rem(16)};
        height: ${s.polished.rem(16)};
        border: 1px solid ${null===(h=null===(c=null===(d=null==w?void 0:w.colors)||void 0===d?void 0:d.palette)||void 0===c?void 0:c.dark)||void 0===h?void 0:h[100]};
        border-radius: 50%;
        border-top: 1px solid ${null===(g=null===(p=null===(u=null==w?void 0:w.colors)||void 0===u?void 0:u.palette)||void 0===p?void 0:p.dark)||void 0===g?void 0:g[800]};
        box-sizing: border-box;
        animation:loading 2s infinite linear;
        margin-right: ${s.polished.rem(4)};
      }
      .widget-list {
        overflow: ${window.jimuConfig.isInBuilder&&v!==s.AppMode.Run?"hidden":"auto"};
        height: ${S?"auto":"100%"};
        width: ${b?"auto":"100%"};
        /* align-items: ${f.alignType};
        justify-content: ${f.alignType}; */
        ${f.direction===n.f.Horizon?"\n            overflow-y: hidden;\n          ":"\n            overflow-x: hidden;\n          "}
      }
    }

  `}function u(e){const{theme:t}=e;return s.css`
    & {
      padding: ${s.polished.rem(6)} ${s.polished.rem(11)};
      height: ${s.polished.rem(40)};
    }
    .ds-tools-line {
      width: 100%;
      height: 1px;
      background-color: ${t.colors.palette.light[500]};
    }
    .ds-tools-line-blue {
      background-color: ${t.colors.palette.info[500]};
    }
    .close-search {
      margin-top: ${s.polished.rem(-6)};
    }
  `}function p(e){const{theme:t}=e;return s.css`
    .close-search {
      border: 1px solid ${t.colors.palette.light[500]};
      box-sizing: border-box;
      background-color: ${t.colors.white};
    }
    .search-box-content {
      flex-direction: column;
      align-items: flex-start;
    }
  `}class g extends s.React.Component{constructor(){super(...arguments),this.getNewProviderData=()=>{const{widgetId:e,datasourceId:t,index:i,record:s}=this.props;return{widgetId:e,dataSourceId:t,recordIndex:i,record:s}},this.shouldComponentUpdateExcept=(e,t,i,s=[])=>{let o=!1;return this.props&&Object.keys(this.props).some(t=>!i.includes(t)&&(this.props[t]!==e[t]?(o=!0,!0):void 0)),this.state&&Object.keys(this.state).some(e=>!s.includes(e)&&(this.state[e]!==t[e]?(o=!0,!0):void 0)),o},this.isProviderEqual=(e,t)=>{let i=!0;if(e)Object.keys(e).some(s=>{if(!t)return i=!1,!0;return e[s]!==t[s]?(i=!1,!0):void 0});else if(t)return!1;return i},this.formatMessage=(e,t)=>this.props.formatMessage(e,t),this.getStyle=e=>{const{widgetId:t,selectable:i,appMode:o}=this.props,n=this.checkIsBackgroundTransparent(e);return s.css`
      ${"&.list-card-"+t} {
        padding: 0;
        border: 0;
        background-color: transparent;
        .list-card-content {
          width: 100%;
          height: 100%;
          overflow: hidden;
        }
      }
      &.surface-1 {
        border: none !important;
        background: ${n&&"none !important"};
      }
      .list-clear-background {
        background: transparent;
      }
      ${"&.list-card-"+t}:hover {
        ${window.jimuConfig.isInBuilder&&o!==s.AppMode.Run||!i?"":"cursor: pointer;"}
      }
    `}}checkIsBackgroundTransparent(e){var t,i,s;const{cardConfigs:o}=this.props;return"rgba(0,0,0,0)"==(null===(s=null===(i=null===(t=null==o?void 0:o[e])||void 0===t?void 0:t.backgroundStyle)||void 0===i?void 0:i.background)||void 0===s?void 0:s.color)}}const f=i(135),m=i(136),v=[0,5],S=[{name:"flip",options:{boundary:document.body,fallbackPlacements:["right-start","left-start","bottom-start","top-end","top-start"]}}],b=[{name:"offset",options:{offset:[0,10]}},{name:"arrow",enabled:!0}];var w=s.ReactRedux.connect((e,t)=>{var i;const{selectionIsList:o,builderSupportModules:n,appMode:r,widgetId:a,browserSizeMode:l}=t;if(!window.jimuConfig.isInBuilder||r===s.AppMode.Run)return{selection:void 0,showBreak:!1};const d=null===(i=null==n?void 0:n.widgetModules)||void 0===i?void 0:i.searchUtils,c=n.jimuForBuilderLib.getAppConfigAction().appConfig,h=0===t.index&&t.selectionIsInList&&e&&e.appRuntimeInfo&&e.appRuntimeInfo.selection;return{selection:h,showBreak:!o&&h&&d&&d.getRelatedLayoutItemsInWidgetByLayoutInfo(c,h,a,l).length>1}})(class extends g{constructor(e){super(e),this.lastResizeCall=null,this.handleItemClick=e=>{const{selectCard:t}=this.props;e&&e.stopPropagation(),t()},this.handleCopyTo=(e,t,i,o)=>{if(!i)return;const{layouts:n,builderSupportModules:a,browserSizeMode:l,builderStatus:d}=this.props,c=a.jimuForBuilderLib.getAppConfigAction(),h=c.appConfig,u=r.searchUtils.findLayoutId(n[d],l,h.mainSizeMode),p=r.searchUtils.findLayoutId(n[t],l,h.mainSizeMode);if(o){const e=a.widgetModules.searchUtils.getContainerLayoutItem(h.layouts[p],i.widgetId,s.LayoutItemType.Widget);e&&c.removeLayoutItem({layoutId:p,layoutItemId:e.id},!1)}c.duplicateLayoutItem(u,p,i.id,!1,o),c.exec(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.editStatus=(e,t)=>{const{dispatch:i,widgetId:o}=this.props;i(s.appActions.widgetStatePropChange(o,e,t))},this.handleBreakLink=e=>{const{layouts:t,builderSupportModules:i,browserSizeMode:o,selection:n,builderStatus:a,dispatch:l}=this.props,d=i.jimuForBuilderLib.getAppConfigAction(),c=d.appConfig,h=r.searchUtils.findLayoutItem(c,n);if(!h)return;const u=r.searchUtils.findLayoutId(t[a],o,c.mainSizeMode);d.duplicateLayoutItem(u,u,h.id,!0),d.removeLayoutItem({layoutId:u,layoutItemId:h.id},!1),d.exec(),n.layoutId===u&&n.layoutItemId===h.id&&l(s.appActions.selectionChanged(null));const p=d.appConfig.layouts[u].content,g=Object.keys(p)[Object.keys(p).length-1];if(g){const e=p[g];l(s.appActions.selectionChanged({layoutId:u,layoutItemId:e.id}))}e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.getCopyDropdownItems=e=>{const{cardConfigs:t,layouts:i,browserSizeMode:o,selection:a,builderStatus:l,builderSupportModules:d}=this.props,c=d.jimuForBuilderLib.getAppConfigAction().appConfig,h=r.searchUtils.findLayoutItem(c,a);if(!a||!h||!window.jimuConfig.isInBuilder)return{items:Object(s.Immutable)([]),title:""};const u=[];let p="",g=!0,f=t[n.n.Selected].selectionMode!==n.m.None,m=!!t[n.n.Hover].enable;const v=(e,t)=>d.widgetModules.searchUtils.getContentsInLayoutWithLayoutWidgetOnly(c,e,s.LayoutItemType.Widget,o).indexOf(t)>-1,S=()=>{if(t[n.n.Hover].enable){const e=r.searchUtils.findLayoutId(i[n.n.Hover],o,c.mainSizeMode);v(e,c.layouts[a.layoutId].content[a.layoutItemId].widgetId)||(m=!1),u.push({label:this.formatMessage("applyTo",{status:this.formatMessage("hover").toLocaleLowerCase()}),event:e=>{this.handleCopyTo(e,n.n.Hover,h,m)}})}},b=()=>{if(t[n.n.Selected].selectionMode!==n.m.None){const e=r.searchUtils.findLayoutId(i[n.n.Selected],o,c.mainSizeMode);v(e,c.layouts[a.layoutId].content[a.layoutItemId].widgetId)||(f=!1),u.push({label:this.formatMessage("applyTo",{status:this.formatMessage("selected").toLocaleLowerCase()}),event:e=>{this.handleCopyTo(e,n.n.Selected,h,f)}})}},w=()=>{const e=r.searchUtils.findLayoutId(i[n.n.Regular],o,c.mainSizeMode);v(e,c.layouts[a.layoutId].content[a.layoutItemId].widgetId)||(g=!1),u.push({label:this.formatMessage("applyTo",{status:this.formatMessage("regular").toLocaleLowerCase()}),event:e=>{this.handleCopyTo(e,n.n.Regular,h,g)}})};return l===n.n.Regular?(S(),b(),m&&f?p=this.formatMessage("linkedToAnd",{where1:this.formatMessage("selected").toLocaleLowerCase(),where2:this.formatMessage("hover").toLocaleLowerCase()}):m?p=this.formatMessage("linkedTo",{where:this.formatMessage("hover").toLocaleLowerCase()}):f&&(p=this.formatMessage("linkedTo",{where:this.formatMessage("selected").toLocaleLowerCase()}))):l===n.n.Hover?(w(),b(),g&&f?p=this.formatMessage("linkedToAnd",{where1:this.formatMessage("regular").toLocaleLowerCase(),where2:this.formatMessage("selected").toLocaleLowerCase()}):g?p=this.formatMessage("linkedTo",{where:this.formatMessage("regular").toLocaleLowerCase()}):f&&(p=this.formatMessage("linkedTo",{where:this.formatMessage("selected").toLocaleLowerCase()}))):(w(),S(),g&&m?p=this.formatMessage("linkedToAnd",{where1:this.formatMessage("regular").toLocaleLowerCase(),where2:this.formatMessage("hover").toLocaleLowerCase()}):g?p=this.formatMessage("linkedTo",{where:this.formatMessage("regular").toLocaleLowerCase()}):m&&(p=this.formatMessage("linkedTo",{where:this.formatMessage("hover").toLocaleLowerCase()}))),e?u.push({label:this.formatMessage("isolate"),event:this.handleBreakLink}):p=this.formatMessage("isolate"),{items:Object(s.Immutable)(u),title:p}},this._renderAction=()=>{const e=[],{theme:t,direction:i}=this.props,o=s.css`
      box-shadow: none;

      &:after {
        position: absolute;
        content: '';
        width: ${12}px;
        height: ${12}px;
        background-color: ${t.colors.palette.primary[500]};
        border: 2px solid ${t.colors.white};
        border-radius: 50%;
        z-index: ${20};
      }
    `,r=s.css`
      box-shadow: none;
      height: ${16}px;
      left: 0px;
      right: 0px;
      bottom: ${-8}px;
      &:after {
        position: absolute;
        content: '';
        bottom: 50%;
        left: 0;
        right: 0;
        height: 2px;
        background-color: ${t.colors.palette.primary[300]};
        z-index: ${20};
      }
    `,a=s.css`
      box-shadow: none;
      width: ${16}px;
      top: 0px;
      bottom: 0px;
      right: ${-8}px;
      &:after {
        position: absolute;
        content: '';
        right: 50%;
        top: 0;
        bottom: 0;
        width: 2px;
        background-color: ${t.colors.palette.primary[300]};
        z-index: ${20};
      }
    `,l=s.css`
      position: absolute;
    `,d=s.css`
      width: ${16}px;
      top: ${10}px;
      bottom: ${10}px;
      right: ${-8}px;

      &:after {
        top: 50%;
        right: 50%;
        margin-top: ${-5}px;
        margin-right: ${-5}px;
      }
    `,c=s.css`
      height: ${16}px;
      left: ${10}px;
      right: ${10}px;
      bottom: ${-8}px;

      &:after {
        left: 50%;
        bottom: 50%;
        margin-left: ${-5}px;
        margin-bottom: ${-5}px;
      }
    `;return i===n.f.Horizon?(e.push(Object(s.jsx)("span",{key:"10",className:"list-card-rnd-resize-left-line",css:[l,a]})),e.push(Object(s.jsx)("span",{key:"4",className:"list-card-rnd-resize-right",css:[l,o,d]}))):(e.push(Object(s.jsx)("span",{key:"9",className:"list-card-rnd-resize-bottom-line",css:[l,r]})),e.push(Object(s.jsx)("span",{key:"6",className:"list-card-rnd-resize-bottom",css:[l,o,c]}))),e},this.getCardToolsStyle=e=>s.css`
      width: 100%;
      .btn {
        width: 100%;
      }
      .dropdown-toggle {
        justify-content: center;
      }
    `,this.renderCardTools=()=>{const{index:e}=this.props;if(!window.jimuConfig.isInBuilder||e>0)return;const{cardConfigs:t,selection:i,widgetId:r,appMode:a,builderSupportModules:l,datasourceId:d,browserSizeMode:c,builderStatus:h,selectionIsInList:u,selectionIsList:p,hideCardTool:g}=this.props,w=l.jimuForBuilderLib.getAppConfigAction().appConfig;let y=!0;const{searchUtils:x,BuilderDropDown:C,BuilderPopper:I,GLOBAL_RESIZING_CLASS_NAME:j,GLOBAL_H5_DRAGGING_CLASS_NAME:M,GLOBAL_DRAGGING_CLASS_NAME:O,BuilderButton:T,withBuilderTheme:R}=l.widgetModules,L=p;(u||L)&&a!==s.AppMode.Run&&!g&&d||(y=!1);const z=!L&&i&&x&&x.getRelatedLayoutItemsInWidgetByLayoutInfo(w,i,r,c).length>1,{items:k,title:D}=this.getCopyDropdownItems(z),P=k&&k.length>0,E=R(e=>Object(s.jsx)("div",{className:"status-group d-flex flex-column align-items-center p-2",css:this.getCardToolsStyle(e)},Object(s.jsx)(T,{active:h===n.n.Regular,onClick:e=>this.handleBuilderStatusChange(e,n.n.Regular)},this.formatMessage("regular")),t[n.n.Hover].enable&&Object(s.jsx)(T,{active:h===n.n.Hover,className:"mt-1",onClick:e=>this.handleBuilderStatusChange(e,n.n.Hover)},this.formatMessage("hover")),t[n.n.Selected].selectionMode!==n.m.None&&Object(s.jsx)(T,{active:h===n.n.Selected,className:"mt-1",onClick:e=>this.handleBuilderStatusChange(e,n.n.Selected)},this.formatMessage("selected")),!L&&(P||z)&&Object(s.jsx)(C,{className:"mt-1 w-100",toggleIsIcon:!0,toggleTitle:D,toggleType:"default",direction:"left",toggleContent:e=>Object(s.jsx)(o.Icon,{icon:z?m:f,size:16}),modifiers:b,items:k})));return y&&this.props.isEditing&&(t[n.n.Hover].enable||t[n.n.Selected].selectionMode!==n.m.None)&&Object(s.jsx)(I,{placement:"left-start",a11yVersion:-1,css:s.css`
            .${O} &,
            .${j} &,
            .${M} & {
              &.popper {
                display: none;
              }
            }
          `,reference:this.resizeRef.current,offset:v,modifiers:S,open:y},E())},this.isItemAccept=(e,t)=>{var i,s;if(!e)return!1;const{isEditing:o}=this.props,n=null===(s=null===(i=e.manifest)||void 0===i?void 0:i.properties)||void 0===s?void 0:s.supportRepeat,{builderSupportModules:r,widgetId:a}=this.props,l=r.jimuForBuilderLib.getAppConfigAction().appConfig,d=r.widgetModules.selectionInList;return o&&n&&(!e.layoutInfo||e.layoutInfo&&d(e.layoutInfo,a,l,!1))},this.getEditorStyle=()=>s.css`
      &.list-card-content {
        .fixed-layout {
          border: 0 !important;
        }
      }
    `,this.state={didMount:!1},this.resizeRef=s.React.createRef(),this.providerData=this.getNewProviderData()}shouldComponentUpdate(e,t){let i=this.shouldComponentUpdateExcept(e,t,["listStyle","selection"]);if(i=i||!s.utils.isDeepEqual(this.props.listStyle,e.listStyle),!i){const{selectionIsInList:t,selectionIsList:o}=this.props;(o||t)&&(i=!s.utils.isDeepEqual(this.props.selection,e.selection))}return i}componentDidUpdate(e){const{selectionIsInList:t,isEditing:i,direction:s,isRTL:o,lockItemRatio:r,index:a}=this.props;window.jimuConfig.isInBuilder&&0===a&&this.interactable&&(!i||t||r?this.interactable.resizable(!1):(this.interactable.resizable({edges:{top:!1,left:s===n.f.Horizon&&o,bottom:s===n.f.Vertical,right:s===n.f.Horizon&&!o}}),this.interactable.resizable(!0)))}componentDidMount(){const{index:e,updateCardToolPosition:t}=this.props;if(0===e&&window.jimuConfig.isInBuilder&&this.resizeRef.current){const{interact:e,handleResizeCard:i,direction:s,isRTL:o}=this.props;this.interactable=e(this.resizeRef.current).resizable({edges:{top:!1,left:s===n.f.Horizon&&o,bottom:s===n.f.Vertical,right:s===n.f.Horizon&&!o},modifiers:[e.modifiers.restrictEdges({outer:"parent",endOnly:!0}),e.modifiers.restrictSize({min:{width:n.h,height:n.h}})],inertia:!1,onstart:e=>{const{changeIsResizingCard:t}=this.props;t&&t(!0),e.stopPropagation()},onmove:e=>{e.stopPropagation(),this.lastResizeCall&&cancelAnimationFrame(this.lastResizeCall);const s=e.rect,o={width:s.right-s.left,height:s.bottom-s.top};t(),this.lastResizeCall=requestAnimationFrame(()=>{const e={};i(o,!1,e.top,e.left)})},onend:e=>{e.stopPropagation(),this.lastResizeCall&&cancelAnimationFrame(this.lastResizeCall),this.lastResizeCall=requestAnimationFrame(()=>{const t=e.rect,s={width:t.right-t.left,height:t.bottom-t.top};i(s,!0);const{changeIsResizingCard:o}=this.props;o&&o(!1)})}})}this.setState({didMount:!0})}componentWillUnMount(){this.lastResizeCall&&cancelAnimationFrame(this.lastResizeCall),this.interactable&&(this.interactable.unset(),this.interactable=null)}handleBuilderStatusChange(e,t){this.editStatus("showCardSetting",t),this.editStatus("builderStatus",t);const{selectCard:i}=this.props;i(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}render(){const{selectable:e,active:t,cardConfigs:i,LayoutEntry:n,selectionIsInList:r,isEditing:a,widgetId:l,listStyle:d,lockItemRatio:c,builderStatus:h,layouts:u}=this.props,{didMount:p}=this.state,g=u[h],f=i[h].backgroundStyle,m=Object.assign({},o.styleUtils.toCSSStyle(f||{})),v=Object.assign({},o.styleUtils.toCSSStyle({borderRadius:(null==f?void 0:f.borderRadius)||0}||{})),S=this.getNewProviderData();return this.isProviderEqual(S,this.providerData)||(this.providerData=S),Object(s.jsx)(s.RepeatedDataSourceProvider,{data:this.providerData},Object(s.jsx)(o.ListGroupItem,{active:e&&t,css:this.getStyle(h),style:Object.assign(Object.assign({},v),d),className:Object(s.classNames)("surface-1","list-card-"+l),onClick:this.handleItemClick,role:"listCardEditor"},p&&this.renderCardTools(),Object(s.jsx)("div",{className:"list-card-content d-flex",style:m,css:this.getEditorStyle(),ref:this.resizeRef},Object(s.jsx)(n,{isItemAccepted:this.isItemAccept,isRepeat:!0,layouts:g,isInWidget:!0}),a&&!r&&!c&&this._renderAction())))}}),y=i(22);class x extends g{constructor(e){super(e),this.updateExpressionRecords=()=>{var e,t;this.expressionRecords={},(null===(e=this.providerData)||void 0===e?void 0:e.dataSourceId)&&(null===(t=this.providerData)||void 0===t?void 0:t.record)&&(this.expressionRecords[this.providerData.dataSourceId]=this.providerData.record)},this.onUrlExpResolveChange=e=>{if(e.isSuccessful)this.setState({url:e.value});else{const t="";e.value;s.ExpressionResolverErrorCode.Failed,this.setState({url:t})}},this.handleItemClick=e=>{const{onChange:t,active:i}=this.props,{providerData:s,linkRef:o}=this,n=e.target&&e.target.tagName||"";if("a"===n.toLowerCase()||"button"===n.toLowerCase()||"linkClick"===e.exbEventType||i||o.current&&o.current.click(),i){const i=e.target&&e.target.tagName||"";"a"!==i.toLowerCase()&&"button"!==i.toLowerCase()&&"linkClick"!==e.exbEventType&&t(s&&s.record)}else t(s&&s.record);"linkClick"===e.exbEventType&&delete e.exbEventType},this.handleLinkClick=e=>{e.stopPropagation()},this.state={url:""},this.providerData=this.getNewProviderData(),this.updateExpressionRecords(),this.layoutRef=s.React.createRef(),this.linkRef=s.React.createRef()}shouldComponentUpdate(e,t){let i=this.shouldComponentUpdateExcept(e,t,["listStyle"]);return i=i||!s.utils.isDeepEqual(this.props.listStyle,e.listStyle),i}render(){const{selectable:e,active:t,cardConfigs:i,widgetId:a,listStyle:l,layouts:d,hoverLayoutOpen:c,appMode:h,isHover:u,linkParam:p,useDataSources:g,itemIdex:f,handleListMouseLeave:m,handleListMouseMove:v}=this.props;let{queryObject:S}=this.props;const{url:b}=this.state;let w=n.n.Regular;let x,C,I,j;window.jimuConfig.isInBuilder&&h!==s.AppMode.Run?(C=i[n.n.Regular].backgroundStyle,x=d[n.n.Regular]):(x=d[n.n.Regular],C=i[n.n.Regular].backgroundStyle,p&&p.linkType&&(I=p.openType,j={linkType:p.linkType},p.linkType===s.LinkType.WebAddress?(j.value=b,S=void 0):j.value=p.value),c&&u&&d[n.n.Hover]&&(w=n.n.Hover,x=d[n.n.Hover],C=i[n.n.Hover].backgroundStyle),e&&t&&d[n.n.Selected]&&(w=n.n.Selected,x=d[n.n.Selected],C=i[n.n.Selected].backgroundStyle,S=void 0,j=void 0,I=void 0));const M=Object.assign({},o.styleUtils.toCSSStyle(C||{})),O=Object.assign({},o.styleUtils.toCSSStyle({borderRadius:(null==C?void 0:C.borderRadius)||0}||{})),T=this.getNewProviderData();return this.isProviderEqual(T,this.providerData)||(this.providerData=T,this.updateExpressionRecords()),Object(s.jsx)(s.RepeatedDataSourceProvider,{data:this.providerData},Object(s.jsx)(o.ListGroupItem,{active:e&&t,css:this.getStyle(w),style:Object.assign(Object.assign({},l),O),className:Object(s.classNames)("surface-1","list-card-"+a),onClick:this.handleItemClick,role:"listCardViewer"},Object(s.jsx)("div",{className:"list-card-content d-flex",onMouseLeave:m,onMouseMove:()=>{v(f)},style:M},Object(s.jsx)("div",{className:"position-relative h-100 w-100"},Object(s.jsx)(y.Fragment,null,Object(s.jsx)(o._Link,{className:"p-0 w-100 h-100 position-absolute border-0 list-clear-background",ref:this.linkRef,to:j,onClick:this.handleLinkClick,target:I,queryObject:S}),Object(s.jsx)("div",{className:"d-flex w-100 h-100",ref:this.layoutRef},Object(s.jsx)(r.LayoutEntry,{layouts:x}))))),Object(s.jsx)(s.ExpressionResolverComponent,{useDataSources:g,expression:null==p?void 0:p.expression,onChange:this.onUrlExpResolveChange,widgetId:this.props.widgetId})))}}var C=i(106);const I=new(0,s.esri.Sanitizer);class j extends s.React.PureComponent{constructor(e){super(e),this.handleChange=e=>{this.setState({searchText:e,isShowSuggestion:!0},()=>{const{onSearchTextChange:t}=this.props;t&&t(e)})},this.handleSubmit=(e,t=!1)=>{const{onSubmit:i}=this.props;i&&i(e,t)},this.onKeyUp=e=>{e&&e.target&&13===e.keyCode&&(this.setState({isShowSuggestion:!1}),this.handleSubmit(e.target.value,!0))},this.onSuggestionConfirm=e=>{this.setState({searchText:e,isShowSuggestion:!1},()=>{var t;this.handleSubmit(e),null===(t=this.props)||void 0===t||t.toggleSearchBoxVisible(!0)})},this.handleClear=e=>{this.setState({searchText:""}),e.stopPropagation()},this.getStyle=()=>{var e,t,i,o,n,r,a,l,d;const{theme:c}=this.props;return s.css`
      position: relative;
      .search-input {
        padding-left: 3px;
        border: 0;
        // border-bottom-width: 1px;
        // border-bottom-style: solid;
        // border-color: ${c.colors.primary};
        background: transparent;
        height: ${s.polished.rem(26)};
        min-width: 0;
        .input-wrapper {
          background: transparent;
          border: none;
          padding: 0;
          height: 100%;
        }
      }
      .search-input:focus {
        background: transparent;
      }
      .search-loading-con {
        @keyframes loading {
          0% {transform: rotate(0deg); };
          100% {transform: rotate(360deg)};
        }
        width: ${s.polished.rem(13)};
        height: ${s.polished.rem(13)};
        min-width: ${s.polished.rem(13)};
        border: 2px solid ${null===(i=null===(t=null===(e=null==c?void 0:c.colors)||void 0===e?void 0:e.palette)||void 0===t?void 0:t.secondary)||void 0===i?void 0:i[300]};
        border-radius: 50%;
        border-top: 2px solid ${null===(r=null===(n=null===(o=null==c?void 0:c.colors)||void 0===o?void 0:o.palette)||void 0===n?void 0:n.primary)||void 0===r?void 0:r[500]};
        box-sizing: border-box;
        animation:loading 2s infinite linear;
        margin-right: ${s.polished.rem(4)};
      }
      .clear-search, .search-back {
        cursor: pointer;
        padding: ${s.polished.rem(6)};
        background: none;
        border: none;
        color: ${null===(d=null===(l=null===(a=null==c?void 0:c.colors)||void 0===a?void 0:a.palette)||void 0===l?void 0:l.dark)||void 0===d?void 0:d[800]}
      }
      .search-back {
        margin-left: ${s.polished.rem(-6)};
      }
      .clear-search:hover {
        background: none;
      }
    `},this.getSuggestionListStyle=()=>{const{suggestionWidth:e}=this.props;return s.css`
      & {
        max-height: ${s.polished.rem(300)};
        min-width: ${s.polished.rem(e)};
        overflow: auto;
      }
      button {
        display: block;
        width: 100%;
        text-align: left;
        border: none;
        border-radius: 0;
      }
      button:hover {
        border: none;
      }
    `},this.clearSearchText=()=>{const{searchText:e}=this.state;e&&(this.handleChange(""),this.setState({isShowSuggestion:!1}))},this.getTextInputSuffixElement=()=>{const{theme:e,showLoading:t,formatMessage:n}=this.props,{searchText:r}=this.state;return Object(s.jsx)("div",{className:"d-flex align-items-center"},t&&Object(s.jsx)("div",{className:"search-loading-con"}),r&&Object(s.jsx)(o.Button,{color:"tertiary",className:"clear-search",icon:!0,size:"sm",onClick:this.clearSearchText,title:n("clearSearch")},Object(s.jsx)(o.Icon,{size:14,icon:i(51),color:e.colors.palette.dark[800]})))},this.getTextInputPrefixElement=()=>{const{theme:e}=this.props;return Object(s.jsx)(o.Button,{type:"tertiary",icon:!0,size:"sm",onClick:e=>this.handleSubmit(this.state.searchText)},Object(s.jsx)(o.Icon,{size:16,icon:i(91),color:e.colors.palette.light[800]}))},this.state={searchText:e.searchText||"",isShowSuggestion:!1}}componentDidUpdate(e){if(this.props.searchText!==e.searchText&&this.props.searchText!==this.state.searchText){const{searchText:e}=this.props;this.setState({searchText:e})}}render(){const{placeholder:e,className:t,showClear:n,hideSearchIcon:r,inputRef:a,onFocus:l,onBlur:d,theme:c,searchSuggestion:h,formatMessage:u,isShowBackButton:p}=this.props,{searchText:g,isShowSuggestion:f}=this.state;return Object(s.jsx)("div",null,Object(s.jsx)("div",{css:this.getStyle(),className:"d-flex align-items-center "+t},p&&Object(s.jsx)(o.Button,{color:"tertiary",className:"search-back",icon:!0,size:"sm",onClick:e=>{var t;null===(t=this.props)||void 0===t||t.toggleSearchBoxVisible(!1)},title:u("topToolBack")},Object(s.jsx)(o.Icon,{size:20,icon:i(69),color:c.colors.palette.dark[800]})),Object(s.jsx)(o.TextInput,{className:"search-input flex-grow-1",ref:a,placeholder:e,onChange:e=>this.handleChange(e.target.value),onBlur:d,onFocus:l,value:g||"",onKeyDown:e=>this.onKeyUp(e),prefix:!r&&!p&&this.getTextInputPrefixElement(),suffix:this.getTextInputSuffixElement()}),n&&Object(s.jsx)(o.Button,{color:"tertiary",icon:!0,size:"sm",onClick:this.handleSubmit},Object(s.jsx)(o.Icon,{size:12,icon:i(51)}))),Object(s.jsx)("div",{ref:e=>this.reference=e},Object(s.jsx)(o.Popper,{css:this.getSuggestionListStyle(),placement:"bottom-start",reference:this.reference,offset:[0,8],open:f,a11yVersion:-1,toggle:e=>{this.setState({isShowSuggestion:!f})}},h.map((e,t)=>{const i=I.sanitize(e.suggestionHtml);return Object(s.jsx)(o.Button,{key:t,type:"secondary",size:"sm",onClick:()=>{this.onSuggestionConfirm(e.suggestion)},dangerouslySetInnerHTML:{__html:i}})}))))}}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,O(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var L=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function z(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(s=e[i],o=t[i],!(s===o||L(s)&&L(o)))return!1;var s,o;return!0}var k=function(e,t){var i;void 0===t&&(t=z);var s,o=[],n=!1;return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return n&&i===this&&t(r,o)||(s=e.apply(this,r),n=!0,i=this,o=r),s}};var D="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function P(e){cancelAnimationFrame(e.id)}function E(e,t){var i=D();var s={id:requestAnimationFrame((function o(){D()-i>=t?e.call(null):s.id=requestAnimationFrame(o)}))};return s}var A=null;function $(e){if(void 0===e&&(e=!1),null===A||e){var t=document.createElement("div"),i=t.style;i.width="50px",i.height="50px",i.overflow="scroll",i.direction="rtl";var s=document.createElement("div"),o=s.style;return o.width="100px",o.height="100px",t.appendChild(s),document.body.appendChild(t),t.scrollLeft>0?A="positive-descending":(t.scrollLeft=1,A=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),A}return A}var B=function(e,t){return e};function N(e){var t,i,s=e.getItemOffset,o=e.getEstimatedTotalSize,n=e.getItemSize,r=e.getOffsetForIndexAndAlignment,a=e.getStartIndexForOffset,l=e.getStopIndexForStartIndex,d=e.initInstanceProps,c=e.shouldResetStyleCacheOnItemSizeChange,h=e.validateProps;return i=t=function(e){function t(t){var i;return(i=e.call(this,t)||this)._instanceProps=d(i.props,R(R(i))),i._outerRef=void 0,i._resetIsScrollingTimeoutId=null,i.state={instance:R(R(i)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof i.props.initialScrollOffset?i.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},i._callOnItemsRendered=void 0,i._callOnItemsRendered=k((function(e,t,s,o){return i.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:s,visibleStopIndex:o})})),i._callOnScroll=void 0,i._callOnScroll=k((function(e,t,s){return i.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:s})})),i._getItemStyle=void 0,i._getItemStyle=function(e){var t,o=i.props,r=o.direction,a=o.itemSize,l=o.layout,d=i._getItemStyleCache(c&&a,c&&l,c&&r);if(d.hasOwnProperty(e))t=d[e];else{var h=s(i.props,e,i._instanceProps),u=n(i.props,e,i._instanceProps),p="horizontal"===r||"horizontal"===l,g="rtl"===r,f=p?h:0;d[e]=t={position:"absolute",left:g?void 0:f,right:g?f:void 0,top:p?0:h,height:p?"100%":u,width:p?u:"100%"}}return t},i._getItemStyleCache=void 0,i._getItemStyleCache=k((function(e,t,i){return{}})),i._onScrollHorizontal=function(e){var t=e.currentTarget,s=t.clientWidth,o=t.scrollLeft,n=t.scrollWidth;i.setState((function(e){if(e.scrollOffset===o)return null;var t=i.props.direction,r=o;if("rtl"===t)switch($()){case"negative":r=-o;break;case"positive-descending":r=n-s-o}return r=Math.max(0,Math.min(r,n-s)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:r,scrollUpdateWasRequested:!1}}),i._resetIsScrollingDebounced)},i._onScrollVertical=function(e){var t=e.currentTarget,s=t.clientHeight,o=t.scrollHeight,n=t.scrollTop;i.setState((function(e){if(e.scrollOffset===n)return null;var t=Math.max(0,Math.min(n,o-s));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),i._resetIsScrollingDebounced)},i._outerRefSetter=function(e){var t=i.props.outerRef;i._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},i._resetIsScrollingDebounced=function(){null!==i._resetIsScrollingTimeoutId&&P(i._resetIsScrollingTimeoutId),i._resetIsScrollingTimeoutId=E(i._resetIsScrolling,150)},i._resetIsScrolling=function(){i._resetIsScrollingTimeoutId=null,i.setState({isScrolling:!1},(function(){i._getItemStyleCache(-1,null)}))},i}T(t,e),t.getDerivedStateFromProps=function(e,t){return H(e,t),h(e),null};var i=t.prototype;return i.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},i.scrollToItem=function(e,t){void 0===t&&(t="auto");var i=this.props.itemCount,s=this.state.scrollOffset;e=Math.max(0,Math.min(e,i-1)),this.scrollTo(r(this.props,e,t,s,this._instanceProps))},i.componentDidMount=function(){var e=this.props,t=e.direction,i=e.initialScrollOffset,s=e.layout;if("number"==typeof i&&null!=this._outerRef){var o=this._outerRef;"horizontal"===t||"horizontal"===s?o.scrollLeft=i:o.scrollTop=i}this._callPropsCallbacks()},i.componentDidUpdate=function(){var e=this.props,t=e.direction,i=e.layout,s=this.state,o=s.scrollOffset;if(s.scrollUpdateWasRequested&&null!=this._outerRef){var n=this._outerRef;if("horizontal"===t||"horizontal"===i)if("rtl"===t)switch($()){case"negative":n.scrollLeft=-o;break;case"positive-ascending":n.scrollLeft=o;break;default:var r=n.clientWidth,a=n.scrollWidth;n.scrollLeft=a-r-o}else n.scrollLeft=o;else n.scrollTop=o}this._callPropsCallbacks()},i.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&P(this._resetIsScrollingTimeoutId)},i.render=function(){var e=this.props,t=e.children,i=e.className,s=e.direction,n=e.height,r=e.innerRef,a=e.innerElementType,l=e.innerTagName,d=e.itemCount,c=e.itemData,h=e.itemKey,u=void 0===h?B:h,p=e.layout,g=e.outerElementType,f=e.outerTagName,m=e.style,v=e.useIsScrolling,S=e.width,b=this.state.isScrolling,w="horizontal"===s||"horizontal"===p,x=w?this._onScrollHorizontal:this._onScrollVertical,C=this._getRangeToRender(),I=C[0],j=C[1],O=[];if(d>0)for(var T=I;T<=j;T++)O.push(Object(y.createElement)(t,{data:c,key:u(T,c),index:T,isScrolling:v?b:void 0,style:this._getItemStyle(T)}));var R=o(this.props,this._instanceProps);return Object(y.createElement)(g||f||"div",{className:i,onScroll:x,ref:this._outerRefSetter,style:M({position:"relative",height:n,width:S,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:s},m)},Object(y.createElement)(a||l||"div",{children:O,ref:r,style:{height:w?"100%":R,pointerEvents:b?"none":void 0,width:w?R:"100%"}}))},i._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],i=e[1],s=e[2],o=e[3];this._callOnItemsRendered(t,i,s,o)}if("function"==typeof this.props.onScroll){var n=this.state,r=n.scrollDirection,a=n.scrollOffset,l=n.scrollUpdateWasRequested;this._callOnScroll(r,a,l)}},i._getRangeToRender=function(){var e=this.props,t=e.itemCount,i=e.overscanCount,s=this.state,o=s.isScrolling,n=s.scrollDirection,r=s.scrollOffset;if(0===t)return[0,0,0,0];var d=a(this.props,r,this._instanceProps),c=l(this.props,d,r,this._instanceProps),h=o&&"backward"!==n?1:Math.max(1,i),u=o&&"forward"!==n?1:Math.max(1,i);return[Math.max(0,d-h),Math.max(0,Math.min(t-1,c+u)),d,c]},t}(y.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},i}var H=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},F=function(e,t,i){var s=e.itemSize,o=i.itemMetadataMap,n=i.lastMeasuredIndex;if(t>n){var r=0;if(n>=0){var a=o[n];r=a.offset+a.size}for(var l=n+1;l<=t;l++){var d=s(l);o[l]={offset:r,size:d},r+=d}i.lastMeasuredIndex=t}return o[t]},_=function(e,t,i,s,o){for(;s<=i;){var n=s+Math.floor((i-s)/2),r=F(e,n,t).offset;if(r===o)return n;r<o?s=n+1:r>o&&(i=n-1)}return s>0?s-1:0},U=function(e,t,i,s){for(var o=e.itemCount,n=1;i<o&&F(e,i,t).offset<s;)i+=n,n*=2;return _(e,t,Math.min(i,o-1),Math.floor(i/2),s)},W=function(e,t){var i=e.itemCount,s=t.itemMetadataMap,o=t.estimatedItemSize,n=t.lastMeasuredIndex,r=0;if(n>=i&&(n=i-1),n>=0){var a=s[n];r=a.offset+a.size}return r+(i-n-1)*o},V=N({getItemOffset:function(e,t,i){return F(e,t,i).offset},getItemSize:function(e,t,i){return i.itemMetadataMap[t].size},getEstimatedTotalSize:W,getOffsetForIndexAndAlignment:function(e,t,i,s,o){var n=e.direction,r=e.height,a=e.layout,l=e.width,d="horizontal"===n||"horizontal"===a?l:r,c=F(e,t,o),h=W(e,o),u=Math.max(0,Math.min(h-d,c.offset)),p=Math.max(0,c.offset-d+c.size);switch("smart"===i&&(i=s>=p-d&&s<=u+d?"auto":"center"),i){case"start":return u;case"end":return p;case"center":return Math.round(p+(u-p)/2);case"auto":default:return s>=p&&s<=u?s:s<p?p:u}},getStartIndexForOffset:function(e,t,i){return function(e,t,i){var s=t.itemMetadataMap,o=t.lastMeasuredIndex;return(o>0?s[o].offset:0)>=i?_(e,t,o,0,i):U(e,t,Math.max(0,o),i)}(e,i,t)},getStopIndexForStartIndex:function(e,t,i,s){for(var o=e.direction,n=e.height,r=e.itemCount,a=e.layout,l=e.width,d="horizontal"===o||"horizontal"===a?l:n,c=F(e,t,s),h=i+d,u=c.offset+c.size,p=t;p<r-1&&u<h;)p++,u+=F(e,p,s).size;return p},initInstanceProps:function(e,t){var i={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,s){void 0===s&&(s=!0),i.lastMeasuredIndex=Math.min(i.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),s&&t.forceUpdate()},i},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});var q=i(107),G=i(40);const Q=i(99),Y=[0,5],K=[{name:"flip",options:{boundary:document.body,fallbackPlacements:["bottom-start","right-end","top-start","left-start"]}}];class X extends s.React.PureComponent{constructor(e){super(e),this.formatMessage=(e,t)=>this.props.formatMessage(e,t),this.onPopperToggle=e=>{const{filter:t}=this.props,{isOpen:i}=this.state;i||this.setState({currentFilter:t}),this.setState({isOpen:!i})},this.onItemClick=(e,t)=>{this.setState({isOpen:!1}),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.handleFilterChange=e=>{this.setState({currentFilter:e})},this.handleApplyClick=e=>{const{currentFilter:t}=this.state,{handleFilterApplyChange:i,handleFilterChange:s}=this.props;s(t),i(!0),this.setState({isOpen:!1})},this.handleClearClick=e=>{const{handleFilterApplyChange:t}=this.props;t(!1),this.setState({isOpen:!1})},this.getStyle=()=>{const{theme:e}=this.props;return s.css`
      position: relative;
      .dot {
        position: absolute;
        width: 6px;
        height: 6px;
        right: -2px;
        top: 0px;
        .dot-bottom {
          width: 6px;
          height: 6px;
          background-color: transparent;
          .dot-top {
            width: 4px;
            height: 4px;
            background-color: ${e.colors.palette.dark[600]};
          }
        }
      }
      :hover {
        .dot-top {
          background-color: ${e.colors.palette.primary[500]};
        }
      }
      & .active {
        .dot-top {
          background-color: ${e.colors.white};
        }
        :hover {
          .dot-top {
            background-color: ${e.colors.white};
          }
        }
      }
    `},this.getPopperStyle=()=>s.css`
      .filter-button-con button {
        max-width: ${s.polished.rem(100)};
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .clear-button {
        margin-left: ${s.polished.rem(19)};
      }
    `,this.toggleRef=s.React.createRef(),this.state={isOpen:!1,currentFilter:e.filter}}componentDidUpdate(e){const{filter:t,appMode:i}=this.props;t!==e.filter&&this.setState({currentFilter:t}),i!==e.appMode&&i===s.AppMode.Design&&this.setState({isOpen:!1})}render(){const{filter:e,selectedDs:t,widgetId:i,title:n,applied:r}=this.props,{isOpen:a,currentFilter:l}=this.state,d=r&&(null==e?void 0:e.sql)===(null==l?void 0:l.sql);return Object(s.jsx)(y.Fragment,null,Object(s.jsx)(o.Button,{css:this.getStyle(),size:"sm",type:"tertiary",icon:!0,title:n,ref:this.toggleRef,onClick:this.onPopperToggle},Object(s.jsx)(o.Icon,{icon:Q,size:16}),r&&Object(s.jsx)("div",{className:"dot align-items-center justify-content-center"},Object(s.jsx)("div",{className:"dot-bottom rounded-circle"},Object(s.jsx)("div",{className:"dot-top rounded-circle"})))),Object(s.jsx)(o.Popper,{placement:"bottom-start",reference:this.toggleRef.current,offset:Y,toggle:this.onPopperToggle,css:this.getPopperStyle(),open:a,modifiers:K},Object(s.jsx)("div",{style:{padding:s.polished.rem(20),width:s.polished.rem(250)}},Object(s.jsx)("div",null,Object(s.jsx)(G.SqlExpressionRuntime,{widgetId:i,dataSource:t,expression:l,onChange:this.handleFilterChange})),Object(s.jsx)("div",{className:"d-flex w-100 mt-3 filter-button-con"},Object(s.jsx)(o.Button,{disabled:d,onClick:this.handleApplyClick,type:"primary",title:this.formatMessage("apply")},this.formatMessage("apply")),Object(s.jsx)(o.Button,{disabled:!r,onClick:this.handleClearClick,title:this.formatMessage("clear"),className:"clear-button"},this.formatMessage("clear"))))))}}const Z=i(63),J=i(64),ee=i(65),te=i(61);function ie(e){const{isRTL:t,totalPage:i,pageStyle:r,direction:a,currentPage:l,scrollStatus:d,isScrollEnd:c,isEditing:h,showLoading:u,handleScrollDown:p,handleScrollUp:g,handleSwitchPage:f,formatMessage:m}=e;return s.React.createElement("div",{className:"bottom-tools w-100 d-flex align-items-center justify-content-center pl-2 pr-2"},r===n.l.MultiPage?s.React.createElement(o.Pagination,{size:"sm",totalPage:i,current:l,onChangePage:f,disabled:u}):s.React.createElement("div",{className:"d-flex scroll-navigator"},s.React.createElement(o.Button,{title:m("previous"),disabled:"start"===d,type:"secondary",size:"sm",icon:!0,onClick:g},s.React.createElement(o.Icon,{autoFlip:!0,icon:a===n.f.Horizon?ee:J,size:12})),s.React.createElement(o.Button,{title:m("next"),disabled:"end"===d||c,type:"secondary",size:"sm",style:t?{marginRight:s.polished.rem(10)}:{marginLeft:s.polished.rem(10)},icon:!0,onClick:p},s.React.createElement(o.Icon,{autoFlip:!0,icon:a===n.f.Horizon?te:Z,size:12}))),window.jimuConfig.isInBuilder&&h&&s.React.createElement("div",{className:"editing-mask-bottom-tool"}))}var se=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};class oe extends s.BaseVersionManager{constructor(){super(...arguments),this.versions=[{version:"1.1.0",description:"",upgrader:(e,t)=>se(this,void 0,void 0,(function*(){const i=e.filter;return yield function(e,t){var i,o,n;return se(this,void 0,void 0,(function*(){let r;const a=null===(n=null===(o=null===(i=Object(s.getAppStore)().getState())||void 0===i?void 0:i.appConfig)||void 0===o?void 0:o.widgets[t])||void 0===n?void 0:n.useDataSources[0],l=s.DataSourceManager.getInstance();return e&&a&&(r=l.createDataSourceByUseDataSource(Object.assign({},a,{mainDataSourceId:a.mainDataSourceId}),"localId")),yield Promise.resolve(r)}))}(i,t).then(t=>{let s=e;const o=i?Object(G.updateSQLExpressionByVersion)(i,"1.1.0",t):null;return s=s.set("filter",o),s})}))}]}}const ne=new oe;function re(e,t,i){return i===n.f.Horizon?ae(e.width,t.width):ae(e.height,t.height)}function ae(e,t){return Math.abs(e-t)<1e-4}function le(e){const{config:t,builderStatus:i,browserSizeMode:s}=e;let o=t.cardConfigs[i];o&&o.cardSize||(o=t.cardConfigs[n.n.Regular]);let r=o.cardSize[s];return r||(r=o.cardSize[Object.keys(o.cardSize)[0]]),r.asMutable({deep:!0})}function de(e,t,i){const s=le(i),{config:o,isHeightAuto:r,isWidthAuto:a}=i;let l;if(o.pageStyle===n.l.Scroll){if(!e)return 0;if(o.direction===n.f.Vertical){if(0===e.height)return 0;r&&(t=document.body.scrollHeight),l=Math.ceil(t/(s.height+o.space))+1}else{if(0===e.width)return 0;let t=e.width;a&&(t=document.body.scrollWidth),l=Math.ceil(t/(s.width+o.space))+1}o.navigatorOpen&&(l=Math.max(l,o.scrollStep))}else l=o.itemsPerPage;return l}function ce(e,t){let i=n.a;return e&&(i=e.clientHeight),i=t?i:0,i}function he(e,t,i){const s=i?n.e:0;if(!e)return 0;const o=e.height-s-t;return o<0?0:o}function ue(e,t){const{config:i}=e,{datasource:s}=t;return!(!s||i.pageStyle===n.l.Scroll&&!i.navigatorOpen)}function pe(e){return ge(e)||fe(e)}function ge(e){return me(e)||be(e)||we(e)||Se(e)||ve(e)}function fe(e){var t,i,o;const{id:n}=e,r=null===(i=null===(t=Object(s.getAppStore)())||void 0===t?void 0:t.getState())||void 0===i?void 0:i.appConfig,a=null===(o=null==r?void 0:r.widgets)||void 0===o?void 0:o[n];return(void 0===(null==a?void 0:a.enableDataAction)||(null==a?void 0:a.enableDataAction))&&function(e){const{useDataSources:t}=e;return!!t&&!!t[0]}(e)}function me(e){const{config:t}=e;if(!t.sortOpen||!t.sorts||t.sorts.length<1)return!1;const i=t.sorts;let s=!1;return i.some(e=>(e.rule&&e.rule.some(e=>(e&&e.jimuFieldName&&(s=!0),s)),s)),s}function ve(e){const{config:t}=e;return t.searchOpen&&t.searchFields&&""!==t.searchFields}function Se(e){const{config:t}=e;return t.filterOpen&&!!t.filter}function be(e){const{config:t}=e;return t.showSelectedOnlyOpen&&t.cardConfigs[n.n.Selected].selectionMode!==n.m.None}function we(e){const{config:t}=e;return t.showClearSelected&&t.cardConfigs[n.n.Selected].selectionMode!==n.m.None}var ye=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i};const xe=i(146),Ce=i(147),Ie=i(148),je=i(91),Me=i(348),Oe=i(149),Te=i(96),Re=[{fake:!0},{fake:!0},{fake:!0}],Le=Object.assign({},C.a,o.defaultMessages);class ze extends s.React.PureComponent{constructor(e){super(e),this.isFirstLoad=!0,this.isHasScrolled=!1,this.isHasRenderList=!1,this.isHasPublishMessageAction=!1,this.updateWidgetRectTimeout=void 0,this.getBodySize=()=>{this.bodySize={scrollWidth:document.body.scrollWidth,scrollHeight:document.body.scrollHeight,clientWidth:document.body.clientWidth,clientHeight:document.body.clientHeight}},this.updateListInBuilder=(e,t)=>{const{config:i}=this.props;if(!window.jimuConfig.isInBuilder)return!1;const s=le(this.props);let o=this.layoutPropertiesChange(e);this.updateScrollContentSize(e.config),this.pageTypeChange(e),this.useDatasourcesChange(e),o=this.listDivSizeChange(e,t,s,o),o&&this.updateCardToolPosition(),this.listSortChange(e),this.listFilterChange(e);i.cardConfigs[n.n.Selected].selectionMode!==e.config.cardConfigs[n.n.Selected].selectionMode&&this.selectRecords([])},this.layoutPropertiesChange=e=>{const{config:t,top:i,left:s}=this.props;let o=!1;if(!window.jimuConfig.isInBuilder)return!1;let n=!1;const r=le(this.props),a=le(e);this.updateScrollContentSize(e.config);const l=i!==e.top||s!==e.left,d=t.direction!==e.config.direction,c=!re(a,r,t.direction);if(d||c||l)if(o=!0,c){const e={currentCardSize:r};n=!0,this.setState(e,()=>{n&&this.refreshList()})}else d&&this.handleResizeCard(this.state.currentCardSize,!0,!1,!1,!0);return n||ae(t.space,e.config.space)&&t.direction===e.config.direction||(n=!0,this.refreshList()),o},this.listDivSizeChange=(e,t,i,s)=>{var o;const{config:r,isHeightAuto:a}=this.props,{listDivSize:l}=this.state,d=ue(this.props,this.state),c=ue(e,t),h=pe(this.props),u=pe(e);if(d!==c||h!==u)if(a)s=!0;else if(r.direction===n.f.Horizon){let e=(null===(o=this.state.widgetRect)||void 0===o?void 0:o.height)||(null==l?void 0:l.clientHeight);if(e-=ce(this.paginatorDiv.current,d)+(h?1:0)*n.e,e<n.h)return;const t={height:e,width:i.width};this.handleResizeCard(t,!0,!1,!1,!0)}return s},this.appModeChange=e=>{const{appMode:t,selectionIsSelf:i,selectionStatus:o,builderStatus:r}=this.props;e.appMode!=t&&(t===s.AppMode.Run?this.editBuilderAndSettingStatus(n.n.Regular):(o!==r&&(o?this.editBuilderAndSettingStatus(o):i||this.editBuilderAndSettingStatus(n.n.Regular)),this.setState({showSelectionOnly:!1,searchText:void 0,filterApplied:!1,hoverIndex:-1},()=>{this.scrollToIndex(0)})))},this.pageTypeChange=e=>{const{pageStyle:t}=this.props.config;t!==e.config.pageStyle&&this.setState({page:1})},this.useDatasourcesChange=e=>{const{useDataSources:t}=this.props,i=e.useDataSources;if(t&&t[0]){const e=i&&i[0];e&&e.dataSourceId===t[0].dataSourceId||this.setState({page:1})}else this.setState({datasource:void 0})},this.listSortChange=e=>{const{config:t}=this.props;if(t.sortOpen){t.sorts!==e.config.sorts&&this.setState({sortOptionName:void 0})}},this.listFilterChange=e=>{const{config:t}=this.props;if(t.filterOpen){t.filter!==e.config.filter&&this.setState({currentFilter:void 0,filterApplied:!1})}},this.setSelectionStatus=()=>{const{id:e,selectionIsInSelf:t}=this.props;this.props.dispatch(s.appActions.widgetStatePropChange(e,"selectionIsInSelf",t))},this.updateScrollContentSize=e=>{const{config:t}=this.props;t.direction===e.direction&&t.space===e.space||this.setScrollContentSize()},this.scrollToSelectedItems=e=>{const t=e.getSelectedRecordIds();if(this.isMySelected)return this.isMySelected=!1,void(this.lastSelectedRecordIds=t||[]);if(t&&t.length>0){let i=!0;if(this.lastSelectedRecordIds&&t.length===this.lastSelectedRecordIds.length?t.some(e=>{if(!this.lastSelectedRecordIds.find(t=>t===e))return i=!1,!0}):i=!1,!i||this.needScroll){let i=-1;if(this.records&&this.records.find((e,s)=>{var o;if((null===(o=e.getId)||void 0===o?void 0:o.call(e))===t[0])return i=s,!0}),-1===i){const s=e.getRecords();if(s&&s.find((e,s)=>{var o;if((null===(o=e.getId)||void 0===o?void 0:o.call(e))===t[0])return i=s,!0}),i>-1){const e=Math.ceil((i+1)/this.getPageSize());this.needScroll=!0,this.setState({page:e})}}else this.scrollToIndex(i),this.needScroll=!1}}this.lastSelectedRecordIds=t||[]},this.onDSCreated=e=>{this.setState({datasource:e})},this.onResize=(e,t)=>{const i={width:e,height:t},{config:s}=this.props,{isResizingCard:o}=this.state;if(o)return;const r=ue(this.props,this.state),a=he(i,ce(this.paginatorDiv.current,r),pe(this.props)),l=this.state.currentCardSize,d={width:l.width,height:l.height};let c=!1;if(s.lockItemRatio){const t=d.width/d.height;s.direction===n.f.Horizon?(d.height=a,d.width=a*t,ae(d.width,l.width)||(c=!0)):(d.height=e/t,d.width=e,ae(d.height,l.height)||(c=!0))}else s.direction===n.f.Horizon?d.height=a:d.width=e;d.width<n.h||d.height<n.h||(this.setState({widgetRect:i,currentCardSize:d},()=>{c&&this.refreshList()}),this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=void 0),s.lockItemRatio&&(this.resizeTimeout=setTimeout(()=>{this.handleResizeCard(d,!0,!1,!1,!0)},500)),this.updateCardToolPosition(),this.setListDivSize(),re(d,l,s.direction))},this.updateCardToolPosition=()=>{const{selectionIsSelf:e}=this.props,{hideCardTool:t}=this.state;e&&!t&&(this.setState({hideCardTool:!0}),this.updateCardToolTimeout&&(clearTimeout(this.updateCardToolTimeout),this.updateCardToolTimeout=void 0),this.updateCardToolTimeout=setTimeout(()=>{this.setState({hideCardTool:!1})},500))},this.refreshList=(e=!0)=>{this.listRef.current&&this.listRef.current.resetAfterIndex(0,e)},this.isDsConfigured=()=>{const{useDataSources:e}=this.props;return!!e&&!!e[0]},this.selectRecords=e=>{const{datasource:t}=this.state;if(t)if(s.MessageManager.getInstance().publishMessage(new s.DataRecordsSelectionChangeMessage(this.props.id,e)),e){this.isMySelected=!0,this.isHasPublishMessageAction=!0,t.selectRecordsByIds(e.map(e=>e.getId()));const i=this.getOutputDs();i&&i.selectRecordsByIds(e.map(e=>e.getId()))}else this.isHasPublishMessageAction=!1},this.formatMessage=(e,t)=>this.props.intl.formatMessage({id:e,defaultMessage:Le[e]},t),this.editStatus=(e,t)=>{const{dispatch:i,id:o}=this.props;i(s.appActions.widgetStatePropChange(o,e,t))},this.editWidgetConfig=e=>{if(!window.jimuConfig.isInBuilder)return;this.props.builderSupportModules.jimuForBuilderLib.getAppConfigAction().editWidgetConfig(this.props.id,e).exec()},this.scrollToIndex=(e,t="start")=>{this.listRef.current&&this.listRef.current.scrollToItem(e,t)},this.isEditing=()=>{const{appMode:e,config:t,selectionIsSelf:i,selectionIsInSelf:o}=this.props;return!!window.jimuConfig.isInBuilder&&((i||o)&&window.jimuConfig.isInBuilder&&e!==s.AppMode.Run&&t.isItemStyleConfirm)},this.handleItemChange=e=>{const{config:t}=this.props,{datasource:i}=this.state;if(!i||!e)return;let s=i.getSelectedRecords()||[];if(t.cardConfigs[n.n.Selected].selectionMode&&t.cardConfigs[n.n.Selected].selectionMode!==n.m.None){const i=null==e?void 0:e.getId(),o=s.find(e=>e.getId()===i);t.cardConfigs[n.n.Selected].selectionMode===n.m.Single?o?(this.selectRecords([]),this.setState({showSelectionOnly:!1})):this.selectRecords([e]):(s=o?s.filter(e=>e.getId()!==i):[e].concat(s),this.selectRecords(s))}},this.handleListPointerDown=e=>{this.setState({forceShowMask:!0}),this.mouseClickTimeout&&(clearTimeout(this.mouseClickTimeout),this.mouseClickTimeout=void 0),this.mouseClickTimeout=setTimeout(()=>{this.setState({forceShowMask:!1})},200)},this.handleScrollUp=e=>{const{scrollStep:t}=this.props.config;let i=this.getListVisibleStartIndex()-t;i<0&&(i=0),this.scrollToIndex(i,"start")},this.handleScrollDown=e=>{const{scrollStep:t}=this.props.config,{listVisibleStopIndex:i}=this,s=this.getListVisibleStartIndex();i+t>=this.records.length-1&&this.records.length<this.getTotalCount()?(this.isSwitchPage=!0,this.setState({page:this.state.page+1})):this.scrollToIndex(s+t,"start")},this.handleSwitchPage=e=>{const t=this.getTotalPage();e<1||e>t||e!==this.state.page&&(this.isSwitchPage=!0,this.lastQueryStart=this.state.page,this.setState({page:e}))},this.handleListMouseLeave=()=>{this.isEditing()||this.setState({hoverIndex:-1})},this.handleListMouseMove=e=>{this.isEditing()||e!==this.state.hoverIndex&&this.setState({hoverIndex:e})},this.lastScrollOffset=0,this.handleListScroll=({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:i})=>{var o,r;const{appMode:a,config:l}=this.props,d=this.listOutDivRef,{datasource:c,scrollStatus:h}=this.state;this.lastScrollOffset=t,!d||(null!==(r=null===(o=this.records)||void 0===o?void 0:o.length)&&void 0!==r?r:0)<1||l.pageStyle!==n.l.Scroll||this.queryStatus===s.DataSourceStatus.Loading||!c||window.jimuConfig.isInBuilder&&a!==s.AppMode.Run||(this.isHasScrolled=!0,!function(e,t){return!e||t<2}(d,this.lastScrollOffset)?"mid"!==h&&this.setState({scrollStatus:"mid"}):"start"!==h&&this.setState({scrollStatus:"start"}))},this.getTotalPage=()=>{const{totalCount:e}=this,{config:t}=this.props,i=e,s=Math.floor(i/t.itemsPerPage);return 0===i%t.itemsPerPage?s:s+1},this.getListVisibleStartIndex=()=>{const{lastScrollOffset:e}=this,{config:t}=this.props,i=this.itemSize(0),s=1*e/i;let o=Math.floor(s);return(s-o)*i>i-t.space&&o++,o},this.handleSortOptionChange=(e,t)=>{this.setState({sortOptionName:t.label,page:1},()=>{})},this.handleSearchTextChange=e=>{const t=this;""!==e&&e||this.handleSearchSubmit(void 0),clearTimeout(t.suggestionsQueryTimeout),this.suggestionsQueryTimeout=setTimeout(()=>{t.getSearchSuggestions(e)},200)},this.getSearchSuggestions=e=>{const{config:t}=this.props,{datasource:i}=this.state;l(e,t,i).then(e=>{this.setState({searchSuggestion:e})})},this.handleSearchSubmit=(e,t=!1)=>{(this.state.searchText!==e||t)&&this.setState({searchText:e,page:1},()=>{})},this.handleFilterChange=e=>{this.setState({currentFilter:e,page:1},()=>{})},this.handleFilterApplyChange=e=>{const t={filterApplied:e,queryStart:0};this.setState(t,()=>{})},this.handleShowSelectionClick=e=>{const{showSelectionOnly:t}=this.state;this.setState({showSelectionOnly:!t})},this.handleClearSelectionClick=()=>{this.setState({showSelectionOnly:!1}),this.selectRecords([])},this.resetShowSelectionStatus=()=>{const{showSelectionOnly:e}=this.state;e&&this.setState({showSelectionOnly:!1})},this._getCurrentPage=()=>this.state.page,this.getTotalCount=()=>this.totalCount||0,this.selectCard=()=>{const{selectionIsInSelf:e}=this.props;e&&this.selectSelf()},this.editBuilderAndSettingStatus=e=>{this.editStatus("showCardSetting",e),this.editStatus("builderStatus",e)},this.getSortItems=()=>{const{config:e}=this.props,t=[];return e.sorts&&e.sorts.forEach(e=>{e.rule&&e.rule.forEach(i=>{i&&i.jimuFieldName&&t.push({label:e.ruleOptionName,event:this.handleSortOptionChange})})}),Object(s.Immutable)(t)},this.renderListTopTools=(e,t,i)=>{var r,a;const{widgetRect:l,isSearchBoxVisible:d,isOpenTopToolsPopper:c}=this.state,h=(null==l?void 0:l.width)||620,u=fe(this.props),p=ge(this.props),g=this.formatMessage("listDataActionLable",{layer:(null===(a=null===(r=e)||void 0===r?void 0:r.layerDefinition)||void 0===a?void 0:a.name)||""}),f=u?n.j:n.k;return Object(s.jsx)("div",{className:"datasource-tools w-100",css:(this.props,m=p,s.css`
    .list-data-action {
      & {
        padding-left: ${s.polished.rem(4)};
      }
      &::after {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        height: ${s.polished.rem(16)};
        border-left: 1px solid ${m?"var(--light-400)":"transparent"}
      }
    }
    .m-left {
      margin-left: ${s.polished.rem(4)};
    }
  `)},Object(s.jsx)("div",{className:"d-flex align-items-center"},Object(s.jsx)("div",{className:"flex-grow-1 tool-row"},p&&Object(s.jsx)("div",null,h>=f&&Object(s.jsx)("div",{className:"tool-row row1 d-flex align-items-center w-100 justify-content-between"},this.renderSearchTools(e,t),(!d||h>=360)&&this.renderTopRightTools(e,t)),h<f&&Object(s.jsx)("div",{className:"float-right",ref:e=>this.reference=e},Object(s.jsx)(o.Button,{type:"tertiary",icon:!0,size:"sm",className:"tools-menu",title:this.formatMessage("guideStep9Title"),onClick:e=>{this.setState({isOpenTopToolsPopper:!c})}},Object(s.jsx)(o.Icon,{size:16,icon:Me})),this.renderListTopToolsInPoper(e,t)))),e&&u&&Object(s.jsx)("div",{className:Object(s.classNames)("list-data-action position-relative",{"m-left":h<f}),"data-testid":"data-action"},Object(s.jsx)(o.DataActionDropDown,{dataName:g,type:"tertiary",widgetId:this.props.id,dataSource:e,size:"sm",records:i}))),window.jimuConfig.isInBuilder&&this.isEditing()&&Object(s.jsx)("div",{className:"editing-mask-ds-tool"}));var m},this.renderListTopToolsInPoper=(e,t)=>{const{widgetRect:i,isSearchBoxVisible:r,isOpenTopToolsPopper:a}=this.state,l=this.isEditing(),d=((null==i?void 0:i.width)||620)<(fe(this.props)?n.j:n.k)&&a&&!l;return Object(s.jsx)("div",null,Object(s.jsx)(o.Popper,{placement:"bottom-start",reference:this.reference,offset:[-10,0],open:d,showArrow:!0,toggle:e=>{this.setState({isOpenTopToolsPopper:!d})}},Object(s.jsx)("div",{className:"tool-row row1 d-flex align-items-end justify-content-between",css:u(this.props)},this.renderSearchTools(e,t),!r&&this.renderTopRightTools(e,t))))},this.renderSearchTools=(e,t)=>{const i=this.isEditing()||!e||t!==s.DataSourceStatus.Loaded,{searchText:n,widgetRect:r,isSearchBoxVisible:a,showLoading:l}=this.state,d=(null==r?void 0:r.width)||620,{theme:c,config:h}=this.props,u=d<360?"ds-tools-line-blue":"",g=(null==h?void 0:h.searchHint)||this.formatMessage("search"),f=d<360&&a;return Object(s.jsx)("div",{className:"list-search-div flex-grow-1",css:p(this.props)},ve(this.props)&&Object(s.jsx)("div",{className:"d-flex search-box-content"},(d>=360||a)&&Object(s.jsx)("div",{className:"flex-grow-1 w-100"},Object(s.jsx)(j,{theme:c,placeholder:g,searchText:n,onSearchTextChange:this.handleSearchTextChange,onSubmit:this.handleSearchSubmit,disabled:i,searchSuggestion:this.state.searchSuggestion,suggestionWidth:d,showLoading:l,formatMessage:this.formatMessage,isShowBackButton:f,toggleSearchBoxVisible:this.toggleSearchBoxVisible,className:"list-search "}),Object(s.jsx)("div",{className:Object(s.classNames)("ds-tools-line",u)})),d<360&&!a&&Object(s.jsx)(o.Button,{type:"tertiary",icon:!0,size:"sm",onClick:e=>{this.toggleSearchBoxVisible(!0)},title:this.formatMessage("search")},Object(s.jsx)(o.Icon,{size:16,icon:je,color:c.colors.palette.light[800]}))))},this.toggleSearchBoxVisible=(e=!1)=>{const{widgetRect:t}=this.state;this.setState({isSearchBoxVisible:e});const i=fe(this.props)?n.j:n.k;((null==t?void 0:t.width)||620)<i&&(clearTimeout(this.showPopperTimeOut),this.showPopperTimeOut=setTimeout(()=>{this.setState({isOpenTopToolsPopper:!0})}))},this.getPageSize=()=>{const{widgetRect:e}=this.state,t=ue(this.props,this.state),i=he(e,ce(this.paginatorDiv.current,t),pe(this.props))||1;return Math.max(de(e,i,this.props),1)},this.renderTopRightTools=(e,t)=>{const{sortOptionName:i,showSelectionOnly:n,currentFilter:r,filterApplied:a}=this.state,{config:l,theme:d,id:c,appMode:h,isRTL:u}=this.props,p=this.getSortItems(),g=e&&e.getSelectedRecords(),f=g&&g.length>0,m=u?Ce:xe;return Object(s.jsx)("div",{className:"d-flex align-items-center mr-1",ref:this.listTopRightToolsDiv},me(this.props)&&Object(s.jsx)(y.Fragment,null,Object(s.jsx)(q.a,{theme:d,items:p,appMode:h,toggleType:"tertiary",toggleContent:e=>i||p&&p[0].label,size:"sm",caret:!0,showActive:!0,toggleTitle:this.formatMessage("listSort"),activeLabel:i||p&&p[0].label})),Se(this.props)&&Object(s.jsx)(X,{filter:r||l.filter,appMode:h,applied:a,title:this.formatMessage("filter"),selectedDs:this.state.datasource,handleFilterChange:this.handleFilterChange,handleFilterApplyChange:this.handleFilterApplyChange,formatMessage:this.formatMessage,theme:d,widgetId:c}),be(this.props)&&Object(s.jsx)(o.Button,{disabled:!f,type:"tertiary",title:n?this.formatMessage("showAll"):this.formatMessage("showSelection"),icon:!0,size:"sm",onClick:this.handleShowSelectionClick},Object(s.jsx)(o.Icon,{icon:n?Oe:m,size:16})),we(this.props)&&Object(s.jsx)(o.Button,{disabled:!f,type:"tertiary",title:this.formatMessage("clearSelection"),icon:!0,size:"sm",onClick:this.handleClearSelectionClick},Object(s.jsx)(o.Icon,{icon:Ie,size:16})))},this.renderList=(e,t)=>{const{widgetRect:i,isMount:o}=this.state,{config:r,isRTL:a}=this.props,l=null==t?void 0:t.status;if(this.queryStatus=l,this.isHasRenderList=!0,!o)return!1;l===s.DataSourceStatus.Unloaded&&(e=void 0),this.getDsTotalCount(e,l);const d=this.getLoadingStatus(e,l),c=(null==e?void 0:e.getAutoRefreshInterval())||0;this.toggleAutoRefreshLoading(e,d);const h=ue(this.props,this.state),u=pe(this.props),p=he(i,ce(this.paginatorDiv.current,h),u)||1,g=i&&i.width||n.h,f=this.getOverscanCount(p),m=this.getDsSelectRecords(e),v=this.getDsRecords(e,d,p);this.isFirstLoad=!1,0==v.length&&this.resetShowSelectionStatus(),this.getlistInnerElementType();const S=this.getListStyle();return Object(s.jsx)("div",{"data-testid":"listContainer",className:"list-container animation",css:S},u&&this.renderListTopTools(e,l,m),Object(s.jsx)(V,{className:"widget-list-list",ref:this.listRef,useIsScrolling:!0,outerRef:this.setListOutDivRef,direction:a?"rtl":"ltr",layout:r.direction===n.f.Horizon?"horizontal":"vertical",itemCount:this.records.length,overscanCount:f,itemKey:this.itemKey,width:g,height:p,onItemsRendered:this.onItemsRendered,itemData:this.getItemsByRecords(this.records),innerElementType:this.innerElementType,itemSize:this.itemSize,onScroll:this.handleListScroll},this.itemRender),h&&this.renderBottomTools(d),this.checkIsShowListMask(d,v)&&Object(s.jsx)("div",{className:"editing-mask-list"}),this.renderEmptyElement(d),l==s.DataSourceStatus.NotReady&&this.renderNotReadyTips(e),(d||c>0)&&this.renderLoading(d,c))},this.renderEmptyElement=e=>{const t=!this.records||this.records.length<1;return!e&&t&&Object(s.jsx)("div",{className:"empty-con text-center"},Object(s.jsx)(o.Icon,{size:16,icon:Te}),Object(s.jsx)("div",{className:"discribtion"},this.formatMessage("listNoData")))},this.clearMessageAction=()=>{this.handleClearSelectionClick(),s.MessageManager.getInstance().publishMessage(new s.DataRecordsSelectionChangeMessage(this.props.id,[]))},this.renderLoading=(e,t)=>{const{autoRefreshLoadingString:i}=this.state;return Object(s.jsx)("div",{className:Object(s.classNames)("position-absolute refresh-loading-con d-flex align-items-center",this.getRefreshLoadingClass())},e&&Object(s.jsx)("div",{className:"loading-con"}),t>0&&Object(s.jsx)("div",{className:"flex-grow-1 auto-refresh-loading"},i))},this.renderNotReadyTips=e=>{var t,i,n,r,a;const l=null==e?void 0:e.getLabel(),d=null===s.appConfigUtils||void 0===s.appConfigUtils?void 0:s.appConfigUtils.getWidgetIdByOutputDataSource(null===(i=null===(t=this.props)||void 0===t?void 0:t.useDataSources)||void 0===i?void 0:i[0]),c=null===(n=Object(s.getAppStore)().getState())||void 0===n?void 0:n.appConfig,h=null===(a=null===(r=null==c?void 0:c.widgets)||void 0===r?void 0:r[d])||void 0===a?void 0:a.label;return Object(s.jsx)("div",{className:"placeholder-alert-con"},Object(s.jsx)(o.Alert,{form:"tooltip",size:"small",type:"warning",text:this.formatMessage("outputDataIsNotGenerated",{outputDsLabel:l,sourceWidgetName:h})}))},this.renderBottomTools=e=>{const{scrollStatus:t,isScrollEnd:i}=this.state,{config:o,isRTL:n}=this.props;return Object(s.jsx)("div",{ref:this.paginatorDiv},Object(s.jsx)(ie,{isRTL:n,totalPage:this.getTotalPage(),currentPage:this._getCurrentPage(),isEditing:this.isEditing(),isScrollEnd:i,pageStyle:o.pageStyle,direction:o.direction,scrollStatus:t,handleScrollUp:this.handleScrollUp,handleScrollDown:this.handleScrollDown,handleSwitchPage:this.handleSwitchPage,formatMessage:this.formatMessage,showLoading:e}))},this.getDsTotalCount=(e,t)=>{const i=null==e?void 0:e.count;this.queryStatus=t,t===s.DataSourceStatus.Loaded&&null!==i&&(this.totalCount!==i&&(this.setPageTimeout=setTimeout(()=>{this.setState({page:1})},1)),this.totalCount=i)},this.getLoadingStatus=(e,t)=>{const{LayoutEntry:i}=this.state,{showLoading:o}=this.props;let n=!1;return(o||window.jimuConfig.isInBuilder&&!i||e&&t===s.DataSourceStatus.Loading)&&(n=!0),n},this.toggleAutoRefreshLoading=(e,t)=>{const i=(null==e?void 0:e.getAutoRefreshInterval())||0;this.resetAutoRefreshTimes(t,i),i>0&&this.setRefreshLoadingString(t)},this.setListOutDivRef=e=>{if(!e)return;const t="bottomBoundary"+this.props.id;this.listOutDivRef=e,this.setListDivSize();const i=document.createElement("div");i.id=t,i.className="bottom-boundary";const s=this.listOutDivRef.getElementsByTagName("div")[0];this.setScrollContentSize(),s.appendChild(i),function(e,t,i,s){const o=new IntersectionObserver((function(e,t){const s=e[0].intersectionRatio>0;i&&i(s)}),s||{root:t});o.observe(e)}(document.getElementById(t),this.listOutDivRef,this.intersectionObserverCallback)},this.getDsRecords=(e,t,i)=>{const{showSelectionOnly:o,widgetRect:r}=this.state,{config:a,appMode:l}=this.props;let d=Re;const c=de(r,i,this.props),h=this.getDsSelectRecords(e);return e&&a.isItemStyleConfirm&&(d=e&&(a.pageStyle===n.l.Scroll?e.getRecordsByPageWithSelection(1,c*this.state.page):e.getRecordsByPageWithSelection(this.state.page,c))||[],o&&(d=h)),window.jimuConfig.isInBuilder&&l!==s.AppMode.Run&&!t&&d.length<1&&(d=Re),t&&!this.isFirstLoad||(this.records=d),d},this.getDsSelectRecords=e=>{const{config:t}=this.props;let i;return e&&t.isItemStyleConfirm&&(i=e.getSelectedRecords()),i},this.getlistInnerElementType=()=>{const{config:e}=this.props;this.lastSpace!==e.space&&(this.lastSpace=e.space,this.innerElementType=Object(y.forwardRef)((t,i)=>{var{style:o}=t,r=ye(t,["style"]);return Object(s.jsx)("div",Object.assign({ref:i,style:Object.assign(Object.assign({},o),{height:parseFloat(o.height)-(e.direction===n.f.Horizon?0:e.space)+"px",width:parseFloat(o.width)-(e.direction===n.f.Vertical?0:e.space)+"px"})},r))}))},this.getListStyle=()=>{var e,t;const{toolsDivWidth:i,currentCardSize:s}=this.state,{config:o,appMode:n,theme:r,isHeightAuto:a,isWidthAuto:l}=this.props,d=ue(this.props,this.state),h=ce(this.paginatorDiv.current,d),u=pe(this.props),p=le(this.props),g={pageStyle:null==o?void 0:o.pageStyle,scrollBarOpen:null==o?void 0:o.scrollBarOpen,direction:null==o?void 0:o.direction,appMode:n,theme:r,isHeightAuto:a,isWidthAuto:l,currentCardSize:s,listTemplateDefaultCardSize:p,showTopTools:u,bottomToolH:h,topRightToolW:i,hasRecords:(null!==(t=null===(e=this.records)||void 0===e?void 0:e.length)&&void 0!==t?t:0)>0,mexSize:this.getListMaxSize()};return c(g)},this.checkIsShowListMask=(e,t)=>{const{isInBuilder:i}=window.jimuConfig,s=this.isEditing(),o=!t||t.length<1;return i&&s&&!(!e&&o)},this.getOverscanCount=e=>{const{widgetRect:t}=this.state,{appMode:i}=this.props,o=de(t,e,this.props);return window.jimuConfig.isInBuilder&&i!==s.AppMode.Run?0:o},this.setScrollContentSize=()=>{var e;if(!this.listOutDivRef)return;const{direction:t}=null===(e=this.props)||void 0===e?void 0:e.config,i=this.listOutDivRef.getElementsByTagName("div")[0];t===n.f.Horizon?i.style.height="100%":i.style.width="100%"},this.intersectionObserverCallback=e=>{var t,i;const{appMode:o,config:r}=this.props,a=this.listOutDivRef,{datasource:l}=this.state;this.setState({isScrollEnd:e}),!a||(null!==(i=null===(t=this.records)||void 0===t?void 0:t.length)&&void 0!==i?i:0)<1||r.pageStyle===n.l.Scroll&&this.queryStatus!==s.DataSourceStatus.Loading&&l&&(!window.jimuConfig.isInBuilder||o===s.AppMode.Run&&e)&&this.isHasScrolled&&(this.records.length<this.getTotalCount()?(this.setState({page:this.state.page+1,scrollStatus:"end"}),this.isSwitchPage=!0):this.setState({scrollStatus:"end"}))},this.setListDivSize=()=>{var e;const t=this.listOutDivRef,i=(null==t?void 0:t.clientWidth)||null,s=(null==t?void 0:t.clientHeight)||null,o=(null===(e=this.listTopRightToolsDiv.current)||void 0===e?void 0:e.clientWidth)||0,n=(null==t?void 0:t.getBoundingClientRect())||null,r={clientWidth:i,clientHeight:s};this.setState({listDivSize:r,toolsDivWidth:o,listDivBoundRect:n})},this.getContentLayout=()=>{const{layoutId:e,browserSizeMode:t}=this.props,i=Object(s.getAppStore)().getState().appConfig,o=r.searchUtils.getWidgetIdThatUseTheLayoutId(i,e);return r.searchUtils.getContentLayoutInfosInOneSizeMode(i,o,s.LayoutItemType.Widget,t)},this.getContentLayoutSetting=()=>{var e,t,i,o,n;const r=Object(s.getAppStore)().getState().appConfig,{layouts:a}=r,l=this.getContentLayout(),d=null===(e=null==l?void 0:l[0])||void 0===e?void 0:e.layoutId,c=null===(t=null==l?void 0:l[0])||void 0===t?void 0:t.layoutItemId;return null===(n=null===(o=null===(i=null==a?void 0:a[d])||void 0===i?void 0:i.content)||void 0===o?void 0:o[c])||void 0===n?void 0:n.setting},this.getListMaxSize=()=>{var e,t,i;let o=Object(s.Immutable)({maxWidth:this.bodySize.scrollWidth,maxHeight:this.bodySize.scrollHeight});const{layoutId:n,browserSizeMode:r,appMode:a}=this.props,l=Object(s.getAppStore)().getState().appConfig,d=s.utils.findViewportSize(l,r),{layouts:c}=l,h=null===(e=c[n])||void 0===e?void 0:e.type,u=this.getContentLayoutSetting(),p="auto"==(null===(t=null==u?void 0:u.autoProps)||void 0===t?void 0:t.width)||"auto"==(null==u?void 0:u.widthMode),g="auto"==(null===(i=null==u?void 0:u.autoProps)||void 0===i?void 0:i.height)||"auto"==(null==u?void 0:u.heightMode);if(h==s.LayoutType.ColumnLayout&&p&&(o=o.set("maxWidth",this.bodySize.clientWidth)),"ROW"===h&&g){const e=(null==d?void 0:d.height)||800,t=a==s.AppMode.Design?e:this.bodySize.clientHeight;o=o.set("maxHeight",t)}return o},this.getRefreshLoadingClass=()=>{const{config:e,appMode:t}=this.props,{direction:i,scrollBarOpen:o}=e,r=window.jimuConfig.isInBuilder&&t===s.AppMode.Design;return!o||r?"":i==n.f.Vertical?"vertical-loading":"horizon-loading"},this.resetAutoRefreshTimes=(e=!1,t)=>{const i=this;clearTimeout(this.resetAutoRefreshTime),t<=0&&clearInterval(this.autoRefreshLoadingTime),this.resetAutoRefreshTime=setTimeout(()=>{e&&t>0&&i.setState({autoRefreshLoadingString:i.formatMessage("lastUpdateAFewTime")}),i.setState({showLoading:e})},0)},this.setRefreshLoadingString=(e=!1)=>{if(!e)return!1;let t=0;const i=this;clearInterval(this.autoRefreshLoadingTime),this.autoRefreshLoadingTime=setInterval(()=>{t++,i.setState({autoRefreshLoadingString:i.getLoadingString(t)})},6e4)},this.getLoadingString=e=>{let t=this.formatMessage("lastUpdateAFewTime");return e>1&&e<=2?t=this.formatMessage("lastUpdateAMinute"):e>2&&(t=this.formatMessage("lastUpdateTime",{updateTime:e})),t},this.onItemsRendered=({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:i,visibleStopIndex:s})=>{this.listVisibleStartIndex=i,this.listVisibleStopIndex=s;const{config:o}=this.props;this.needRefreshListOnListRendered&&(this.needRefreshListOnListRendered=!1,this.refreshList()),this.isSwitchPage&&(o.pageStyle===n.l.Scroll?this.records.length>s+1&&(this.isSwitchPage=!1,this.onItemsRenderedTimeout=setTimeout(()=>{this.handleScrollDown(null)},500)):this.isSwitchPage=!1)},this.itemSize=e=>{const{config:t}=this.props,{currentCardSize:i}=this.state;return t.direction===n.f.Horizon?i.width+t.space:i.height+t.space},this.getItemsByRecords=e=>{const{config:t,selectionIsInSelf:i,selectionIsSelf:o,builderStatus:n,appMode:r,queryObject:a,useDataSources:l}=this.props,{datasource:d,hoverIndex:c}=this.state,h=(d&&t.isItemStyleConfirm?d.getSelectedRecordIds():[]).map(e=>e+"");return e&&e.map((e,u)=>{const p=0===u&&window.jimuConfig.isInBuilder&&r===s.AppMode.Design?{hideCardTool:this.state.hideCardTool,selectionIsList:o,selectionIsInList:i,isEditing:this.isEditing(),builderStatus:n,lockItemRatio:t.lockItemRatio,changeIsResizingCard:this.changeIsResizingCard}:{linkParam:t.linkParam,queryObject:a,useDataSources:l};return Object.assign(Object.assign({index:u,isHover:c===u,record:t.isItemStyleConfirm?e:void 0,active:!e.fake&&t.isItemStyleConfirm&&d&&h.includes(e.getId())},this.getOtherProps()),p)})},this.getOtherProps=()=>{const{config:e,theme:t,id:i,appMode:s,builderSupportModules:o,layouts:r,browserSizeMode:a,dispatch:l,isRTL:d}=this.props,{datasource:c}=this.state;return{browserSizeMode:a,space:e.space,isRTL:d,builderSupportModules:o,formatMessage:this.formatMessage,dispatch:l,widgetId:i,interact:window.jimuConfig.isInBuilder&&o.widgetModules.interact,selectCard:this.selectCard,handleResizeCard:this.handleResizeCard,appMode:s,onChange:this.handleItemChange,hoverLayoutOpen:e.cardConfigs[n.n.Hover].enable,selectable:e.cardConfigs[n.n.Selected].selectionMode!==n.m.None,direction:e.direction,theme:t,LayoutEntry:this.state.LayoutEntry,layouts:r,cardConfigs:e.cardConfigs,datasourceId:c&&c.id,updateCardToolPosition:this.updateCardToolPosition}},this.itemRender=e=>{let t=e.style;const i=e.index,o=e.data,{appMode:r,config:a}=this.props;t=a.direction===n.f.Horizon?Object.assign(Object.assign({},t),{width:parseFloat(t.width)-a.space+"px"}):Object.assign(Object.assign({},t),{height:parseFloat(t.height)-a.space+"px"});const l=0===i&&window.jimuConfig.isInBuilder&&r===s.AppMode.Design?w:x;return Object(s.jsx)(l,Object.assign({listStyle:t,widgetId:this.props.id},o[i],{handleListMouseMove:this.handleListMouseMove,handleListMouseLeave:this.handleListMouseLeave,itemIdex:i}))},this.itemKey=e=>{const t=this.records[e];return""+(t.getId&&t.getId()||e)};const{config:t}=e;this.paginatorDiv=s.React.createRef(),this.listTopRightToolsDiv=s.React.createRef();const i={LayoutEntry:null,page:1,sortOptionName:t.sorts&&t.sorts[0]&&t.sorts[0].ruleOptionName,currentCardSize:le(e),forceShowMask:!1,showList:!0,widgetRect:{width:n.h,height:n.h},searchText:"",currentFilter:void 0,filterApplied:!1,showSelectionOnly:!1,hideCardTool:!1,scrollStatus:"start",datasource:void 0,hoverIndex:-1,isScrolling:!1,isScrollSpeedOver:!1,isResizingCard:!1,searchSuggestion:[],isSearchBoxVisible:!1,isOpenTopToolsPopper:!1,latestUpdateTime:0,showLoading:!1,autoRefreshLoadingString:"",listDivSize:{clientWidth:null,clientHeight:null},toolsDivWidth:null,listDivBoundRect:null,isScrollEnd:!1,isMount:!1};this.selectSelf=this.selectSelf.bind(this),this.handleResizeCard=this.handleResizeCard.bind(this),this.listRef=s.React.createRef(),window.jimuConfig.isInBuilder?i.LayoutEntry=this.props.builderSupportModules.LayoutEntry:i.LayoutEntry=r.LayoutEntry,this.state=i,this.onResize=this.onResize.bind(this),this.changeIsResizingCard=this.changeIsResizingCard.bind(this),this.setRefreshLoadingString=this.setRefreshLoadingString.bind(this),this.resetAutoRefreshTimes=this.resetAutoRefreshTimes.bind(this),this.debounceOnResize=s.lodash.debounce((e,t)=>this.onResize(e,t),200)}componentDidMount(){this.setState({isMount:!0}),this.getBodySize(),window.addEventListener("resize",this.getBodySize)}componentWillUnmount(){clearTimeout(this.resizeTimeout),clearTimeout(this.updateCardToolTimeout),clearTimeout(this.mouseClickTimeout),clearTimeout(this.suggestionsQueryTimeout),clearTimeout(this.showPopperTimeOut),clearTimeout(this.resetAutoRefreshTime),clearTimeout(this.setPageTimeout),clearTimeout(this.onItemsRenderedTimeout),clearInterval(this.autoRefreshLoadingTime)}componentDidUpdate(e,t){var i;const{config:o,appMode:r}=this.props,{datasource:a}=this.state;window.jimuConfig.isInBuilder&&r!==s.AppMode.Run||a&&o.cardConfigs[n.n.Selected].selectionMode!==n.m.None&&this.scrollToSelectedItems(a),this.updateListInBuilder(e,t),this.appModeChange(e),(null==e?void 0:e.selectionIsInSelf)!==(null===(i=this.props)||void 0===i?void 0:i.selectionIsInSelf)&&this.setSelectionStatus()}changeIsResizingCard(e){this.setState({isResizingCard:e})}handleResizeCard(e,t=!1,i,s,o=!1){t?(e.width=parseFloat(e.width.toFixed(2)),e.height=parseFloat(e.height.toFixed(2)),window.jimuConfig.isInBuilder&&this.props.builderSupportModules.widgetModules.handleResizeCard(this.props,e,i,s,t,o)):this.setState({currentCardSize:e},()=>{this.refreshList(!1)})}selectSelf(){window.jimuConfig.isInBuilder&&this.props.builderSupportModules.widgetModules.selectSelf(this.props)}getOutputDs(){const e=this.props.outputDataSources&&this.props.outputDataSources[0],t=this.props.useDataSources&&this.props.useDataSources[0];if(!e||!t)return;return s.DataSourceManager.getInstance().getDataSource(e)}render(){const{config:e,id:t,appMode:n,browserSizeMode:a,selectionIsInSelf:l,selectionIsSelf:d,useDataSources:c,builderStatus:u,layouts:p}=this.props,g=Object(s.getAppStore)().getState().appConfig,{forceShowMask:f,datasource:m,widgetRect:v,page:S}=this.state,b=window.jimuConfig.isInBuilder,w=Object(s.classNames)("jimu-widget","widget-list","list-widget-"+t);if(!e.itemStyle)return Object(s.jsx)(o.WidgetPlaceholder,{widgetId:this.props.id,icon:i(349),message:this.formatMessage("placeHolderTip")});const y=ue(this.props,this.state),x=de(v,he(v,ce(this.paginatorDiv.current,y),pe(this.props)),this.props);let C=function(e,t,i){var o,n;const r={returnGeometry:!0},{config:a,stateProps:l,useDataSources:d}=t,{sortOptionName:c,searchText:h,currentFilter:u,filterApplied:p,datasource:g}=e,f=d&&d[0];if(!g||!f)return null;if(!g.query)return null;let m;if(a.sortOpen&&a.sorts&&(m=a.sorts.find(e=>e.ruleOptionName===c),m=m||a.sorts[0],(null===(n=null===(o=null==m?void 0:m.rule)||void 0===o?void 0:o[0])||void 0===n?void 0:n.jimuFieldName)||(m=void 0),m)){const e=[];m.rule.forEach(t=>{t.jimuFieldName&&e.push(`${t.jimuFieldName} ${t.order}`)}),(null==g?void 0:g.type)===s.DataSourceTypes.FeatureLayer?r.orderByFields=e.join(","):r.orderByFields=e}if(a.filterOpen&&p&&a.filter&&u&&u.sql&&(r.where=(r.where||"1=1")+" AND ",r.where+=`(${u.sql})`),l){const e=null==l?void 0:l[s.MessageType.ExtentChange];e&&(r.geometry=e.queryExtent,e.querySQL&&(r.where=(r.where||"1=1")+" AND ",r.where+=`(${e.querySQL})`));const t=l[s.MessageType.DataRecordsSelectionChange];t&&t.querySQL&&(r.where=(r.where||"1=1")+" AND ",r.where+=`(${t.querySQL})`)}return a.searchOpen&&a.searchFields&&h&&(r.where=(r.where||"1=1")+" AND ",r.where+=`(${a.searchFields.split(",").map(e=>a.searchExact?`${e} = '${h}'`:`${e} LIKE '%${h}%'`).join(" OR ")})`),i>0&&(r.page=e.page,r.pageSize=i),r}(this.state,this.props,x);if(!function(e,t,i){return!!i&&(e=i.getRealQueryParams(e,"query"),t=i.getRealQueryParams(t,"query"),!(!e||!t)&&(delete e.page,delete e.pageSize,delete e.resultOffset,delete e.resultRecordCount,delete t.page,delete t.pageSize,delete t.resultOffset,delete t.resultRecordCount,s.utils.isDeepEqual(e,t)))}(C,this.lastQuery,m)&&m){const e=C;1!==S?(C=this.lastQuery,this.lastQuery=e,this.setState({page:1})):this.lastQuery=e}const I=null==g?void 0:g.layouts[r.searchUtils.findLayoutId(p[u],a,g.mainSizeMode)],j=I&&I.type;return Object(s.jsx)("div",{className:w,css:h(this.props,this.isEditing(),y),onPointerDown:e=>b&&n!==s.AppMode.Run&&!d&&!l&&this.handleListPointerDown(e)},Object(s.jsx)("div",{className:"widget-list d-flex"},this.isDsConfigured()?Object(s.jsx)(s.DataSourceComponent,{query:m?C:null,useDataSource:c&&c[0],onDataSourceCreated:this.onDSCreated,widgetId:this.props.id,queryCount:!0},this.renderList):this.renderList(),!this.isHasRenderList&&Object(s.jsx)("div",{className:"list-loading-con w-100 h-100"},Object(s.jsx)("div",{className:"jimu-secondary-loading"}))),b&&n!==s.AppMode.Run&&(f||!l&&!d||!e.isItemStyleConfirm&&j)&&Object(s.jsx)("div",{className:"list-with-mask"}),Object(s.jsx)(s.ReactResizeDetector,{handleWidth:!0,handleHeight:!0,onResize:this.debounceOnResize}))}}ze.versionManager=ne,ze.mapExtraStateProps=(e,t)=>{var i,s,o,a,l,d,c,h,u,p,g,f,m,v;const S=e&&e.appConfig,{layouts:b,layoutId:w,layoutItemId:y,builderSupportModules:x,id:C}=t,I=e&&e.browserSizeMode,j=e&&e.widgetsState&&e.widgetsState[t.id]&&e.widgetsState[t.id].builderStatus||n.n.Regular;let M;if(S){const t=S&&e.appConfig.layouts&&e.appConfig.layouts[r.searchUtils.findLayoutId(b[j],I,S.mainSizeMode)];M=t&&t.type}const O=null===(i=S.layouts)||void 0===i?void 0:i[w],T=null===(o=null===(s=null==O?void 0:O.content)||void 0===s?void 0:s[y])||void 0===o?void 0:o.setting,R=(null===(a=null==T?void 0:T.autoProps)||void 0===a?void 0:a.height)===r.LayoutItemSizeModes.Auto||!0===(null===(l=null==T?void 0:T.autoProps)||void 0===l?void 0:l.height),L=(null===(d=null==T?void 0:T.autoProps)||void 0===d?void 0:d.width)===r.LayoutItemSizeModes.Auto||!0===(null===(c=null==T?void 0:T.autoProps)||void 0===c?void 0:c.width);let z;if(window.jimuConfig.isInBuilder){const e=null===(g=null===(p=null===(u=null===(h=S.layouts)||void 0===h?void 0:h[w])||void 0===u?void 0:u.content)||void 0===p?void 0:p[y])||void 0===g?void 0:g.bbox;z=e&&{left:e.left,top:e.top}}const k=e&&e.appRuntimeInfo&&e.appRuntimeInfo.selection,D=k&&x&&x.widgetModules&&x.widgetModules.selectionInList(k,C,S,!1);let P;D&&(P=Object.keys(b).find(e=>r.searchUtils.findLayoutId(b[e],I,S.mainSizeMode)===k.layoutId));return{selectionIsSelf:!(!k||k.layoutId!==w||k.layoutItemId!==y),selectionIsInSelf:!!D,selectionStatus:P,appMode:null===(f=null==e?void 0:e.appRuntimeInfo)||void 0===f?void 0:f.appMode,browserSizeMode:e&&e.browserSizeMode,builderStatus:e&&e.widgetsState&&e.widgetsState[t.id]&&e.widgetsState[t.id].builderStatus||n.n.Regular,showLoading:null===(v=null===(m=null==e?void 0:e.widgetsState)||void 0===m?void 0:m[t.id])||void 0===v?void 0:v.showLoading,isRTL:e&&e.appContext&&e.appContext.isRTL,subLayoutType:M,left:z&&z.left,top:z&&z.top,isHeightAuto:R,isWidthAuto:L,queryObject:e.queryObject}};t.default=ze},5:function(e,t,i){"use strict";i.d(t,"i",(function(){return s})),i.d(t,"h",(function(){return o})),i.d(t,"e",(function(){return n})),i.d(t,"a",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return l})),i.d(t,"b",(function(){return d})),i.d(t,"k",(function(){return c})),i.d(t,"j",(function(){return h})),i.d(t,"m",(function(){return u})),i.d(t,"l",(function(){return p})),i.d(t,"f",(function(){return f})),i.d(t,"g",(function(){return b})),i.d(t,"n",(function(){return w}));const s=0,o=20,n=42,r=40,a=0,l=14,d=14,c=175,h=220;var u,p,g,f,m,v,S,b,w;!function(e){e.None="NONE",e.Single="SINGLE",e.Multiple="MULTIPLE"}(u||(u={})),function(e){e.Scroll="SCROLL",e.MultiPage="MULTIPAGE"}(p||(p={})),function(e){e.Start="FLEX-START",e.Center="CENTER",e.End="FLEX-END"}(g||(g={})),function(e){e.Horizon="HORIZON",e.Vertical="VERTICAL"}(f||(f={})),function(e){e.Glide="GLIDE",e.Fade="FADE",e.Float="FLOAT"}(m||(m={})),function(e){e.Hover0="HOVER0",e.Hover1="HOVER1",e.Hover2="HOVER2",e.Hover3="HOVER3"}(v||(v={})),function(e){e.Style0="STYLE0",e.Style1="STYLE1",e.Style2="STYLE2",e.Style3="STYLE3"}(S||(S={})),function(e){e.Style0="STYLE0",e.Style1="STYLE1",e.Style2="STYLE2",e.Style3="STYLE3",e.Style4="STYLE4",e.Style5="STYLE5",e.Style6="STYLE6",e.Style7="STYLE7"}(b||(b={})),function(e){e.Regular="REGULAR",e.Selected="SELECTED",e.Hover="HOVER"}(w||(w={}))},51:function(e,t){e.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M7.745 7l4.1 4.1a.527.527 0 01-.745.746L7 7.746l-4.1 4.1a.527.527 0 01-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 01.746-.746l4.1 4.1 4.1-4.1a.527.527 0 01.746.746L7.746 7z" fill="#000"></path><path d="M1 1h12v12H1z"></path></g></svg>'},61:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M9.521 5.47L3.981.162a.592.592 0 00-.813 0 .534.534 0 000 .779L8.448 6l-5.28 5.06a.534.534 0 000 .779.592.592 0 00.813 0l5.54-5.31a.726.726 0 000-1.058z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},63:function(e,t){e.exports='<svg viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path fill-rule="evenodd" clip-rule="evenodd" d="M.146 3.146a.5.5 0 01.708 0L6 8.5l5.146-5.354a.5.5 0 01.708.708l-5.5 5.707a.5.5 0 01-.708 0l-5.5-5.707a.5.5 0 010-.708z" fill="#000"></path></g><defs><clipPath id="clip0"><path fill="#fff" d="M0 0h12v12H0z"></path></clipPath></defs></svg>'},64:function(e,t){e.exports='<svg viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path fill-rule="evenodd" clip-rule="evenodd" d="M.146 9.56a.5.5 0 00.708 0L6 4.208l5.146 5.354a.5.5 0 00.708-.708l-5.5-5.707a.5.5 0 00-.708 0l-5.5 5.707a.5.5 0 000 .708z" fill="#000"></path></g><defs><clipPath id="clip0"><path fill="#fff" d="M0 0h12v12H0z"></path></clipPath></defs></svg>'},65:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M2.479 5.47L8.019.162a.592.592 0 01.813 0 .534.534 0 010 .779L3.552 6l5.28 5.06a.534.534 0 010 .779.592.592 0 01-.813 0l-5.54-5.31a.726.726 0 010-1.058z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},69:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14 8a.522.522 0 01-.516.527H3.976L7.473 12.1a.535.535 0 010 .746.508.508 0 01-.73 0L2 8l4.743-4.846a.508.508 0 01.73 0 .535.535 0 010 .746L3.976 7.473h9.508c.285 0 .516.236.516.527z" fill="#000" fill-rule="nonzero"></path></svg>'},7:function(e,t){e.exports=s},91:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7 1a6 6 0 100 12A6 6 0 007 1zm0 13a7 7 0 115.621-2.828l-.222.284 3.405 3.404a.668.668 0 01-.944.944L11.456 12.4A6.974 6.974 0 017 14z" fill="#000" fill-rule="evenodd"></path></svg>'},96:function(e,t){e.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.65 9.793c-.08-.782.547-1.46 1.35-1.46s1.43.678 1.35 1.46l-.525 5.144a.822.822 0 01-.825.73.822.822 0 01-.825-.73l-.526-5.144zM12 20.067c.828 0 1.5-.657 1.5-1.467s-.672-1.467-1.5-1.467-1.5.657-1.5 1.467.672 1.467 1.5 1.467z" fill="#FFC300"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M0 23L12 1l12 22H0zm2.5-1.467L12 4.117l9.5 17.416h-19z" fill="#FFC300"></path></svg>'},99:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M15 0v1.53h-.062L9.556 6.825v7.982a.5.5 0 01-.851.356l-2.26-2.224V6.818L1.07 1.53H1V0h14zm-1 1H2v.042l5.444 5.357v6.121l1.111 1.093V6.406L14 1.05V1z" fill="#C5C5C5" fill-rule="nonzero"></path><circle cx="3" cy="3" r="3" transform="translate(15 -5)" fill="#050505"></circle></g></svg>'}}))}}}));