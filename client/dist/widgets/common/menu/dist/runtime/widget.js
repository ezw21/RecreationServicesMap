System.register(["jimu-core","jimu-ui"],(function(e){var t,n;return{setters:[function(e){t=e},function(e){n=e}],execute:function(){e(function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=501)}({0:function(e,n){e.exports=t},1:function(e,t){e.exports=n},371:function(e,t){e.exports='<svg viewBox="0 0 10 12" xmlns="http://www.w3.org/2000/svg"><path d="M1 0h8a1 1 0 011 1v10a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1zm0 1v10h8V1H1zm2 2h4a.5.5 0 010 1H3a.5.5 0 010-1zm0 2.5h4a.5.5 0 010 1H3a.5.5 0 010-1z" fill="#000" fill-rule="nonzero"></path></svg>'},372:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M7.42 8.839a.5.5 0 010 .71L6 10.966a3.502 3.502 0 01-4.967 0 3.501 3.501 0 010-4.966l1.416-1.422a.504.504 0 01.713.712L1.746 6.713a2.497 2.497 0 00-.003 3.545c.983.983 2.56.98 3.544-.003l1.42-1.42a.504.504 0 01.712.004zm1.415-2.132l1.422-1.416a2.5 2.5 0 000-3.547 2.502 2.502 0 00-3.547 0L5.29 3.163a.504.504 0 01-.713-.712l1.42-1.42a3.506 3.506 0 014.97.003 3.501 3.501 0 010 4.967L9.547 7.42a.504.504 0 01-.713-.712zm-4.967.71l3.548-3.548a.504.504 0 01.713.713L4.58 8.129a.504.504 0 01-.713-.712z" fill-rule="nonzero"></path></svg>'},373:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M1 0h3a1 1 0 011 1v1h6a1 1 0 011 1v8a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1zm0 1v10h10V3H4V1H1zm0 3.5h10v1H1v-1z" fill="#000" fill-rule="nonzero"></path></svg>'},501:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(56);const i={type:"HORIZONTAL",subOpenMode:"FOLDABLE",main:{alignment:"center",space:{distance:0,unit:"px"},showText:!0,showIcon:!1,iconPosition:"start"},navType:"default",advanced:!1},a=e=>{var t,n,i,a,l,s,c;if(!e)return;const u=e,d=Object(o.Immutable)({}),v=u.type===r.a.Icon?"drawer":"nav",p=u.navType,m=u.type!==r.a.Horizontal,f=null==u?void 0:u.icon,g=null==u?void 0:u.drawerDirection,y=(b=u.type,h=u.subOpenMode,b===r.a.Horizontal?"dropdown":"EXPAND"===h?"static":"foldable");var b,h;const w=null===(t=null==u?void 0:u.main)||void 0===t?void 0:t.alignment,j=null===(n=null==u?void 0:u.main)||void 0===n?void 0:n.showText,O=null===(i=null==u?void 0:u.main)||void 0===i?void 0:i.showIcon,x=null===(a=null==u?void 0:u.main)||void 0===a?void 0:a.iconPosition,S=null!==(s=null===(l=null==u?void 0:u.main)||void 0===l?void 0:l.space)&&void 0!==s?s:{distance:0,unit:"px"},T={icon:f,anchor:g,submenuMode:y,textAlign:w,showIcon:O,showText:j,iconPosition:x,gap:`${null==S?void 0:S.distance}${null==S?void 0:S.unit}`},P=u.advanced,z=u.paper,I=((e,t)=>{if(!e)return;const n=null==e?void 0:e[t];if(!n)return;let o=n;return n.bg&&(o=o.setIn(["root","bg"],n.bg),o=o.without("bg")),o})(null===(c=null==u?void 0:u.main)||void 0===c?void 0:c.variants,u.navType);return d.set("type",v).set("menuStyle",p).set("vertical",m).set("standard",T).set("advanced",P).set("paper",z).set("variant",I)};class l extends o.BaseVersionManager{constructor(){super(...arguments),this.versions=[{version:"1.0.0",description:"The first release.",upgrader:e=>{var t;if(!e)return i;let n=e;return(null===(t=null==e?void 0:e.main)||void 0===t?void 0:t.variants)&&(n=n.set("advanced",!0)),n}},{version:"1.1.0",description:"Version manager for release 1.1",upgrader:e=>a(e||i)}]}}const s=new l;var c=n(1);const{useState:u,useEffect:d,useMemo:v}=o.React,{useSelector:p}=o.ReactRedux,m=Object(o.getAppStore)().getState().appContext.isRTL,f=n(371),g=n(372),y=n(373),b={[o.PageType.Normal]:f,[o.PageType.Link]:g,[o.PageType.Folder]:y},h=(e,t)=>(e=((e,t)=>(e=e.filter(e=>{const n=Object.keys(e)[0];return(null==t?void 0:t[n]).isVisible})).map(e=>{const n=Object.entries(e)[0],o=n[0];let r=n[1];return r=r.filter(e=>(null==t?void 0:t[e]).isVisible),e.set(o,r)}))(e,t)).map(e=>{const n=Object.entries(e)[0],o=n[0],r=n[1],i=t[o],a=w(i),l=r.map(e=>{const n=t[e];return w(n)});return a.set("subs",l)}),w=e=>{const t=j(e),n=O(e),r=e.icon||b[e.type];return Object(o.Immutable)({linkType:t,value:n,icon:"[object Object]"===Object.prototype.toString.call(r)?r:c.utils.toIconResult(r,e.type,16),target:e.openTarget,name:e.label})},j=e=>e.type===o.PageType.Link?o.LinkType.WebAddress:e.type===o.PageType.Normal?o.LinkType.Page:e.type===o.PageType.Folder?o.LinkType.None:void 0,O=e=>e.type===o.PageType.Link?e.linkUrl:e.type===o.PageType.Normal?e.id:e.type===o.PageType.Folder?"#":void 0,x=(e,t,n,r)=>v(()=>{var i;return e?o.css`
      .jimu-nav,
      &.jimu-nav {
        ${c.componentStyleUtils.nav.getRootStyles(null===(i=n)||void 0===i?void 0:i.root)};
        ${c.componentStyleUtils.nav.getVariantStyles(t,n,r,!m)};
        ${c.styleUtils.getButtonStyleByState(null==n?void 0:n.item,!0)}
      }
    `:o.css``},[e,t,n,r]);var S=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const T=e=>{var t,n;const[r,i]=o.React.useState(!1),{icon:a,anchor:l,advanced:s,type:u,variant:d,paper:p,vertical:m}=e,f=S(e,["icon","anchor","advanced","type","variant","paper","vertical"]),g=()=>i(e=>!e),y=((e,t,n)=>{var r,i;const a=null==n?void 0:n.bg,l=null===(i=null===(r=null==t?void 0:t.item)||void 0===r?void 0:r.default)||void 0===i?void 0:i.color;return v(()=>e?o.css`
      .paper {
        background: ${a};
        .header {
          color: ${l};
          padding: ${o.polished.rem(8)};
        }
      }
    `:o.css`
      .paper {
        .header {
          padding: ${o.polished.rem(8)};
        }
      }
    `,[e,a,l])})(s,d,p),b=x(s,u,d,!0),h=c.hooks.useCheckSmallBrowserSzieMode(),w=(e=>v(()=>e?o.css`
      & .jimu-nav-link-wrapper {
        text-overflow: ellipsis !important;
        white-space: nowrap;
        overflow: hidden !important;
      }
    `:o.css`
      &{
        min-width: ${o.polished.rem(240)};
        max-width: ${o.polished.rem(320)};
      }
      & .jimu-nav-link-wrapper {
        text-overflow: ellipsis !important;
        overflow: hidden !important;
        white-space: nowrap;
      }
    `,[e]))(h),j=o.ReactRedux.useSelector(e=>e.appRuntimeInfo.currentPageId);return o.React.useEffect(()=>{i(!1)},[j]),Object(o.jsx)(o.React.Fragment,null,Object(o.jsx)("div",{className:"button-container w-100 h-100 d-flex align-items-center justify-content-center"},Object(o.jsx)(c.Button,{icon:!0,type:"tertiary",onClick:g},Object(o.jsx)(c.Icon,{className:"caret-icon",icon:null==a?void 0:a.svg,color:null===(t=null==a?void 0:a.properties)||void 0===t?void 0:t.color,size:null===(n=null==a?void 0:a.properties)||void 0===n?void 0:n.size}))),Object(o.jsx)(c.Drawer,{anchor:l,open:r,toggle:g,autoFlip:!1,css:y},Object(o.jsx)(c.PanelHeader,{className:"header",onClose:g}),Object(o.jsx)(c.Navigation,Object.assign({className:h?"w-100":"menu-navigation",vertical:m,css:[w,b],type:u,showTitle:!0,isUseNativeTitle:!0,right:!0},f))))};var P=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const{useMemo:z}=o.React,I=e=>{const{type:t,menuStyle:n,vertical:r,standard:i,advanced:a,paper:l,variant:s}=e,v=(()=>{const[e,t]=u([]),n=p(e=>{var t;return null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.pages}),o=p(e=>{var t;return null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.pageStructure});return d(()=>{const e=h(o,n);t(e)},[n,o]),e})(),m=(()=>{const e=p(e=>{var t;return null===(t=null==e?void 0:e.appRuntimeInfo)||void 0===t?void 0:t.currentPageId});return o.React.useCallback(t=>(e=>{if(!(null==e?void 0:e.value))return"";const t=e.value.split(",");return(null==t?void 0:t.length)?t[0]:""})(t)===e,[e])})(),{icon:f,anchor:g}=i,y=P(i,["icon","anchor"]),b=(e=>p(t=>(null==t?void 0:t.browserSizeMode)===o.BrowserSizeMode.Small?"full":e))(g),w=(e=>z(()=>o.css`
      width: 100%;
      height: 100%;
      .nav-item {
        &.nav-link {
          width: ${e?"100%":"unset"};
          height: ${e?"unset":"100%"};
        }
      }
    `,[e]))(r),j=x(a,n,s,r);return Object(o.jsx)("div",{className:"menu-navigation",css:[w,j]},"nav"===t&&Object(o.jsx)(c.Navigation,Object.assign({data:v,vertical:r,isActive:m,showTitle:!0,isUseNativeTitle:!0,scrollable:!0},y,{type:n})),"drawer"===t&&Object(o.jsx)(T,Object.assign({data:v,advanced:a,variant:s,paper:l,type:n,vertical:r,isActive:m,scrollable:!1,icon:f,anchor:b},y)))},R=e=>{const{config:t}=e;return o.React.createElement("div",{className:"widget-menu jimu-widget"},o.React.createElement(I,Object.assign({},t)))};R.versionManager=s;t.default=R},56:function(e,t,n){"use strict";var o;n.d(t,"a",(function(){return o})),function(e){e.Icon="ICON",e.Vertical="VERTICAL",e.Horizontal="HORIZONTAL"}(o||(o={}))}}))}}}));