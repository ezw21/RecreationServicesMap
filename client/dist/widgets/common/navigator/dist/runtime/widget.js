System.register(["jimu-core","jimu-ui","jimu-layouts/layout-runtime"],(function(e){var t,n,o;return{setters:[function(e){t=e},function(e){n=e},function(e){o=e}],execute:function(){e(function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=524)}({0:function(e,n){e.exports=t},1:function(e,t){e.exports=n},108:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(0),i=n(1),l=n(43),r=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};const a=o.css`
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
`,s=e=>{const{data:t,progress:n=0,type:s,navStyle:u,vertical:d,advanced:c,variant:v,onChange:p,activeView:g,standard:f}=e,b=r(e,["data","progress","type","navStyle","vertical","advanced","variant","onChange","activeView","standard"]),{current:h,totalPage:w,showPageNumber:x,scrollable:y,disablePrevious:m,disableNext:I,previousText:S,previousIcon:j,nextText:O,nextIcon:T,showIcon:R,gap:P,alternateIcon:C,activedIcon:A,showText:M,showTitle:V,iconPosition:N,textAlign:k,hideThumb:B}=f||{},$=o.React.useRef(()=>{});o.React.useEffect(()=>($.current=o.lodash.throttle(e=>{let t=+e.target.value;t=Number((t/100).toFixed(2)),null==p||p("slider",t)},100),()=>{$.current.cancel()}),[p]);const E=o.React.useCallback(e=>g===Object(l.b)(e),[g]),U=Object(l.c)(s,u,c,v,d,B);return Object(o.jsx)("div",Object.assign({className:"navigation",css:[a,U]},b),"nav"===s&&Object(o.jsx)(i.Navigation,{vertical:d,isActive:E,scrollable:y,data:t,gap:P,type:u,showIcon:R,alternateIcon:C,activedIcon:A,showText:M,showTitle:V||M,isUseNativeTitle:!0,iconPosition:N,textAlign:k}),"slider"===s&&Object(o.jsx)(i.Slider,{className:"h-100",size:"sm",value:100*n,hideThumb:B,onChange:e=>{var t;null===(t=e.persist)||void 0===t||t.call(e),$.current(e)}}),"navButtonGroup"===s&&Object(o.jsx)(i.NavButtonGroup,{type:u,previousText:S,previousIcon:j,nextText:O,nextIcon:T,vertical:d,disablePrevious:m,disableNext:I,onChange:e=>{null==p||p("navButtonGroup",e)}},x&&Object(o.jsx)(i.PageNumber,{current:h,totalPage:w})))}},150:function(e,t){e.exports='<svg viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"><circle cx="1104" cy="1049" r="3" transform="translate(-1101 -1046)" fill="#000" fill-rule="nonzero"></circle></svg>'},374:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 1a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V2a1 1 0 00-1-1H2zm0-1h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm6 12.9a.8.8 0 110-1.6.8.8 0 010 1.6zM3.16 7l1.7 1.686a.474.474 0 010 .674.483.483 0 01-.68 0L2.14 7.337a.474.474 0 010-.674L4.18 4.64a.483.483 0 01.68 0 .474.474 0 010 .674L3.16 7zm9.68 0l-1.7-1.686a.474.474 0 010-.674.483.483 0 01.68 0l2.04 2.023a.474.474 0 010 .674L11.82 9.36a.483.483 0 01-.68 0 .474.474 0 010-.674L12.84 7zM5.4 12.9a.8.8 0 110-1.6.8.8 0 010 1.6zm5.2 0a.8.8 0 110-1.6.8.8 0 010 1.6z" fill-rule="nonzero"></path></svg>'},43:function(e,t,n){"use strict";n.d(t,"p",(function(){return h})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return x})),n.d(t,"l",(function(){return y})),n.d(t,"e",(function(){return m})),n.d(t,"o",(function(){return I})),n.d(t,"m",(function(){return S})),n.d(t,"n",(function(){return O})),n.d(t,"c",(function(){return T})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return M})),n.d(t,"i",(function(){return V})),n.d(t,"j",(function(){return N})),n.d(t,"k",(function(){return k})),n.d(t,"a",(function(){return B})),n.d(t,"h",(function(){return $}));var o=n(0),i=n(55),l=n(1),r=n(84),a=n(7);const{useEffect:s,useMemo:u,useCallback:d}=o.React,{useSelector:c,useDispatch:v}=o.ReactRedux,p=n(150),g=n(65),f=n(61),b=(e,t)=>(100*e+100*t)/100,h=e=>u(()=>o.css`
    overflow: hidden;
    min-height: ${e?o.polished.rem(16):"unset"};
    min-width: ${e?"unset":o.polished.rem(16)};
  `,[e]),w=e=>{if(!(null==e?void 0:e.value))return"";const t=e.value.split(",");return(null==t?void 0:t.length)?t[1]:""},x=e=>{const t=v(),n=c(t=>l.utils.isWidgetSelected(e,t)?t.appRuntimeInfo.appMode:null);l.hooks.useUpdateEffect(()=>{t(o.appActions.widgetStatePropChange(e,"showQuickStyle",!1))},[n,e])},y=(e,t)=>{const n=c(t=>{var n,o,i;return null===(i=null===(o=null===(n=null==t?void 0:t.appConfig)||void 0===n?void 0:n.sections)||void 0===o?void 0:o[e])||void 0===i?void 0:i.views}),{current:i}=o.React.useRef(Object(o.getAppStore)().getState().appContext.isInBuilder),r=l.hooks.useRefValue(t);s(()=>{var e;i&&(null===(e=r.current)||void 0===e||e.call(r,n))},[n,r,i])},m=(e,t)=>{const n=(e=>{const t=o.ReactRedux.useSelector(e=>{var t;return null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.layouts}),n=o.ReactRedux.useSelector(e=>{var t;return null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.sections}),i=o.ReactRedux.useSelector(e=>null==e?void 0:e.browserSizeMode);return o.React.useMemo(()=>{const t=Object(o.getAppStore)().getState().appConfig;return a.searchUtils.getContentsInTheSameContainer(t,e,o.LayoutItemType.Widget,o.LayoutItemType.Section,i)||[]},[e,i,n,t])})(e),i=l.hooks.useRefValue(t),{current:r}=o.React.useRef(Object(o.getAppStore)().getState().appContext.isInBuilder);s(()=>{var e;r&&(null===(e=i.current)||void 0===e||e.call(i,n))},[n,r,i])},I=e=>{const t=l.hooks.useWidgetSelected(e),n=v();l.hooks.useUpdateEffect(()=>{t||n(o.appActions.widgetStatePropChange(e,"showQuickStyle",!1))},[t,e])},S=e=>{const t=v();return d((n,i)=>{var l,r,a,s,u,d;const c=null===(l=Object(o.getAppStore)())||void 0===l?void 0:l.getState(),v=null===(a=null===(r=c.appConfig.sections)||void 0===r?void 0:r[e])||void 0===a?void 0:a.views,p=null===(u=null===(s=null==c?void 0:c.appRuntimeInfo)||void 0===s?void 0:s.sectionNavInfos)||void 0===u?void 0:u[e],g=null==p?void 0:p.currentViewId,f=null==p?void 0:p.visibleViews,h=null!==(d=null==p?void 0:p.progress)&&void 0!==d?d:0;let w=null;if(1===i)w=((e,t,n=Object(o.Immutable)([]),i)=>{let l=n.indexOf(t);l=-1===l?0:l;const r=n[e?Math.max(0,l-1):Math.min(n.length-1,l+1)];return Object(o.Immutable)({visibleViews:i}).set("previousViewId",t).set("currentViewId",r).set("useProgress",!1).set("progress",n.indexOf(r)/(n.length-1))})(n,g,v,f);else{const e=n?Math.max(b(h,-i/(v.length-1)),0):Math.min(b(h,i/(v.length-1)),1);w=j(e,v,f)}t(o.appActions.sectionNavInfoChanged(e,w))},[t,e])},j=(e,t=Object(o.Immutable)([]),n)=>{const i=Object(o.getIndexFromProgress)(e,t.length);return Object(o.Immutable)({visibleViews:n}).set("previousViewId",t[i.previousIndex]).set("currentViewId",t[i.currentIndex]).set("useProgress",!0).set("progress",e)},O=e=>{const t=v();return d(n=>{var i,l,r,a,s,u;const d=null===(i=Object(o.getAppStore)())||void 0===i?void 0:i.getState(),c=null===(r=null===(l=d.appConfig.sections)||void 0===l?void 0:l[e])||void 0===r?void 0:r.views,v=null===(u=null===(s=null===(a=d.appRuntimeInfo)||void 0===a?void 0:a.sectionNavInfos)||void 0===s?void 0:s[e])||void 0===u?void 0:u.visibleViews,p=j(n,c,v);t(o.appActions.sectionNavInfoChanged(e,p))},[t,e])},T=(e,t,n,i,l,r)=>u(()=>{var a,s,u;if(!n||!i)return o.css``;const d=null===(u=null===(s=null===(a=Object(o.getAppStore)())||void 0===a?void 0:a.getState())||void 0===s?void 0:s.appContext)||void 0===u?void 0:u.isRTL;return"nav"===e?R(t,i,l,d):"navButtonGroup"===e?P(i):"slider"===e?C(i,r,d):o.css``},[n,e,t,i,l,r]),R=(e,t,n,i)=>{var r;return o.css`
    .jimu-nav{
      ${l.componentStyleUtils.nav.getRootStyles(null===(r=t)||void 0===r?void 0:r.root)};
      ${l.componentStyleUtils.nav.getVariantStyles(e,t,n,i)};
      ${l.styleUtils.getButtonStyleByState(null==t?void 0:t.item,!0)}
    }
`},P=e=>o.css`
    .nav-button-group {
      ${l.componentStyleUtils.navButtonGroup.getVariantStyles(e)};
      ${l.styleUtils.getButtonStyleByState(null==e?void 0:e.item,!1)}
    }
 `,C=(e,t,n)=>o.css`
   > .jimu-slider {
    ${l.componentStyleUtils.slider.getRootStyles(null==e?void 0:e.root)};
    ${l.componentStyleUtils.slider.getVariantStyles(e,t,n)};
   }
 `,A=(e,t)=>d(n=>{var i;const l=Object(o.getAppStore)().getState().appConfig.widgets[e].config,r=null===(i=null==l?void 0:l.data)||void 0===i?void 0:i.section;if(-1===(null==n?void 0:n.indexOf(r))){if(!r&&!(null==n?void 0:n[0]))return;t().editWidgetProperty(e,"config",l.setIn(["data","section"],null==n?void 0:n[0])).exec(!1)}},[t,e]),M=(e,t)=>d(n=>{var l,r,a,s,u,d;const c=Object(o.getAppStore)().getState().appConfig.widgets[e].config,v=(null===(l=null==c?void 0:c.data)||void 0===l?void 0:l.type)===i.a.Custom?null===(a=null===(r=null==c?void 0:c.data)||void 0===r?void 0:r.views)||void 0===a?void 0:a.filter(e=>(null==n?void 0:n.indexOf(e))>-1):n;((null==v?void 0:v.length)||(null===(u=null===(s=null==c?void 0:c.data)||void 0===s?void 0:s.views)||void 0===u?void 0:u.length))&&(o.lodash.isDeepEqual(v,null===(d=null==c?void 0:c.data)||void 0===d?void 0:d.views)||t().editWidgetProperty(e,"config",c.setIn(["data","views"],v)).exec(!1))},[t,e]),V=e=>{const t=c(e=>e.appConfig.views),n=c(e=>{const t=e.appConfig.pages,n=Object.keys(t).find(e=>{var n;return null===(n=null==t?void 0:t[e])||void 0===n?void 0:n.isDefault});return e.appRuntimeInfo.currentPageId||n});return o.React.useMemo(()=>{var i;return null!==(i=null==e?void 0:e.map(e=>{var i;return{name:null===(i=null==t?void 0:t[e])||void 0===i?void 0:i.label,linkType:o.LinkType.View,value:`${n},${e}`}}))&&void 0!==i?i:Object(o.Immutable)([])},[n,t,e])},N=(e,t,n)=>{const l=c(t=>{var n,o,i;return null===(i=null===(o=null===(n=null==t?void 0:t.appConfig)||void 0===n?void 0:n.sections)||void 0===o?void 0:o[e])||void 0===i?void 0:i.views});return o.React.useMemo(()=>{const e=((n===i.a.Custom?t:l)||Object(o.Immutable)([])).asMutable();return e.sort((e,t)=>(null==l?void 0:l.indexOf(e))-(null==l?void 0:l.indexOf(t))),Object(o.Immutable)(e)},[t,l,n])},k=e=>{const t=l.hooks.useWidgetSelected(e),n=v();s(()=>{t&&n(o.appActions.widgetStatePropChange(e,"showQuickStyle",!0))},[])},B=e=>{var t,n;const{type:o,navStyle:i}=e||{},{showIcon:l,showText:r,alternateIcon:a,showPageNumber:s}=null!==(t=null==e?void 0:e.standard)&&void 0!==t?t:{};if("nav"===e.type){const{filename:e}=null!==(n=null==a?void 0:a.properties)&&void 0!==n?n:{};return`${o}-${i}-${l?"showIcon":"hideIcon"}-${r?"showText":"hideText"}-icon-${e}`}if("navButtonGroup"===o)return`${o}-${i}-${s?"showPageNumber":""}`},$=e=>{const t=l.hooks.useTranslate(l.defaultMessages,r.a);return u(()=>{if(e)return[{label:t("tabDefault"),type:"nav",navStyle:"default",standard:{gap:"0px",scrollable:!0,showIcon:!1,showText:!0,iconPosition:"start",textAlign:l.TextAlignValue.CENTER}},{label:t("tabUnderline"),type:"nav",navStyle:"underline",standard:{gap:"0px",scrollable:!0,showIcon:!1,showText:!0,iconPosition:"start",textAlign:l.TextAlignValue.CENTER}},{label:t("tabPills"),type:"nav",navStyle:"pills",standard:{gap:"0px",scrollable:!0,showIcon:!1,showText:!0,iconPosition:"start",textAlign:l.TextAlignValue.CENTER}},{label:t("symbol"),type:"nav",navStyle:"default",standard:{scrollable:!1,gap:"10px",showIcon:!0,alternateIcon:l.utils.toIconResult(p,"dot-6",8),activedIcon:l.utils.toIconResult(p,"dot-10",8),showText:!1,iconPosition:"start",textAlign:l.TextAlignValue.CENTER}},{label:t("slider"),type:"slider",navStyle:"default"},{label:t("arrow1"),type:"navButtonGroup",navStyle:"default",standard:{showPageNumber:!0,previousText:"",previousIcon:l.utils.toIconResult(g,"left-arrow-12",12),nextText:"",nextIcon:l.utils.toIconResult(f,"right-arrow-12",12)}},{label:t("arrow2"),type:"navButtonGroup",navStyle:"tertiary",standard:{previousText:t("prev"),previousIcon:l.utils.toIconResult(g,"left-arrow-12",12),nextText:t("next"),nextIcon:l.utils.toIconResult(f,"right-arrow-12",12)}},{label:t("arrow3"),type:"navButtonGroup",navStyle:"tertiary",standard:{showPageNumber:!0,previousText:"",previousIcon:l.utils.toIconResult(g,"left-arrow-12",12),nextText:"",nextIcon:l.utils.toIconResult(f,"right-arrow-12",12)}}]},[t,e])}},524:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n(55),l=n(1),r=n(84);const a=n(374),s=e=>{const{widgetId:t,show:n}=e,i=l.hooks.useTranslate(r.a);return n?o.React.createElement(l.WidgetPlaceholder,{icon:a,widgetId:t,message:i("placeholder")}):null};var u=n(108);const d={data:{type:"AUTO",section:"",views:[]},display:{advanced:!1,vertical:!1,navType:"default",alignment:"center",showText:!0,showIcon:!1,iconPosition:"start"}};class c extends o.BaseVersionManager{constructor(){super(...arguments),this.versions=[{version:"1.0.0",description:"Version manager for release 1.0.0",upgrader:e=>{var t;if(!e)return d;let n=e;return(null===(t=null==e?void 0:e.display)||void 0===t?void 0:t.variants)&&(n=n.setIn(["display","advanced"],!0)),n}},{version:"1.1.0",description:"Version manager for release 1.1.0",upgrader:e=>(e=>{const t=e;if(!e)return;const n=t.display;if(!n)return e;let i=Object(o.Immutable)({});const l=((e,t)=>{if(!e)return;const n=null==e?void 0:e[t];if(!n)return;let o=n;return n.bg&&(o=o.setIn(["root","bg"],n.bg),o=o.without("bg")),o})(n.variants,n.navType);return i=i.set("type","nav").set("vertical",n.vertical).set("advanced",n.advanced).set("navStyle",n.navType).set("standard",{scrollable:!0,textAlign:n.alignment,showText:n.showText,showIcon:n.showIcon,iconPosition:n.iconPosition}).set("variant",l),t.set("display",i)})(e||d)}]}}const v=new c;var p=n(43);const{useRef:g,useEffect:f,useState:b}=o.React,{useSelector:h,useDispatch:w}=o.ReactRedux,x=e=>{var t,n,r,a,d;const{id:c,config:v,builderSupportModules:x}=e,y=w(),m=null===(t=null==x?void 0:x.jimuForBuilderLib)||void 0===t?void 0:t.getAppConfigAction,I=g(null),{current:S}=g(null===(r=null===(n=Object(o.getAppStore)().getState())||void 0===n?void 0:n.appContext)||void 0===r?void 0:r.isInBuilder),j=h(e=>{var t,n;return null===(n=null===(t=null==e?void 0:e.widgetsState)||void 0===t?void 0:t[c])||void 0===n?void 0:n.showQuickStyle}),O=Object(p.h)(S),T=null==v?void 0:v.display,R=null==v?void 0:v.data,P=null==T?void 0:T.standard,C=null==R?void 0:R.type,A=null==R?void 0:R.section,M=null!==(a=null==P?void 0:P.step)&&void 0!==a?a:1,[V,N]=b(!1),k=h(e=>{var t,n,o,i;return null===(i=null===(o=null===(n=null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.sections)||void 0===n?void 0:n[A])||void 0===o?void 0:o.views)||void 0===i?void 0:i[0]}),B=h(e=>{var t,n;return null===(n=null===(t=null==e?void 0:e.appRuntimeInfo)||void 0===t?void 0:t.sectionNavInfos)||void 0===n?void 0:n[A]}),$=Object(p.j)(A,null==R?void 0:R.views,C),E=Object(p.i)($),U=null==B?void 0:B.progress,z=null==B?void 0:B.useProgress,L=null!==(d=null==B?void 0:B.currentViewId)&&void 0!==d?d:k,G=Object(p.p)(null==T?void 0:T.vertical),W=o.React.useMemo(()=>{const e=((e,t,n,o)=>{var i,l;let r,a;const s=null!==(i=null==o?void 0:o.length)&&void 0!==i?i:0;let u=(null==o?void 0:o.indexOf(e))<0?0:null==o?void 0:o.indexOf(e);if(u+=1,n){let e=0;const n=null!==(l=null==o?void 0:o.length)&&void 0!==l?l:0;if(n>1){e=t*(n-1);const o=e%1;e=Math.floor(e),r=0===e&&0===o,a=e===s-1&&0===o}}else r=u<=1,a=u===s;return{current:u,totalPage:s,disableNext:a,disablePrevious:r}})(L,U,z,$);return Object.assign(Object.assign({},P),e)},[L,U,P,z,$]),_=o.React.useCallback(()=>{y(o.appActions.widgetStatePropChange(c,"showQuickStyle",!1))},[y,c]);Object(p.d)(c),Object(p.o)(c),Object(p.k)(c);const D=Object(p.f)(c,m);Object(p.e)(c,D);const Q=Object(p.g)(c,m);Object(p.l)(A,Q);const H=Object(p.m)(A),F=Object(p.n)(A),q=l.hooks.useEventCallback((e,t)=>{"navButtonGroup"===e?H(t,M):"slider"===e&&F(t)});f(()=>{V||N(!0)},[]);const J=null==x?void 0:x.widgetModules.NavQuickStyle;return Object(o.jsx)("div",{className:"widget-view-navigation jimu-widget",css:G,ref:I},Object(o.jsx)(s,{widgetId:c,show:!E.length}),Object(o.jsx)(u.a,Object.assign({data:E,activeView:L,progress:U,onChange:q},T,{standard:W})),V&&J&&Object(o.jsx)(J,{templates:O,display:null==v?void 0:v.display,onChange:e=>{if(!m)return;const t=Object(o.Immutable)(e).set("vertical",!1).set("advanced",!1).set("variant",null);m().editWidgetProperty(c,"config",v.setIn(["data","type"],i.a.Auto).set("display",t)).exec()},onClose:_,open:j,reference:I.current}))};x.versionManager=v;t.default=x},55:function(e,t,n){"use strict";var o;n.d(t,"a",(function(){return o})),function(e){e.Auto="AUTO",e.Custom="CUSTOM"}(o||(o={}))},61:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M9.521 5.47L3.981.162a.592.592 0 00-.813 0 .534.534 0 000 .779L8.448 6l-5.28 5.06a.534.534 0 000 .779.592.592 0 00.813 0l5.54-5.31a.726.726 0 000-1.058z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},65:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M2.479 5.47L8.019.162a.592.592 0 01.813 0 .534.534 0 010 .779L3.552 6l5.28 5.06a.534.534 0 010 .779.592.592 0 01-.813 0l-5.54-5.31a.726.726 0 010-1.058z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},7:function(e,t){e.exports=o},84:function(e,t,n){"use strict";t.a={_widgetLabel:"Views Navigation",placeholder:"Please add a Section to use this widget.",tabDefault:"Tab default",tabUnderline:"Tab underline",tabPills:"Tab pills",arrow1:"Arrow 1",arrow2:"Arrow 2",arrow3:"Arrow 3"}}}))}}}));